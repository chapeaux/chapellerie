{"version":3,"file":"pfe-navigation.umd.js","sources":["../_temp/pfe-navigation.umd.js"],"sourcesContent":["/*!\n * PatternFly Elements: PfeNavigation 1.0.59\n * @license\n * Copyright 2020 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../../pfelement/dist/pfelement\";\nimport \"../../pfe-icon/dist/pfe-icon\";\nimport \"../../pfe-avatar/dist/pfe-avatar\";\n\n/**\n * Debounce helper function\n * @see https://davidwalsh.name/javascript-debounce-function\n *\n * @param {function} func Function to be debounced\n * @param {number} delay How long until it will be run\n * @param {boolean} immediate Whether it should be run at the start instead of the end of the debounce\n */\nfunction debounce(func, delay, immediate = false) {\n  var timeout;\n  return function () {\n    var context = this,\n      args = arguments;\n    var later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, delay);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nconst _isCrustyBrowser = () => window.ShadyCSS && !window.ShadyCSS.nativeShadow;\n\n// Config for mutation observer to see if things change inside of the component\nconst lightDomObserverConfig = {\n  characterData: true,\n  attributes: true,\n  subtree: true,\n  childList: true,\n};\n\nclass PfeNavigation extends PFElement {\n\n  // Injected at build-time\n  static get version() {\n    return \"1.0.59\";\n  }\n\n  // Injected at build-time\n  get html() {\n    return `\n<style>.element-invisible,.sr-only,.visually-hidden{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}*,:after,:before{-webkit-box-sizing:border-box;box-sizing:border-box}:host{display:block;position:relative;z-index:98;z-index:var(--pfe-theme--zindex--navigation,98)}:host([hidden]){display:none}[hidden]{display:none!important}nav.pfe-navigation{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch}.pfe-navigation__overlay{display:block;background:rgba(21,21,21,.5);background:var(--pfe-navigation--overlay--Background,rgba(21,21,21,.5));position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1}.pfe-navigation__overlay[hidden]{display:none}.pfe-navigation__wrapper{position:relative;z-index:98;z-index:var(--pfe-navigation--ZIndex,var(--pfe-theme--zindex--navigation,98));display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);line-height:1.5;font-family:Red Hat Text,RedHatText,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamily,Red Hat Text,RedHatText,Arial,Helvetica,sans-serif);color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));background:#151515;background:var(--pfe-navigation__nav-bar--Background,#151515);max-width:9999em;margin:0;padding:0 16px}@media (min-width:768px){.pfe-navigation__wrapper{max-width:9999em;margin:0;padding:0 16px}}@media (min-width:1200px){.pfe-navigation__wrapper{margin:0 auto;padding:0 32px}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__wrapper{max-width:9999em;margin:0;padding:0 16px}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__wrapper{max-width:9999em;margin:0;padding:0 16px}.pfe-navigation__wrapper a{text-decoration:none}.pfe-navigation__wrapper button{font-family:inherit}.pfe-navigation__logo-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;margin:0;padding:10px 16px 10px 0}.pfe-navigation__logo-link{position:relative;display:block;padding:6px 8px;margin-left:-8px;outline:0;border-radius:3px}.pfe-navigation__logo-link:focus{outline:0}.pfe-navigation__logo-link:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed #fff}.pfe-navigation__logo-image,.pfe-navigation__logo-link img,.pfe-navigation__logo-link svg{display:block;width:auto;height:40px}@media print{.pfe-navigation__logo-image,.pfe-navigation__logo-link img,.pfe-navigation__logo-link svg{display:none}}.pfe-navigation__logo-image:only-child,.pfe-navigation__logo-link img:only-child,.pfe-navigation__logo-link svg:only-child{display:block}.pfe-navigation__logo-image.pfe-navigation__logo-image--small,.pfe-navigation__logo-link img.pfe-navigation__logo-image--small,.pfe-navigation__logo-link svg.pfe-navigation__logo-image--small{height:32px}@media print{.pfe-navigation__logo-image.pfe-navigation__logo-image--screen,.pfe-navigation__logo-link img.pfe-navigation__logo-image--screen,.pfe-navigation__logo-link svg.pfe-navigation__logo-image--screen{display:none!important}}@media screen{.pfe-navigation__logo-image.pfe-navigation__logo-image--print,.pfe-navigation__logo-link img.pfe-navigation__logo-image--print,.pfe-navigation__logo-link svg.pfe-navigation__logo-image--print{display:none!important}}.pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print,.pfe-navigation__logo-link img.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print,.pfe-navigation__logo-link svg.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print{display:inline-block!important}.pfe-navigation__account-toggle,.pfe-navigation__log-in-link,.pfe-navigation__menu-toggle,.pfe-navigation__search-toggle{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:100%;margin:0;padding:8px 24px;border:0;white-space:nowrap;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));text-align:center;text-decoration:none;background:0 0;outline:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer}@media print{.pfe-navigation__account-toggle,.pfe-navigation__log-in-link,.pfe-navigation__menu-toggle,.pfe-navigation__search-toggle{display:none!important}}@media (min-width:768px){.pfe-navigation__account-toggle,.pfe-navigation__log-in-link,.pfe-navigation__menu-toggle,.pfe-navigation__search-toggle{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;width:auto;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);padding:14px 8px;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);color:var(--pfe-navigation__nav-bar--link--Color)}@supports (display:grid){.pfe-navigation__account-toggle,.pfe-navigation__log-in-link,.pfe-navigation__menu-toggle,.pfe-navigation__search-toggle{display:-ms-grid;display:grid;-ms-grid-rows:24px 18px;grid-template-rows:24px 18px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;justify-items:center}}.pfe-navigation__account-toggle[class]:focus,.pfe-navigation__account-toggle[class]:hover,.pfe-navigation__log-in-link[class]:focus,.pfe-navigation__log-in-link[class]:hover,.pfe-navigation__menu-toggle[class]:focus,.pfe-navigation__menu-toggle[class]:hover,.pfe-navigation__search-toggle[class]:focus,.pfe-navigation__search-toggle[class]:hover{-webkit-box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;-webkit-box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation__account-toggle:focus,.pfe-navigation__account-toggle:hover,.pfe-navigation__log-in-link:focus,.pfe-navigation__log-in-link:hover,.pfe-navigation__menu-toggle:focus,.pfe-navigation__menu-toggle:hover,.pfe-navigation__search-toggle:focus,.pfe-navigation__search-toggle:hover{-webkit-box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 #06c;-webkit-box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){.pfe-navigation__account-toggle:focus,.pfe-navigation__account-toggle:hover,.pfe-navigation__log-in-link:focus,.pfe-navigation__log-in-link:hover,.pfe-navigation__menu-toggle:focus,.pfe-navigation__menu-toggle:hover,.pfe-navigation__search-toggle:focus,.pfe-navigation__search-toggle:hover{-webkit-box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;-webkit-box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle:hover,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link:hover,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle:hover,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__search-toggle:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__search-toggle:hover{-webkit-box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 #06c;-webkit-box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}.pfe-navigation__account-toggle:focus,.pfe-navigation__log-in-link:focus,.pfe-navigation__menu-toggle:focus,.pfe-navigation__search-toggle:focus{outline:0}.pfe-navigation__account-toggle:focus:after,.pfe-navigation__log-in-link:focus:after,.pfe-navigation__menu-toggle:focus:after,.pfe-navigation__search-toggle:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}.pfe-navigation__account-toggle .secondary-link__icon-wrapper,.pfe-navigation__account-toggle>pfe-icon,.pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation__log-in-link>pfe-icon,.pfe-navigation__menu-toggle .secondary-link__icon-wrapper,.pfe-navigation__menu-toggle>pfe-icon,.pfe-navigation__search-toggle .secondary-link__icon-wrapper,.pfe-navigation__search-toggle>pfe-icon{--pfe-icon--color:currentColor;--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){.pfe-navigation__account-toggle .secondary-link__icon-wrapper,.pfe-navigation__account-toggle>pfe-icon,.pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation__log-in-link>pfe-icon,.pfe-navigation__menu-toggle .secondary-link__icon-wrapper,.pfe-navigation__menu-toggle>pfe-icon,.pfe-navigation__search-toggle .secondary-link__icon-wrapper,.pfe-navigation__search-toggle>pfe-icon{padding-right:0}}@media (min-width:768px){.pfe-navigation__account-toggle .secondary-link__icon-wrapper,.pfe-navigation__account-toggle>pfe-icon,.pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation__log-in-link>pfe-icon,.pfe-navigation__menu-toggle .secondary-link__icon-wrapper,.pfe-navigation__menu-toggle>pfe-icon,.pfe-navigation__search-toggle .secondary-link__icon-wrapper,.pfe-navigation__search-toggle>pfe-icon{padding:2px 0 4px}}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle .secondary-link__icon-wrapper,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle>pfe-icon,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link .secondary-link__icon-wrapper,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link>pfe-icon,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle .secondary-link__icon-wrapper,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle>pfe-icon,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__search-toggle .secondary-link__icon-wrapper,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__search-toggle>pfe-icon{padding:0 16px 0 0}.pfe-navigation__account-toggle pfe-icon,.pfe-navigation__log-in-link pfe-icon,.pfe-navigation__menu-toggle pfe-icon,.pfe-navigation__search-toggle pfe-icon{display:block;height:18px}.pfe-navigation__menu-toggle[class]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;width:auto;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);padding:14px 8px;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);color:var(--pfe-navigation__nav-bar--link--Color);display:flex;margin:0 8px 0 auto;-webkit-box-shadow:none;box-shadow:none;position:relative;min-width:50px}@supports (display:grid){.pfe-navigation__menu-toggle[class]{display:-ms-grid;display:grid;-ms-grid-rows:24px 18px;grid-template-rows:24px 18px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;justify-items:center}}.pfe-navigation__menu-toggle[class][class]:focus,.pfe-navigation__menu-toggle[class][class]:hover{-webkit-box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;-webkit-box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}.pfe-navigation__menu-toggle[class][class]{background:0 0;color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff))}.pfe-navigation__menu-toggle[class]:focus{outline:0}.pfe-navigation__menu-toggle[class]:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}@media (min-width:768px){.pfe-navigation__menu-toggle[class]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 auto 0 0}}@media (min-width:1200px){.pfe-navigation__menu-toggle[class]{display:none}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-toggle[class]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 auto 0 0}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle[class]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;width:auto;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);padding:14px 8px;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);color:var(--pfe-navigation__nav-bar--link--Color);display:flex;margin:0 8px 0 auto}@supports (display:grid){:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle[class]{display:-ms-grid;display:grid;-ms-grid-rows:24px 18px;grid-template-rows:24px 18px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;justify-items:center}}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle[class][class]:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle[class][class]:hover{-webkit-box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;-webkit-box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}[open-toggle=mobile__button] .pfe-navigation__menu-toggle[class][class],[open-toggle^=main-menu__] .pfe-navigation__menu-toggle[class][class]{-webkit-box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;-webkit-box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}[open-toggle=mobile__button] .pfe-navigation__menu-toggle[class][class][class],[open-toggle^=main-menu__] .pfe-navigation__menu-toggle[class][class][class]{color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff))}[open-toggle=mobile__button] .pfe-navigation__menu-toggle[class][class]:focus,[open-toggle^=main-menu__] .pfe-navigation__menu-toggle[class][class]:focus{outline:0}[open-toggle=mobile__button] .pfe-navigation__menu-toggle[class][class]:focus:after,[open-toggle^=main-menu__] .pfe-navigation__menu-toggle[class][class]:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class],[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]{-webkit-box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;-webkit-box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class][class],[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class][class]{color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff))}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus,[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus{outline:0}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus:after,[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}@media (min-width:768px){[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class],[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]{-webkit-box-shadow:none;box-shadow:none}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class][class],[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class][class]{background:0 0;color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff))}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus,[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus{outline:0}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus:after,[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}}:host(.pfe-navigation--collapse-secondary-links) [open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class],:host(.pfe-navigation--collapse-secondary-links) [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]{-webkit-box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;-webkit-box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}:host(.pfe-navigation--collapse-secondary-links) [open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class][class],:host(.pfe-navigation--collapse-secondary-links) [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class][class]{color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff))}:host(.pfe-navigation--collapse-secondary-links) [open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus,:host(.pfe-navigation--collapse-secondary-links) [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus{outline:0}:host(.pfe-navigation--collapse-secondary-links) [open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus:after,:host(.pfe-navigation--collapse-secondary-links) [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}.pfe-navigation__burger-icon{position:absolute;top:25px;left:calc(50% - 9px);-webkit-transform:scale(.25) translateX(1px);transform:scale(.25) translateX(1px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform .3s cubic-bezier(.55,.085,0,.99);transition:-webkit-transform .3s cubic-bezier(.55,.085,0,.99);transition:transform .3s cubic-bezier(.55,.085,0,.99);transition:transform .3s cubic-bezier(.55,.085,0,.99),-webkit-transform .3s cubic-bezier(.55,.085,0,.99);-webkit-backface-visibility:hidden;backface-visibility:hidden}[aria-expanded=true] .pfe-navigation__burger-icon{-webkit-transform:scale(.25) translateX(5px);transform:scale(.25) translateX(5px);-webkit-transform-origin:left top;transform-origin:left top}.pfe-navigation__burger-icon:after,.pfe-navigation__burger-icon:before{content:'';position:absolute;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;width:72px}.pfe-navigation__burger-icon:before{height:0;border-top:8px solid currentColor;background:currentColor;-webkit-transform:translateY(-28px);transform:translateY(-28px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform .3s cubic-bezier(.55,.085,0,.99);transition:-webkit-transform .3s cubic-bezier(.55,.085,0,.99);transition:transform .3s cubic-bezier(.55,.085,0,.99);transition:transform .3s cubic-bezier(.55,.085,0,.99),-webkit-transform .3s cubic-bezier(.55,.085,0,.99)}[aria-expanded=true] .pfe-navigation__burger-icon:before{border-color:currentColor;-webkit-transform:translateY(-32px) rotate(45deg) scaleX(1) translateX(12px);transform:translateY(-32px) rotate(45deg) scaleX(1) translateX(12px);-webkit-transform-origin:left top;transform-origin:left top}.pfe-navigation__burger-icon:after{height:36px;border:8px solid currentColor;border-width:8px 0 8px 0;-webkit-transition:border .3s cubic-bezier(.55,.085,0,.99),-webkit-transform .3s cubic-bezier(.55,.085,0,.99);transition:border .3s cubic-bezier(.55,.085,0,.99),-webkit-transform .3s cubic-bezier(.55,.085,0,.99);transition:border .3s cubic-bezier(.55,.085,0,.99),transform .3s cubic-bezier(.55,.085,0,.99);transition:border .3s cubic-bezier(.55,.085,0,.99),transform .3s cubic-bezier(.55,.085,0,.99),-webkit-transform .3s cubic-bezier(.55,.085,0,.99);-webkit-transform-origin:left bottom;transform-origin:left bottom}[aria-expanded=true] .pfe-navigation__burger-icon:after{-webkit-transform:translateY(4px) rotate(-45deg) scaleX(1) translateX(12px);transform:translateY(4px) rotate(-45deg) scaleX(1) translateX(12px);border-top-color:transparent;border-bottom-color:currentColor;-webkit-transform-origin:left bottom;transform-origin:left bottom}[id=mobile__button-text]{position:absolute;bottom:17px;left:0;right:0}.pfe-navigation__mobile-dropdown[class][class][class]{position:absolute;top:100%;left:0;display:none;width:100%;height:calc(100vh - 72px);height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px));margin:0;padding:16px 32px;padding:var(--pfe-navigation__mobile-dropdown--PaddingVertical,16px) var(--pfe-navigation__mobile-dropdown--PaddingHorizontal,32px);overflow-x:hidden;overflow-y:auto;background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff))}@media (min-width:768px){.pfe-navigation__mobile-dropdown[class][class][class]{height:auto}}@media (min-width:1200px){.pfe-navigation__mobile-dropdown[class][class][class]{overflow:visible}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__mobile-dropdown[class][class][class]{overflow-y:auto}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__mobile-dropdown[class][class][class]{height:calc(100vh - 72px);height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px))}[open-toggle=mobile__button] .pfe-navigation__mobile-dropdown[class][class][class],[open-toggle^=main-menu__] .pfe-navigation__mobile-dropdown[class][class][class]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}[open-toggle=secondary-links__button--search] .pfe-navigation__mobile-dropdown[class][class][class],[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__mobile-dropdown[class][class][class]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}@media (min-width:768px){[open-toggle=secondary-links__button--search] .pfe-navigation__mobile-dropdown[class][class][class],[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__mobile-dropdown[class][class][class]{display:none}}:host(.pfe-navigation--collapse-secondary-links) [open-toggle=secondary-links__button--search] .pfe-navigation__mobile-dropdown[class][class][class],:host(.pfe-navigation--collapse-secondary-links) [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__mobile-dropdown[class][class][class]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}@media (min-width:768px){.pfe-navigation__outer-menu-wrapper,.pfe-navigation__outer-menu-wrapper__inner{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch}}@media (min-width:1200px){.pfe-navigation__outer-menu-wrapper,.pfe-navigation__outer-menu-wrapper__inner{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__outer-menu-wrapper,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__outer-menu-wrapper__inner{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__outer-menu-wrapper,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__outer-menu-wrapper__inner{display:block}.pfe-navigation__outer-menu-wrapper{height:auto}@media (min-width:1200px){.pfe-navigation__outer-menu-wrapper{height:72px;height:var(--pfe-navigation__nav-bar--Height,72px)}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__outer-menu-wrapper{height:auto}:host(:not([open-toggle])) .pfe-navigation--is-resizing .pfe-navigation__outer-menu-wrapper{overflow:hidden}.pfe-navigation__outer-menu-wrapper__inner{width:100%;-webkit-transition:-webkit-transform .25s ease-in-out;transition:-webkit-transform .25s ease-in-out;transition:transform .25s ease-in-out;transition:transform .25s ease-in-out,-webkit-transform .25s ease-in-out}@media (prefers-reduced-motion){.pfe-navigation__outer-menu-wrapper__inner{-webkit-transition:none;transition:none}}:host([mobile-slide]) .pfe-navigation__outer-menu-wrapper__inner{position:relative;-webkit-transform:translate(-100vw);transform:translate(-100vw)}@media (min-width:768px){:host([mobile-slide]) .pfe-navigation__outer-menu-wrapper__inner{position:static;-webkit-transform:none;transform:none}}:host(.pfe-navigation--collapse-secondary-links) :host([mobile-slide]) .pfe-navigation__outer-menu-wrapper__inner{position:relative;-webkit-transform:translate(-100vw);transform:translate(-100vw)}.pfe-navigation__menu-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}@media (min-width:1200px){.pfe-navigation__menu-wrapper{margin-right:auto}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-wrapper{margin-right:0}.pfe-navigation__menu,.pfe-navigation__menu ul{list-style:none;margin:0;padding:0}.pfe-navigation__menu{width:100%;-webkit-transition:opacity .1s ease-out;transition:opacity .1s ease-out}@media print{.pfe-navigation__menu{display:none!important}}@media (min-width:1200px){.pfe-navigation__menu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch;width:auto}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu{display:block;width:100%}.pfe-navigation--is-resizing .pfe-navigation__menu{opacity:0}.pfe-navigation__menu-item{border-top:1px solid #d2d2d2;border-top:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2))}@media (min-width:1200px){.pfe-navigation__menu-item{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch;padding:0 4px;border:none}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-item{display:block;padding:0;border-top:1px solid #d2d2d2;border-top:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2))}.pfe-navigation__menu-item:last-child{border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2))}@media (min-width:1200px){.pfe-navigation__menu-item:last-child{border:0}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-item:last-child{border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2))}.pfe-navigation__menu-item--open{-webkit-box-shadow:inset 4px 0 0 0 #06c,0 1px 2px rgba(0,0,0,.12);box-shadow:inset 4px 0 0 0 #06c,0 1px 2px rgba(0,0,0,.12);-webkit-box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c)),var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12));box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c)),var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12))}@media (min-width:1200px){.pfe-navigation__menu-item--open{-webkit-box-shadow:none;box-shadow:none}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-item--open{-webkit-box-shadow:inset 4px 0 0 0 #06c,0 1px 2px rgba(0,0,0,.12);box-shadow:inset 4px 0 0 0 #06c,0 1px 2px rgba(0,0,0,.12);-webkit-box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c)),var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12));box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c)),var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12))}.pfe-navigation__menu-link{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:100%;margin:0;padding:8px 24px;border:0;white-space:nowrap;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));text-align:center;text-decoration:none;background:0 0;outline:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;position:relative}@media print{.pfe-navigation__menu-link{display:none!important}}.pfe-navigation__menu-link:focus,.pfe-navigation__menu-link:hover{-webkit-box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 #06c;-webkit-box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:1200px){.pfe-navigation__menu-link:focus,.pfe-navigation__menu-link:hover{-webkit-box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;-webkit-box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link:focus,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link:hover{-webkit-box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 #06c;-webkit-box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}.pfe-navigation__menu-link:focus{outline:0}.pfe-navigation__menu-link:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}.pfe-navigation__menu-link[class]{width:100%;max-height:9999em;padding:16px 24px;font-size:1.25rem;font-size:var(--pf-global--FontSize--xl,1.25rem);font-weight:500;color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);background:0 0}@media (min-width:1200px){.pfe-navigation__menu-link[class]{width:auto;max-height:72px;padding:0 8px;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);font-weight:400;color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff))}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link{width:100%;max-height:9999em;padding:16px 24px;font-size:1.25rem;font-size:var(--pf-global--FontSize--xl,1.25rem);font-weight:500;color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);background:0 0}.pfe-navigation__menu-link--has-dropdown{position:relative}@media (min-width:1200px){.pfe-navigation__menu-link--has-dropdown:focus{outline:0}.pfe-navigation__menu-link--has-dropdown:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link--has-dropdown:focus{-webkit-box-shadow:none;box-shadow:none}@media (min-width:1200px){.pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown{color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff))}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown{-webkit-box-shadow:none;box-shadow:none;background:0 0}@media (min-width:1200px){.pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown:focus{outline:0}.pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}}.pfe-navigation__menu-link--has-dropdown:before{position:absolute;top:50%;left:auto;right:24px;display:block;width:11px;height:11px;border:4px solid currentColor;border-bottom:0;border-left:0;-webkit-transform:translateX(4px) rotate(45deg);transform:translateX(4px) rotate(45deg);-webkit-transform-origin:right top;transform-origin:right top;-webkit-transition:-webkit-transform .25s;transition:-webkit-transform .25s;transition:transform .25s;transition:transform .25s,-webkit-transform .25s;content:''}@media (min-width:1200px){.pfe-navigation__menu-link--has-dropdown:before{position:absolute;top:100%;left:50%;right:auto;width:0;height:0;border:4px solid transparent;border-bottom:0;-webkit-transform:translate(-4px,-14px);transform:translate(-4px,-14px);-webkit-transition:none;transition:none}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link--has-dropdown:before{position:absolute;top:50%;left:auto;right:24px;display:block;width:11px;height:11px;border:4px solid currentColor;border-bottom:0;border-left:0;-webkit-transform:translateX(4px) rotate(45deg);transform:translateX(4px) rotate(45deg);-webkit-transform-origin:right top;transform-origin:right top;-webkit-transition:-webkit-transform .25s;transition:-webkit-transform .25s;transition:transform .25s;transition:transform .25s,-webkit-transform .25s}@media (min-width:1200px){.pfe-navigation__menu-link--has-dropdown:focus:before,.pfe-navigation__menu-link--has-dropdown:hover:before{border-top-color:var(--pfe-navigation__dropdown--arrow-color)}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link--has-dropdown:focus:before,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link--has-dropdown:hover:before{border-top-color:#151515;border-top-color:var(--pfe-navigation__dropdown--Color,#151515)}.pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown[class]:before{-webkit-transform:translateY(7px) rotate(135deg);transform:translateY(7px) rotate(135deg)}@media (min-width:1200px){.pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown[class]:before{border-top-color:#6a6e73;border-top-color:var(--pfe-navigation__dropdown--arrow--color--active,#6a6e73);-webkit-transform:translate(-4px,-12px);transform:translate(-4px,-12px)}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown[class]:before{-webkit-transform:rotate(135deg);transform:rotate(135deg)}.pfe-navigation__dropdown-wrapper{position:static;padding:0 calc(24px + 16px);padding:0 calc(var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px) + var(--pfe-navigation__dropdown--single-column--spacing,16px));background:0 0;-webkit-transition:height .25s ease-in-out;transition:height .25s ease-in-out;-webkit-transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out);transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:100%;height:0;overflow:hidden;will-change:height}@media (prefers-reduced-motion){.pfe-navigation__dropdown-wrapper{-webkit-transition:none;transition:none}}@media (min-width:1200px){.pfe-navigation__dropdown-wrapper{position:absolute;top:100%;left:0;padding:0 calc(64px + 24px);padding:0 calc(var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px) + var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px));background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));-webkit-transition:var(--pfe-navigation--dropdown-transition);transition:var(--pfe-navigation--dropdown-transition);height:auto}}@media (min-width:1200px) and (prefers-reduced-motion){.pfe-navigation__dropdown-wrapper{-webkit-transition:none;transition:none}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__dropdown-wrapper{position:static;padding:0 calc(24px + 16px);padding:0 calc(var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px) + var(--pfe-navigation__dropdown--single-column--spacing,16px));background:0 0;-webkit-transition:height .25s ease-in-out;transition:height .25s ease-in-out;-webkit-transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out);transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out);height:0}@media (prefers-reduced-motion){:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__dropdown-wrapper{-webkit-transition:none;transition:none}}.pfe-navigation__dropdown-wrapper.pfe-navigation__dropdown-wrapper--invisible{display:none}.pfe-navigation__dropdown-wrapper--single-column{padding:0 calc(24px + 16px);padding:0 calc(var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px) + var(--pfe-navigation__dropdown--single-column--spacing,16px))}@media (min-width:){.pfe-navigation__dropdown-wrapper--single-column{position:absolute;top:100%;max-width:100%;min-width:13em;padding:0 32px;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.12);box-shadow:0 1px 2px rgba(0,0,0,.12);-webkit-box-shadow:var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12));box-shadow:var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12))}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__dropdown-wrapper--single-column{position:static;max-width:100%;-webkit-box-shadow:none;box-shadow:none}@media (min-width:1200px){.pfe-navigation__dropdown-wrapper--single-column{left:auto;width:auto}}.pfe-navigation__dropdown{display:block;width:calc(100% + 32px);max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);margin-left:-16px;margin-right:-16px;padding-top:12px;padding-bottom:12px;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;gap:0;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);visibility:hidden;-webkit-transition:visibility 0s linear .4s;transition:visibility 0s linear .4s}.pfe-navigation__dropdown a{display:inline-block;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));border:1px solid transparent}.pfe-navigation__dropdown a:focus,.pfe-navigation__dropdown a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:underline}.pfe-navigation__dropdown a:focus{border:1px dashed currentColor;border-top:1px dashed currentColor;outline:0}.pfe-navigation__dropdown .pfe-link-list--header,.pfe-navigation__dropdown [role=heading][aria-heading-level],.pfe-navigation__dropdown h2,.pfe-navigation__dropdown h3,.pfe-navigation__dropdown h4,.pfe-navigation__dropdown h5,.pfe-navigation__dropdown h6{margin:32px 0 .75em;margin:var(--pfe-navigation--gutter,32px) 0 .75em;padding:0;-webkit-column-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid;font-size:1.125rem;font-size:var(--pf-global--FontSize--lg,1.125rem);font-weight:400;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646)}.pfe-navigation__dropdown .pfe-link-list--header:first-child,.pfe-navigation__dropdown [role=heading][aria-heading-level]:first-child,.pfe-navigation__dropdown h2:first-child,.pfe-navigation__dropdown h3:first-child,.pfe-navigation__dropdown h4:first-child,.pfe-navigation__dropdown h5:first-child,.pfe-navigation__dropdown h6:first-child{margin-top:0}.pfe-navigation__dropdown .pfe-link-list--header a,.pfe-navigation__dropdown [role=heading][aria-heading-level] a,.pfe-navigation__dropdown h2 a,.pfe-navigation__dropdown h3 a,.pfe-navigation__dropdown h4 a,.pfe-navigation__dropdown h5 a,.pfe-navigation__dropdown h6 a{color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);border:1px solid transparent}.pfe-navigation__dropdown .pfe-link-list--header a:focus,.pfe-navigation__dropdown .pfe-link-list--header a:hover,.pfe-navigation__dropdown [role=heading][aria-heading-level] a:focus,.pfe-navigation__dropdown [role=heading][aria-heading-level] a:hover,.pfe-navigation__dropdown h2 a:focus,.pfe-navigation__dropdown h2 a:hover,.pfe-navigation__dropdown h3 a:focus,.pfe-navigation__dropdown h3 a:hover,.pfe-navigation__dropdown h4 a:focus,.pfe-navigation__dropdown h4 a:hover,.pfe-navigation__dropdown h5 a:focus,.pfe-navigation__dropdown h5 a:hover,.pfe-navigation__dropdown h6 a:focus,.pfe-navigation__dropdown h6 a:hover{text-decoration:underline;color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036)}.pfe-navigation__dropdown .pfe-link-list--header a:focus,.pfe-navigation__dropdown [role=heading][aria-heading-level] a:focus,.pfe-navigation__dropdown h2 a:focus,.pfe-navigation__dropdown h3 a:focus,.pfe-navigation__dropdown h4 a:focus,.pfe-navigation__dropdown h5 a:focus,.pfe-navigation__dropdown h6 a:focus{border:1px dashed currentColor;border-top:1px dashed currentColor;outline:0}.pfe-navigation__dropdown li{margin:0 0 16px;-webkit-column-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid}.pfe-navigation__dropdown a,.pfe-navigation__dropdown pfe-card,.pfe-navigation__dropdown pfe-cta{-webkit-column-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid}.pfe-navigation__dropdown pfe-cta[pfe-priority=primary],.pfe-navigation__dropdown pfe-cta[priority=primary]{--pfe-cta--BackgroundColor:#e00;--pfe-cta--BackgroundColor--hover:#c00;--pfe-theme--ui--border-width:0}.pfe-navigation__dropdown pfe-cta[pfe-priority=primary]:focus,.pfe-navigation__dropdown pfe-cta[pfe-priority=primary]:hover,.pfe-navigation__dropdown pfe-cta[priority=primary]:focus,.pfe-navigation__dropdown pfe-cta[priority=primary]:hover{--pfe-cta--BackgroundColor:#c00}pfe-card .pfe-navigation__dropdown pfe-cta{margin-top:0}@media (min-width:768px){.pfe-navigation__dropdown{display:block;-webkit-column-count:3;-moz-column-count:3;column-count:3;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-top:12px;padding-bottom:12px}}@media (min-width:1200px){.pfe-navigation__dropdown{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;padding-top:32px;padding-bottom:32px}@supports (display:grid){.pfe-navigation__dropdown{display:-ms-grid;display:grid;-ms-grid-columns:minmax(0,1fr) var(--pfe-navigation--gutter,32px) minmax(0,1fr) var(--pfe-navigation--gutter,32px) minmax(0,1fr) var(--pfe-navigation--gutter,32px) minmax(0,1fr);grid-template-columns:repeat(4,minmax(0,1fr));gap:32px;gap:var(--pfe-navigation--gutter,32px);grid-auto-flow:row}}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__dropdown{display:block;-webkit-column-count:3;-moz-column-count:3;column-count:3;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-top:12px;padding-bottom:12px}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__dropdown{display:block;width:calc(100% + 32px);max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);margin-left:-16px;margin-right:-16px;padding-top:12px;padding-bottom:12px;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;gap:0}.pfe-navigation__menu-item--open .pfe-navigation__dropdown{visibility:visible;-webkit-transition-delay:0s;transition-delay:0s}.pfe-navigation__dropdown>*{margin:0 0 18px;-webkit-column-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid}@media (min-width:1200px){.pfe-navigation__dropdown>*{margin:0}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__dropdown>*{margin:0 0 18px}@media (min-width:1200px){.pfe-navigation__dropdown--3-column{-ms-grid-columns:(minmax(0,1fr))[3];grid-template-columns:repeat(3,minmax(0,1fr))}}.pfe-navigation__dropdown--single-column[class]{display:block;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;gap:0}@media (min-width:1200px){.pfe-navigation__dropdown--single-column{padding:16px 0;padding:var(--pfe-navigation__dropdown--single-column--spacing,16px) 0;background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff))}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__dropdown--single-column{background:0 0}.pfe-navigation__dropdown--single-column [role=heading][aria-heading-level],.pfe-navigation__dropdown--single-column h1,.pfe-navigation__dropdown--single-column h2,.pfe-navigation__dropdown--single-column h3,.pfe-navigation__dropdown--single-column h4,.pfe-navigation__dropdown--single-column h5,.pfe-navigation__dropdown--single-column h6{color:#6a6e73;color:var(--pfe-navigation__dropdown--headings--single-column--Color,#6a6e73);font-weight:500;font-size:.875rem;font-size:var(--pf-global--FontSize--sm,.875rem)}.pfe-navigation__dropdown--single-column ul+ul,.pfe-navigation__sub-nav-link--separator[class]{border-top:1px solid #d2d2d2;border-top:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2));margin-left:calc(16px * -1);margin-left:calc(var(--pfe-navigation__dropdown--single-column--spacing,16px) * -1);margin-right:calc(16px * -1);margin-right:calc(var(--pfe-navigation__dropdown--single-column--spacing,16px) * -1);margin-top:16px;margin-top:var(--pfe-navigation__dropdown--single-column--spacing,16px);padding-left:16px;padding-left:var(--pfe-navigation__dropdown--single-column--spacing,16px);padding-right:16px;padding-right:var(--pfe-navigation__dropdown--single-column--spacing,16px);padding-top:16px;padding-top:var(--pfe-navigation__dropdown--single-column--spacing,16px)}.pfe-navigation__footer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;border-top:1px solid #d2d2d2;border-top:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2));grid-column:1/-1;-webkit-column-span:all;-moz-column-span:all;column-span:all;margin:16px 0 0;padding:26px 0 16px}@media (min-width:768px){.pfe-navigation__footer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}}@media (min-width:1200px){.pfe-navigation__footer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;padding-top:32px;padding-bottom:32px;margin:calc(16px * 2) 0 calc(16px * 1.5);margin:calc(var(--pfe-theme--container-padding,16px) * 2) 0 calc(var(--pfe-theme--container-padding,16px) * 1.5);padding:calc(16px * 2.5) 0 0;padding:calc(var(--pfe-theme--container-padding,16px) * 2.5) 0 0}@supports (display:grid){.pfe-navigation__footer{display:-ms-grid;display:grid;-ms-grid-columns:minmax(0,1fr) var(--pfe-navigation--gutter,32px) minmax(0,1fr) var(--pfe-navigation--gutter,32px) minmax(0,1fr) var(--pfe-navigation--gutter,32px) minmax(0,1fr);grid-template-columns:repeat(4,minmax(0,1fr));gap:32px;gap:var(--pfe-navigation--gutter,32px);grid-auto-flow:row}}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer{display:block;width:calc(100% + 32px);max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);margin-left:-16px;margin-right:-16px;padding-top:12px;padding-bottom:12px;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;gap:0;margin:16px 0 0;padding:26px 0 16px}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.pfe-navigation__footer a,.pfe-navigation__footer pfe-cta{margin:0 0 1em}@media (min-width:768px){.pfe-navigation__footer a+a,.pfe-navigation__footer a+pfe-cta,.pfe-navigation__footer pfe-cta+a,.pfe-navigation__footer pfe-cta+pfe-cta{margin-left:32px;margin-left:var(--pfe-navigation--gutter,32px)}}@media (min-width:1200px){.pfe-navigation__footer a+a,.pfe-navigation__footer a+pfe-cta,.pfe-navigation__footer pfe-cta+a,.pfe-navigation__footer pfe-cta+pfe-cta{margin-left:0}}:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer a+a,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer a+pfe-cta,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer pfe-cta+a,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer pfe-cta+pfe-cta{margin-left:32px;margin-left:var(--pfe-navigation--gutter,32px)}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer a+a,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer a+pfe-cta,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer pfe-cta+a,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer pfe-cta+pfe-cta{margin-left:0}.pfe-navigation__footer pfe-cta a{display:inline-block;margin:0}:host([breakpoint=mobile]) .pfe-navigation__search-toggle{display:none}[open-toggle=secondary-links__button--search] .pfe-navigation__search-toggle{color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));-webkit-box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;-webkit-box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}[open-toggle=secondary-links__button--search] .pfe-navigation__search-toggle:focus{outline:0}[open-toggle=secondary-links__button--search] .pfe-navigation__search-toggle:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}.pfe-navigation__dropdown-wrapper--search[class][class]{position:absolute;top:100%;left:0;width:100%;height:auto;padding:16px;margin-bottom:0;background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff))}.pfe-navigation__dropdown-wrapper--search[class][class].pfe-navigation__dropdown-wrapper--invisible{display:none}.pfe-navigation__search{display:block;width:100%;margin-bottom:24px;margin-bottom:var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px);color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);margin-left:auto;margin-right:auto}@media (min-width:768px){.pfe-navigation__search{margin-bottom:0}}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__search{margin-bottom:24px;margin-bottom:var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}[aria-hidden=true] .pfe-navigation__search{visibility:hidden}.pfe-navigation__secondary-links-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0;padding:16px 0 0;list-style:none;-webkit-transition:opacity .1s ease-out;transition:opacity .1s ease-out}@media (min-width:768px){.pfe-navigation__secondary-links-wrapper{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-left:auto;padding-top:0}}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__secondary-links-wrapper{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding-top:16px;margin-left:0}.pfe-navigation__secondary-links-wrapper>li{display:block;width:auto;height:auto;margin:0 0 8px;padding:0;list-style:none}@media (min-width:768px){.pfe-navigation__secondary-links-wrapper>li{margin:0 8px 0 0}}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__secondary-links-wrapper>li{margin:0 0 8px}.pfe-navigation--is-resizing .pfe-navigation__secondary-links-wrapper{opacity:0}.pfe-navigation__burger-icon{padding:2px 0 4px;left:calc(50% - 9px);-webkit-transform:scale(.25) translateX(1px);transform:scale(.25) translateX(1px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform .3s cubic-bezier(.55,.085,0,.99);transition:-webkit-transform .3s cubic-bezier(.55,.085,0,.99);transition:transform .3s cubic-bezier(.55,.085,0,.99);transition:transform .3s cubic-bezier(.55,.085,0,.99),-webkit-transform .3s cubic-bezier(.55,.085,0,.99);-webkit-backface-visibility:hidden;backface-visibility:hidden}[aria-expanded=true] .pfe-navigation__burger-icon{-webkit-transform:scale(.25) translateX(5px);transform:scale(.25) translateX(5px);-webkit-transform-origin:left top;transform-origin:left top}.pfe-navigation__burger-icon:after,.pfe-navigation__burger-icon:before{content:'';position:absolute;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;width:72px}.pfe-navigation__burger-icon:before{height:0;border-top:8px solid currentColor;background:currentColor;-webkit-transform:translateY(-32px);transform:translateY(-32px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform .3s cubic-bezier(.55,.085,0,.99);transition:-webkit-transform .3s cubic-bezier(.55,.085,0,.99);transition:transform .3s cubic-bezier(.55,.085,0,.99);transition:transform .3s cubic-bezier(.55,.085,0,.99),-webkit-transform .3s cubic-bezier(.55,.085,0,.99)}[aria-expanded=true] .pfe-navigation__burger-icon:before{border-color:currentColor;-webkit-transform:translateY(-32px) rotate(45deg) scaleX(1) translateX(12px);transform:translateY(-32px) rotate(45deg) scaleX(1) translateX(12px);-webkit-transform-origin:left top;transform-origin:left top}.pfe-navigation__burger-icon:after{height:40px;border:8px solid currentColor;border-width:8px 0 8px 0;-webkit-transition:border .3s cubic-bezier(.55,.085,0,.99),-webkit-transform .3s cubic-bezier(.55,.085,0,.99);transition:border .3s cubic-bezier(.55,.085,0,.99),-webkit-transform .3s cubic-bezier(.55,.085,0,.99);transition:border .3s cubic-bezier(.55,.085,0,.99),transform .3s cubic-bezier(.55,.085,0,.99);transition:border .3s cubic-bezier(.55,.085,0,.99),transform .3s cubic-bezier(.55,.085,0,.99),-webkit-transform .3s cubic-bezier(.55,.085,0,.99);-webkit-transform-origin:left bottom;transform-origin:left bottom}[aria-expanded=true] .pfe-navigation__burger-icon:after{-webkit-transform:rotate(-45deg) scaleX(1) translateX(12px);transform:rotate(-45deg) scaleX(1) translateX(12px);border-top-color:transparent;border-bottom-color:currentColor;-webkit-transform-origin:left bottom;transform-origin:left bottom}.pfe-navigation__account-toggle,.pfe-navigation__log-in-link{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;width:auto;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);padding:14px 8px;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);color:var(--pfe-navigation__nav-bar--link--Color)}@supports (display:grid){.pfe-navigation__account-toggle,.pfe-navigation__log-in-link{display:-ms-grid;display:grid;-ms-grid-rows:24px 18px;grid-template-rows:24px 18px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;justify-items:center}}.pfe-navigation__account-toggle[class]:focus,.pfe-navigation__account-toggle[class]:hover,.pfe-navigation__log-in-link[class]:focus,.pfe-navigation__log-in-link[class]:hover{-webkit-box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;-webkit-box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media print{.pfe-navigation__account-toggle,.pfe-navigation__log-in-link{display:none}}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;width:auto;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);padding:14px 8px;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);color:var(--pfe-navigation__nav-bar--link--Color)}@supports (display:grid){:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link{display:-ms-grid;display:grid;-ms-grid-rows:24px 18px;grid-template-rows:24px 18px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;justify-items:center}}:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle[class]:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle[class]:hover,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link[class]:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link[class]:hover{-webkit-box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;-webkit-box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}.pfe-navigation__account-wrapper .pfe-navigation__account-wrapper--logged-in .pfe-navigation__account-toggle{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.pfe-navigation__account-wrapper .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link{display:none}.pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link[class]{display:none}.pfe-navigation__account-toggle{height:72px;height:var(--pfe-navigation__nav-bar--Height,72px)}.pfe-navigation__account-toggle[class][class][class]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.pfe-navigation__account-toggle[aria-expanded=true]{background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));-webkit-box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;-webkit-box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c));box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}.pfe-navigation__account-toggle[aria-expanded=true]:focus{outline:0}.pfe-navigation__account-toggle[aria-expanded=true]:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed #151515;border:1px dashed var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}.pfe-navigation__account-toggle pfe-avatar{width:36px;height:36px;border-radius:50%;overflow:hidden;background:rgba(122,122,122,.2)}.pfe-navigation__dropdown-wrapper--account[class][class]{position:absolute;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px);left:0;width:100%;display:block;padding:0;height:auto}.pfe-navigation__dropdown-wrapper--account.pfe-navigation__dropdown-wrapper--invisible[class]{display:none}:host([breakpoint=mobile]) .hidden-at-mobile[class][class][class]{display:none}:host([breakpoint=tablet]) .hidden-at-tablet[class][class][class]{display:none}:host([breakpoint=desktop]) .hidden-at-desktop[class][class][class]{display:none}.tablet-col-span-all{-webkit-column-span:all;-moz-column-span:all;column-span:all}.desktop-col-span-2,.pfe-navigation--column--2{-ms-grid-column-span:2;grid-column-end:span 2}.desktop-col-span-3,.pfe-navigation--column--3{-ms-grid-column-span:3;grid-column-end:span 3}.desktop-col-span-4,.pfe-navigation--column--4{-ms-grid-column-span:4;grid-column-end:span 4} /*# sourceMappingURL=pfe-navigation.min.css.map */</style>\n<nav id=\"pfe-navigation__wrapper\" class=\"pfe-navigation__wrapper\" aria-label=\"Main\">\n  <button class=\"pfe-navigation__menu-toggle\" id=\"mobile__button\">\n    <div class=\"pfe-navigation__burger-icon\"></div>\n    <span id=\"mobile__button-text\">Menu</span>\n  </button>\n\n  <div class=\"pfe-navigation__outer-menu-wrapper\" id=\"mobile__dropdown\">\n    <div id=\"pfe-navigation__outer-menu-wrapper__inner\" class=\"pfe-navigation__outer-menu-wrapper__inner\">\n\n      <div id=\"pfe-navigation__search-wrapper--xs\"></div>\n\n      <div id=\"pfe-navigation__menu-wrapper\" class=\"pfe-navigation__menu-wrapper\">\n      </div>\n\n      <div class=\"pfe-navigation__secondary-links-wrapper\" id=\"pfe-navigation__secondary-links-wrapper\">\n        <div>\n          <button class=\"pfe-navigation__search-toggle\" id=\"secondary-links__button--search\" hidden data-analytics-text=\"Search\" data-analytics-category=\"Search\" data-analytics-level=\"1\">\n            <pfe-icon icon=\"web-search\" pfe-size=\"sm\" aria-hidden=\"true\"></pfe-icon>\n            <span id=\"secondary-links__button--search-text\">Search</span>\n          </button>\n          <div class=\"pfe-navigation__dropdown-wrapper pfe-navigation__dropdown-wrapper--search\" id=\"pfe-navigation__search-wrapper--md\">\n            <slot name=\"search\" class=\"pfe-navigation__search\" id=\"search-slot\">\n            </slot>\n          </div>\n        </div>\n\n        <slot name=\"secondary-links\" id=\"secondary-links\"></slot>\n\n      </div>\n    </div>\n  </div>\n\n  <div class=\"pfe-navigation__account-wrapper\" id=\"pfe-navigation__account-wrapper\">\n    <div id=\"pfe-navigation__account-dropdown-wrapper\" class=\"pfe-navigation__dropdown-wrapper pfe-navigation__dropdown-wrapper--account pfe-navigation__dropdown-wrapper--invisible\">\n      <slot name=\"account\" id=\"pfe-navigation__account-slot\"></slot>\n    </div>\n  </div>\n\n</nav>\n<div class=\"pfe-navigation__overlay\" hidden></div>`;\n  }\n\n  // @TODO: Deprecating in 1.0 release\n  // Injected at build-time\n  static get schemaProperties() {\n    return {\"state\":{\"title\":\"State\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true}};\n  }\n\n  // Injected at build-time\n  static get slots() {\n    return {\"default\":{\"title\":\"Default slot\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"raw\"}]}},\"search\":{\"title\":\"Search\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Search item\",\"oneOf\":[{\"$ref\":\"raw\"}]}},\"customlinks\":{\"title\":\"Customlinks\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Customlinks item\",\"oneOf\":[{\"$ref\":\"raw\"}]}}};\n  }\n\n  static get tag() {\n    return \"pfe-navigation\";\n  }\n\n  get schemaUrl() {\n    return \"pfe-navigation.json\";\n  }\n\n  get templateUrl() {\n    return \"pfe-navigation.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-navigation.scss\";\n  }\n\n  get _navTranslations() {\n    return this._data;\n  }\n\n  set _navTranslations(data) {\n    if (!data) {\n      return;\n    }\n  }\n\n  static get events() {\n    return {\n      expandedItem: `${this.tag}:expanded-item`,\n      collapsedItem: `${this.tag}:collapsed-item`,\n      shadowDomInteraction: `pfe-shadow-dom-event`,\n\n      // @note v1.x support:\n      pfeNavigationItemOpen: `pfe-navigation-item:open`,\n      pfeNavigationItemClose: `pfe-navigation-item:close`,\n    };\n  }\n\n  // Declare the type of this component\n  static get PfeType() {\n    return PFElement.PfeTypes.Combo;\n  }\n\n  static get properties() {\n    return {\n      // Using _lang to avoid namespacing issue with HTMLElement.lang\n      _lang: {\n        title: \"Language support\",\n        attr: \"lang\",\n        type: String,\n        default: \"en\",\n        observer: \"_translateStrings\",\n      },\n      // Provide mobile menu button translation via attribute\n      mobileButtonTranslation: {\n        title: \"Translation for mobile menu button text\",\n        attr: \"mobile-menu-translation\",\n        type: String,\n        observer: \"_updateMobileMenuText\",\n      },\n      // Provide search button translation via attribute\n      searchButtonTranslation: {\n        title: \"Translation for search button text\",\n        attr: \"search-button-translation\",\n        type: String,\n        observer: \"_updateSearchButtonText\",\n      },\n      // loginTranslation: {\n      //   title: \"Translation for login text\",\n      //   attr: \"login-translation\",\n      //   type: String,\n      //   observer: \"_updateLoginText\"\n      // },\n      // State indicator\n      breakpoint: {\n        title: \"Indicates current layout state\",\n        // 'mobile' means secondary links && main menu are collapsed, search goes to top of mobile dropdown\n        // 'tablet' means main menu is collapsed, search has it's own dropdown\n        // 'desktop' means nothing is collapsed, search has it's own dropdown\n        type: String,\n      },\n      // State indicator\n      openToggle: {\n        title: \"Currently opened toggle\",\n        type: String,\n      },\n      // State indicator\n      mobileSlide: {\n        title: \"Indicates an open child element that slides the menu over when open\",\n        type: Boolean,\n      },\n      // @note If role isn't set, code will check if it has a parent with role=\"banner\",\n      // If not role=banner will be added to pfe-navigation\n      role: {\n        type: String,\n      },\n      sticky: {\n        title: \"When page touches top of navigation stick it to the top of the screen\",\n        type: Boolean,\n      },\n      // @note v1.x support\n      pfeSticky: {\n        type: Boolean,\n        alias: \"sticky\",\n        attr: \"pfe-sticky\",\n      },\n    };\n  }\n\n  static get slots() {\n    return {};\n  }\n\n  constructor() {\n    super(PfeNavigation, { type: PfeNavigation.PfeType });\n\n    // Set pointers to commonly used elements\n    this._shadowDomOuterWrapper = this.shadowRoot.getElementById(\"pfe-navigation__wrapper\");\n    this._logoWrapper = this.shadowRoot.getElementById(\"pfe-navigation__logo-wrapper\");\n    this._shadowMenuWrapper = this.shadowRoot.getElementById(\"pfe-navigation__menu-wrapper\");\n    this._mobileToggle = this.shadowRoot.getElementById(\"mobile__button\");\n    this._mobileToggleText = this.shadowRoot.getElementById(\"mobile__button-text\");\n    this._mobileButton = this.shadowRoot.querySelector(\"#mobile__button-text\");\n    this._menuDropdownXs = this.shadowRoot.getElementById(\"mobile__dropdown\");\n    this._menuDropdownMd = this.shadowRoot.getElementById(`${this.tag}__menu-wrapper`);\n    this._secondaryLinksWrapper = this.shadowRoot.getElementById(`${this.tag}__secondary-links-wrapper`);\n    this._searchToggle = this.shadowRoot.getElementById(\"secondary-links__button--search\");\n    this._searchToggleText = this.shadowRoot.getElementById(\"secondary-links__button--search-text\");\n    this._searchSlot = this.shadowRoot.getElementById(\"search-slot\");\n    this._searchSpotXs = this.shadowRoot.getElementById(`${this.tag}__search-wrapper--xs`);\n    this._searchSpotMd = this.shadowRoot.getElementById(`${this.tag}__search-wrapper--md`);\n    this._customLinksSlot = this.shadowRoot.getElementById(\"secondary-links\");\n    this._mobileNavSearchSlot = this.shadowRoot.querySelector('slot[name=\"search\"]');\n    this._overlay = this.shadowRoot.querySelector(`.${this.tag}__overlay`);\n    this._shadowNavWrapper = this.shadowRoot.querySelector(`.${this.tag}__wrapper`);\n    this._accountOuterWrapper = this.shadowRoot.getElementById(\"pfe-navigation__account-wrapper\");\n    this._accountSlot = this.shadowRoot.getElementById(\"pfe-navigation__account-slot\");\n    this._accountDropdownWrapper = this.shadowRoot.getElementById(\"pfe-navigation__account-dropdown-wrapper\");\n    this._searchButtonText = this.shadowRoot.querySelector(\"#secondary-links__button--search-text\");\n\n    // Elements that don't exist yet\n    this._siteSwitcherToggle = null;\n    this._siteSwitcherBackButton = null;\n    this._accountComponent = null;\n    this._accountToggle = null;\n    this._accountLogInLink = null;\n    this._currentMobileDropdown = null;\n\n    // @todo Make this selector list a PFE-wide resource?\n    this._focusableElements = 'button, a[href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n\n    // Set default collapse breakpoints to null (falls back to CSS)\n    this._menuBreakpoints = {\n      secondaryLinks: null,\n      mainMenu: null,\n    };\n\n    // Used to calculate when menu should collapse,\n    // parts that have changed can be set to null and breakpoints recalculated\n    this._menuBounds = {\n      logoRight: null,\n      mainMenuRight: null,\n      secondaryLinksLeft: null,\n    };\n\n    // To track observers and events and remove them when necessary\n    this._customDropdownAlertsObservers = {};\n    this._mobileSliderMutationObservers = {};\n    this._mobileSliderFocusTrapEvents = {};\n    this._mobileSliderFocusTrapElements = {};\n    this._debouncedPreResizeAdjustments = null;\n    this._debouncedPostResizeAdjustments = null;\n    this._menuBreakpointQueries = {\n      secondaryLinks: null,\n      mainMenu: null,\n    };\n\n    this._prefersReducedMotion = false;\n\n    // Tracking if window width gets updated\n    this.windowInnerWidth = null;\n    // Cache element visibility for performance\n    this.mainMenuButtonVisible = null;\n    this.secondaryLinksSectionCollapsed = null;\n\n    // Ensure 'this' is tied to the component object in these member functions\n    const functionsToBind = [\n      \"isOpen\",\n      \"getToggleElement\",\n      \"getDropdownElement\",\n      \"isMobileMenuButtonVisible\",\n      \"isSecondaryLinksSectionCollapsed\",\n      \"_focusOutOfNav\",\n      \"_isDevelopment\",\n      \"_getParentToggleAndDropdown\",\n      \"_changeNavigationState\",\n      \"_calculateBreakpointAttribute\",\n      \"_processSearchSlotChange\",\n      \"_createCustomDropdownToggle\",\n      \"_processCustomDropdowns\",\n      \"_shadowDomInteraction\",\n      \"_processLightDom\",\n      \"_toggleMobileMenu\",\n      \"_toggleSearch\",\n      \"_siteSwitcherBackClickHandler\",\n      \"_dropdownItemToggle\",\n      \"_calculateMenuBreakpoints\",\n      \"_collapseMainMenu\",\n      \"_collapseSecondaryLinks\",\n      \"_moveSearchSlot\",\n      \"_postResizeAdjustments\",\n      \"_generalKeyboardListener\",\n      \"_overlayClickHandler\",\n      \"_stickyHandler\",\n      \"_hideMobileMainMenu\",\n      \"_showMobileMainMenu\",\n      \"_createLogInLink\",\n      \"_accountToggleClick\",\n      \"_processAccountDropdownChange\",\n      \"_processAccountSlotChange\",\n      \"_getLastFocusableItemInMobileSlider\",\n      \"_updateAlerts\",\n    ];\n\n    for (let index = 0; index < functionsToBind.length; index++) {\n      const functionName = functionsToBind[index];\n      if (this[functionName]) {\n        this[functionName] = this[functionName].bind(this);\n      } else {\n        this.error(\"Tried to bind a function that doesn't exist\", functionName);\n      }\n    }\n\n    // Handle updates to slotted search content\n    this._searchSlot.addEventListener(\"slotchange\", this._processSearchSlotChange);\n    this._accountSlot.addEventListener(\"slotchange\", this._processAccountSlotChange);\n\n    // Setup mutation observer to watch for content changes\n    this._observer = new MutationObserver(this._processLightDom);\n\n    // Ensure we close the whole menu and hide the overlay when the overlay is clicked\n    this._overlay.addEventListener(\"click\", this._overlayClickHandler);\n  } // ends constructor()\n\n  connectedCallback() {\n    super.connectedCallback();\n    // If you need to initialize any attributes, do that here\n    if (this._isDevelopment()) {\n      PFElement._debugLog = true;\n    }\n\n    // Add class to scope styles for old browsers like IE11\n    if (_isCrustyBrowser()) {\n      this.classList.add(\"pfe-navigation--in-crusty-browser\");\n    }\n\n    this._processLightDom();\n\n    this._observer.observe(this, lightDomObserverConfig);\n\n    const preResizeAdjustments = () => {\n      this.classList.add(\"pfe-navigation--is-resizing\");\n    };\n    this._debouncedPreResizeAdjustments = debounce(preResizeAdjustments, this._resizeDebounce, true);\n    window.addEventListener(\"resize\", this._debouncedPreResizeAdjustments);\n    this._debouncedPostResizeAdjustments = debounce(this._postResizeAdjustments, this._resizeDebounce);\n    window.addEventListener(\"resize\", this._debouncedPostResizeAdjustments, { passive: true });\n    this._calculateBreakpointAttribute();\n\n    // Initial position of this element from the top of the screen\n    this._top = this.getBoundingClientRect().top || 0;\n\n    // If the nav is set to sticky, run the sticky handler and attach scroll event to window\n    if (this.sticky) {\n      // Run the sticky check on first page load\n      this._stickyHandler();\n\n      // Attach the scroll event to the window\n      window.addEventListener(\"scroll\", () => {\n        window.requestAnimationFrame(() => {\n          this._stickyHandler();\n        });\n      });\n    }\n\n    // Assess if user prefers reduced motion, which means we can eliminate some timeouts\n    const prefersReducedMotionQuery = window.matchMedia(\"(prefers-reduced-motion)\");\n    this._prefersReducedMotion = prefersReducedMotionQuery.matches || false;\n\n    this._resizeDebounce = 150;\n\n    // Change a few preferences for automated testing so scripts can run faster\n    if (this.hasAttribute(\"automated-testing\")) {\n      this._resizeDebounce = 10;\n      this._prefersReducedMotion = true;\n    }\n\n    // Make sure pfe-navigation or a parent is a header/role=banner element\n    if (this.role !== \"banner\") {\n      const closestHeader = this.closest('header, [role=\"banner\"]');\n      if (!closestHeader) {\n        this.role = \"banner\";\n        this.log(`Added role=banner to ${this.tag}`);\n      }\n    }\n\n    this.classList.add(\"pfe-navigation--processed\");\n    this.addEventListener(\"focusout\", this._focusOutOfNav);\n  } // end connectedCallback()\n\n  disconnectedCallback() {\n    this._observer.disconnect();\n\n    window.removeEventListener(\"resize\", this._debouncedPreResizeAdjustments);\n    window.removeEventListener(\"resize\", this._debouncedPostResizeAdjustments);\n    this._searchSlot.removeEventListener(\"slotchange\", this._processSearchSlotChange);\n    this._overlay.removeEventListener(\"click\", this._overlayClickHandler);\n    this._mobileToggle.removeEventListener(\"click\", this._toggleMobileMenu);\n    this._searchToggle.removeEventListener(\"click\", this._toggleSearch);\n    document.removeEventListener(\"keydown\", this._generalKeyboardListener);\n\n    if (this._siteSwitcherBackButton) {\n      this._siteSwitcherBackButton.removeEventListener(\"click\", this._siteSwitcherBackClickHandler);\n    }\n\n    const mobileSliderObserverKeys = Object.keys(this._mobileSliderMutationObservers);\n    for (let index = 0; index < mobileSliderObserverKeys.length; index++) {\n      this._mobileSliderMutationObservers[mobileSliderObserverKeys[index]].disconnect();\n    }\n\n    const customDropdownAlertsObserversKeys = Object.keys(this._customDropdownAlertsObservers);\n    for (let index = 0; index < customDropdownAlertsObserversKeys.length; index++) {\n      const currentId = customDropdownAlertsObserversKeys[index];\n      this._customDropdownAlertsObservers[currentId].disconnect();\n    }\n\n    const mobileSliderFocusTrapKeys = Object.keys(this._mobileSliderFocusTrapEvents);\n    for (let index = 0; index < mobileSliderFocusTrapKeys.length; index++) {\n      const currentId = mobileSliderFocusTrapKeys[index];\n      this._mobileSliderFocusTrapElements[currentId].removeEventListener(\n        \"keydown\",\n        this._mobileSliderFocusTrapEvents[currentId]\n      );\n    }\n\n    const menuBreakpointQueriesKeys = Object.keys(this._menuBreakpointQueries);\n    for (let index = 0; index < menuBreakpointQueriesKeys.length; index++) {\n      const menuBreakpointQueryKey = menuBreakpointQueriesKeys[index];\n      if (this._menuBreakpointQueries[menuBreakpointQueryKey]) {\n        this._removeMediaQueryListener(\n          this._menuBreakpointQueries[menuBreakpointQueryKey],\n          menuBreakpointQueryKey === \"mainMenu\" ? this._collapseMainMenu : this._collapseSecondaryLinks\n        );\n      }\n    }\n\n    if (this.sticky) {\n      window.removeEventListener(\"scroll\", () => {\n        window.requestAnimationFrame(() => {\n          this._stickyHandler();\n        });\n      });\n    }\n\n    if (this._accountToggle) {\n      this._accountToggle.removeEventListener(\"click\", this._accountToggleClick);\n    }\n\n    // Remove main menu dropdown listeners\n    const dropdownButtons = this.shadowRoot.querySelectorAll(\".pfe-navigation__menu-link--has-dropdown\");\n    for (let index = 0; index < dropdownButtons.length; index++) {\n      const dropdownButton = dropdownButtons[index];\n      dropdownButton.removeEventListener(\"click\", this._dropdownItemToggle);\n    }\n  } // end disconnectedCallback()\n\n  /**\n   * Utility function to polyfill media query listeners\n   */\n  _addMediaQueryListener(mediaQueryObject, eventHandler) {\n    if (mediaQueryObject && typeof mediaQueryObject.addEventListener !== \"undefined\") {\n      mediaQueryObject.addEventListener(\"change\", eventHandler);\n    }\n    // @note Removed IE Support for breakpoints\n    // else if (mediaQueryObject && typeof mediaQueryObject.addListener === \"function\") {\n    // mediaQueryObject.addListener(eventHandler);\n    // }\n  }\n\n  /**\n   * Utility function to polyfill media query listeners\n   */\n  _removeMediaQueryListener(mediaQueryObject, eventHandler) {\n    if (mediaQueryObject && typeof mediaQueryObject.removeEventListener !== \"undefined\") {\n      mediaQueryObject.removeEventListener(\"change\", eventHandler);\n    }\n    // @note Removed IE Support for breakpoints\n    // else if (mediaQueryObject && typeof mediaQueryObject.removeListener === \"function\") {\n    // mediaQueryObject.removeListener(eventHandler);\n    // }\n  }\n\n  /**\n   * Utility function that is used to display more console logging in non-prod env\n   */\n  _isDevelopment() {\n    if (this.hasAttribute(\"debug\")) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Utility function to return DOM Object for a toggle, since it may be in the parent or shadow DOM\n   * @param {string} toggleId Id of toggle to retrieve\n   * @return {object} DOM Object of desired toggle\n   */\n  getToggleElement(toggleId) {\n    if (toggleId.startsWith(\"pfe-navigation__secondary-link--\")) {\n      return this.querySelector(`#${toggleId}`);\n    } else {\n      return this.shadowRoot.getElementById(toggleId);\n    }\n  }\n\n  /**\n   * Utility function to return DOM Object for a dropdown, since it may be in the parent or shadow DOM\n   * @param {string} dropdownId Id of dropdown to retrieve\n   * @return {object} DOM Object of desired dropdown\n   */\n  getDropdownElement(dropdownId) {\n    if (dropdownId.startsWith(\"pfe-navigation__custom-dropdown--\")) {\n      return this.querySelector(`#${dropdownId}`);\n    } else {\n      return this.shadowRoot.getElementById(dropdownId);\n    }\n  }\n\n  /**\n   * Checks to see if anything in the menu, or if a specific part of it is open\n   * @param {string} toggleId Optional. Check if specific part of menu is open, if blank will check if anything is open\n   * @return {boolean}\n   */\n  isOpen(toggleId) {\n    const openToggleId = this.openToggle;\n    if (openToggleId) {\n      if (typeof toggleId === \"undefined\") {\n        // Something is open, and a toggleId wasn't set\n        return true;\n      }\n      if (openToggleId.startsWith(\"main-menu\") && toggleId === \"mobile__button\") {\n        return true;\n      }\n      if (toggleId === \"mobile__button\" && this.isSecondaryLinksSectionCollapsed()) {\n        return true;\n      }\n\n      // Only checks for prefix so if main-menu is queried and main-menu__dropdown--Link-Name is open it still evaluates as true\n      // This prevents the main-menu toggle shutting at mobile when a sub-section is opened\n      return toggleId === openToggleId;\n    }\n\n    return false;\n  }\n\n  /**\n   * Use for elements that stop being dropdowns\n   *\n   * @param {object} toggleElement Toggle Button DOM Element\n   * @param {object} dropdownWrapper Dropdown wrapper DOM element\n   */\n  _removeDropdownAttributes(toggleElement, dropdownWrapper) {\n    let toggleId = null;\n\n    if (toggleElement) {\n      toggleId = toggleElement.id;\n      toggleElement.removeAttribute(\"aria-expanded\");\n      toggleElement.parentElement.classList.remove(\"pfe-navigation__menu-item--open\");\n    }\n\n    // this.log(\n    //   \"_removeDropdownAttributes\",\n    //   toggleId,\n    //   dropdownWrapper ? dropdownWrapper.id : 'undefined'\n    // );\n\n    if (dropdownWrapper) {\n      dropdownWrapper.removeAttribute(\"aria-hidden\");\n      dropdownWrapper.classList.remove(\"pfe-navigation__dropdown-wrapper--invisible\");\n      dropdownWrapper.style.removeProperty(\"height\");\n    }\n  }\n\n  /**\n   * Utility function to set height of a dropdown\n   * Depends on a dropdown having 2 wrappers and the parameter should be the outer wrapper\n   * @param {object} dropdownWrapper DOM Object of dropdown wrapper\n   */\n  _setDropdownHeight(dropdownWrapper) {\n    const dropdownHeight = dropdownWrapper.children[0].offsetHeight;\n    // @NOTE not sure this is needed since offsetHeight will always return a number\n    if (typeof dropdownHeight === \"number\") {\n      dropdownWrapper.style.setProperty(\"height\", `${dropdownHeight}px`);\n    } else {\n      dropdownWrapper.style.setProperty(\"height\", \"auto\");\n    }\n  }\n\n  /**\n   * Sets attributes for an open element, but DOES NOT update navigation state\n   * Only use to update DOM State to reflect nav state\n   * Almost all open/close actions should go through this._changeNavigationState, not this function\n   *\n   * @param {object} toggleElement Toggle Button DOM Element\n   * @param {object} dropdownWrapper Dropdown wrapper DOM element\n   */\n  _addOpenDropdownAttributes(toggleElement, dropdownWrapper) {\n    // Toggle Button DOM Element ID attribute\n    let toggleId = null;\n    // Dropdown wrapper DOM element ID attribute\n    let dropdownWrapperId = null;\n    const isMobileSlider = this.breakpoint === \"mobile\" && toggleElement.parentElement.hasAttribute(\"mobile-slider\");\n    let isMainMenuToggle = false;\n    let isCustomLink = false;\n\n    if (toggleElement) {\n      toggleId = toggleElement.id;\n      isMainMenuToggle = toggleId.startsWith(\"main-menu__button--\");\n      if (!isMainMenuToggle) {\n        isCustomLink = toggleId.startsWith(\"pfe-navigation__secondary-link--\");\n      }\n    }\n\n    if (dropdownWrapper) {\n      dropdownWrapperId = dropdownWrapper.id;\n    } else {\n      dropdownWrapperId = toggleElement.getAttribute(\"aria-controls\");\n      dropdownWrapper = this.querySelector(`#${dropdownWrapperId}`);\n    }\n\n    // this.log(\n    //   \"_addOpenDropdownAttributes\",\n    //   toggleId,\n    //   dropdownWrapper ? dropdownWrapper.id : 'undefined'\n    // );\n\n    if (toggleElement) {\n      toggleElement.setAttribute(\"aria-expanded\", \"true\");\n      if (!toggleElement.hasAttribute(\"aria-controls\")) {\n        toggleElement.setAttribute(\"aria-controls\", dropdownWrapperId);\n      }\n\n      // Main menu specific actions\n      if (toggleId.startsWith(\"main-menu__\")) {\n        toggleElement.parentElement.classList.add(\"pfe-navigation__menu-item--open\");\n      }\n    }\n\n    if (dropdownWrapper) {\n      dropdownWrapper.setAttribute(\"aria-hidden\", \"false\");\n      dropdownWrapper.removeAttribute(\"tabindex\");\n      dropdownWrapper.classList.remove(\"pfe-navigation__dropdown-wrapper--invisible\");\n\n      // Setting up CSS transforms by setting height with JS\n      let setHeight = false;\n\n      // Handle animation state and attributes\n      if (toggleId) {\n        if (this.breakpoint === \"mobile\" && isMobileSlider) {\n          this.mobileSlide = true;\n        }\n        // No animations at desktop, and for expanding elements in mobile menu dropdown\n        // (mobile slides over instead of expanding)\n        else if (this.breakpoint === \"mobile\" && (isMainMenuToggle || isCustomLink)) {\n          setHeight = true;\n        } else if (this.breakpoint === \"tablet\" && isMainMenuToggle) {\n          setHeight = true;\n        }\n      }\n\n      if (setHeight) {\n        this._setDropdownHeight(dropdownWrapper);\n      }\n    }\n  }\n\n  /**\n   * Sets attributes for a closed element, but DOES NOT update navigation state\n   * Only use to update DOM State to reflect nav state\n   * Almost all open/close actions should go through this._changeNavigationState, not this function\n   *\n   * @param {object} toggleElement Toggle Button DOM Element\n   * @param {object} dropdownWrapper Dropdown wrapper DOM element\n   * @param {number} invisibleDelay Delay on visibility hidden style, in case we need to wait for an animation\n   */\n  _addCloseDropdownAttributes(toggleElement, dropdownWrapper, invisibleDelay = 0) {\n    // Toggle Button DOM Element ID attribute\n    let toggleId = null;\n    // Dropdown wrapper DOM element ID attribute\n    let dropdownWrapperId = null;\n\n    if (toggleElement) {\n      toggleId = toggleElement.id;\n    }\n    if (dropdownWrapper) {\n      dropdownWrapperId = dropdownWrapper.id;\n    }\n\n    if (toggleElement) {\n      toggleElement.setAttribute(\"aria-expanded\", \"false\");\n      if (!toggleElement.hasAttribute(\"aria-controls\") && dropdownWrapperId) {\n        toggleElement.setAttribute(\"aria-controls\", dropdownWrapperId);\n      }\n      // Main menu specific code\n      if (toggleId.startsWith(\"main-menu\")) {\n        toggleElement.parentElement.classList.remove(\"pfe-navigation__menu-item--open\");\n      }\n    }\n\n    // Handle dropdown wrapper\n    if (dropdownWrapper) {\n      dropdownWrapper.style.removeProperty(\"height\");\n      dropdownWrapper.setAttribute(\"aria-hidden\", \"true\");\n      // Set tabindex in conjuction with aria-hidden true\n      dropdownWrapper.setAttribute(\"tabindex\", \"-1\");\n\n      if (!this._prefersReducedMotion && invisibleDelay) {\n        // Sometimes need a delay visibility: hidden so animation can finish\n        window.setTimeout(\n          () => dropdownWrapper.classList.add(\"pfe-navigation__dropdown-wrapper--invisible\"),\n          invisibleDelay // Should be slightly longer than the animation time\n        );\n      } else {\n        dropdownWrapper.classList.add(\"pfe-navigation__dropdown-wrapper--invisible\");\n      }\n    }\n\n    this.mobileSlide = false;\n  }\n\n  /**\n   * Create dash delimited string with no special chars for use in HTML attributes\n   * @param {string}\n   * @return {string} String that can be used as a class or ID (no spaces or special chars)\n   */\n  _createMachineName(text) {\n    return (\n      text\n        // Get rid of special characters\n        .replace(/[!\\\"#$%&'\\(\\)\\*\\+,\\.\\/:;<=>\\?\\@\\[\\\\\\]\\^`\\{\\|\\}~]/g, \"\")\n        // Get rid of extra space\n        .trim()\n        // Replace remaining single spaces between words with -\n        .replace(/[\\s\\-]+/g, \"-\")\n    );\n  }\n\n  /**\n   * Figures out if secondary links are collapsed\n   * @param {boolean} forceRecalculation\n   * @returns {boolean}\n   */\n  isSecondaryLinksSectionCollapsed(forceRecalculation) {\n    // Trying to avoid running getComputedStyle too much by caching it on the web component object\n    if (\n      forceRecalculation ||\n      this.secondaryLinksSectionCollapsed === null ||\n      window.innerWidth !== this.windowInnerWidth\n    ) {\n      const secondaryLinksWrapperFlexDirection = window.getComputedStyle(\n        this._secondaryLinksWrapper,\n        false\n      ).flexDirection;\n      this.secondaryLinksSectionCollapsed = secondaryLinksWrapperFlexDirection === \"column\";\n\n      // Update the stored windowInnerWidth variable so we don't recalculate for no reason\n      if (window.innerWidth !== this.windowInnerWidth) {\n        this.windowInnerWidth = window.innerWidth;\n        // Update the other layout state function, but avoid infinite loop :P\n        this.isMobileMenuButtonVisible(true);\n      }\n      this.log(\n        \"isSecondaryLinksSectionCollapsed recalculated\",\n        `Secondary Links Wrapper Flex Direction is ${secondaryLinksWrapperFlexDirection}`,\n        `isSecondaryLinksSectionCollapsed is ${this.secondaryLinksSectionCollapsed}`\n      );\n    }\n    return this.secondaryLinksSectionCollapsed;\n  }\n\n  /**\n   * Figures out if the mobile menu toggle (aka hamburger icon) is visible\n   * @param {boolean} forceRecalculation\n   * @returns {boolean}\n   */\n  isMobileMenuButtonVisible(forceRecalculation) {\n    // Trying to avoid running getComputedStyle too much by caching iton the web component object\n    if (forceRecalculation || this.mainMenuButtonVisible === null || window.innerWidth !== this.windowInnerWidth) {\n      const mobileToggleDisplay = window.getComputedStyle(this._mobileToggle, false).display;\n      this.mainMenuButtonVisible = mobileToggleDisplay !== \"none\";\n\n      // Update the stored windowInnerWidth variable so we don't recalculate for no reason\n      if (window.innerWidth !== this.windowInnerWidth) {\n        this.windowInnerWidth = window.innerWidth;\n        this.isSecondaryLinksSectionCollapsed(true);\n      }\n      this.log(\n        \"isMobileMenuButtonVisible recalculated\",\n        `mobileToggle's display is ${mobileToggleDisplay}`,\n        `isMobileMenuButtonVisible is ${this.mainMenuButtonVisible}`\n      );\n    }\n    return this.mainMenuButtonVisible;\n  }\n\n  /**\n   * Sets the current breakpoint as an attribute on the component\n   */\n  _calculateBreakpointAttribute() {\n    if (_isCrustyBrowser()) {\n      if (!this.breakpoint) {\n        this.breakpoint = \"desktop\";\n      }\n      return;\n    }\n    let currentBreakpoint = null;\n    if (this.isMobileMenuButtonVisible()) {\n      if (this.isSecondaryLinksSectionCollapsed()) {\n        currentBreakpoint = \"mobile\";\n      } else {\n        currentBreakpoint = \"tablet\";\n      }\n    } else {\n      currentBreakpoint = \"desktop\";\n    }\n    this.breakpoint = currentBreakpoint;\n    return currentBreakpoint;\n  }\n\n  /**\n   * Sets this._currentMobileDropdown depending on breakpoint\n   */\n  _setCurrentMobileDropdown() {\n    if (this.isMobileMenuButtonVisible()) {\n      if (this.isSecondaryLinksSectionCollapsed()) {\n        this._currentMobileDropdown = this._menuDropdownXs;\n        this._currentMobileDropdown.classList.add(\"pfe-navigation__mobile-dropdown\");\n\n        if (this._menuDropdownMd) {\n          this._menuDropdownMd.classList.remove(\"pfe-navigation__mobile-dropdown\");\n        }\n      } else {\n        if (this._menuDropdownMd) {\n          this._currentMobileDropdown = this._menuDropdownMd;\n          this._currentMobileDropdown.classList.add(\"pfe-navigation__mobile-dropdown\");\n        }\n        this._menuDropdownXs.classList.remove(\"pfe-navigation__mobile-dropdown\");\n      }\n    } else {\n      this._currentMobileDropdown = null;\n      this._menuDropdownXs.classList.remove(\"pfe-navigation__mobile-dropdown\");\n      if (this._menuDropdownMd) {\n        this._menuDropdownMd.classList.remove(\"pfe-navigation__mobile-dropdown\");\n      }\n\n      // Ran into a circumstance where these elements didn't exist... ? Don't know how that's possible.\n      if (this._menuDropdownXs) {\n        this._menuDropdownXs.classList.remove(\"pfe-navigation__mobile-dropdown\");\n      }\n      if (this._menuDropdownMd) {\n        this._menuDropdownMd.classList.remove(\"pfe-navigation__mobile-dropdown\");\n      }\n    }\n  }\n\n  /**\n   * Get the dropdownId based on the toggleId\n   * @param {string} toggleId ID of a toggle button\n   * @return {string} ID of the corresponding dropdown\n   */\n  _getDropdownId(toggleId) {\n    if (toggleId === \"mobile__button\") {\n      if (this._currentMobileDropdown) {\n        return this._currentMobileDropdown.id;\n      }\n    }\n    if (toggleId.startsWith(\"main-menu\")) {\n      return this.shadowRoot.getElementById(toggleId).parentElement.dataset.dropdownId;\n    }\n    if (toggleId.startsWith(\"secondary-links\")) {\n      switch (toggleId) {\n        case \"secondary-links__button--search\":\n          return \"pfe-navigation__search-wrapper--md\";\n      }\n    }\n\n    const toggleElement = this.getToggleElement(toggleId);\n    if (toggleElement && toggleElement.hasAttribute(\"aria-controls\")) {\n      return toggleElement.getAttribute(\"aria-controls\");\n    }\n    this.error(`Could not find corresponding dropdown for #${toggleId}`);\n  }\n\n  /**\n   * Figure out if a toggle is a child of a dropdown, returns DOM Objects for the parent\n   * @param {string} toggleId Id attribute of toggle\n   * @return {array|false} An array with the DOM object of the toggle and the dropdown, in that order, false if it's not a child\n   */\n  _getParentToggleAndDropdown(toggleId) {\n    // At mobile and tablet main menu items are in the mobile dropdown\n    if ((this.breakpoint === \"tablet\" || this.breakpoint === \"mobile\") && toggleId.startsWith(\"main-menu\")) {\n      return [this._mobileToggle, this._currentMobileDropdown];\n    }\n\n    // At mobile secondary links are in the mobile dropdown\n    if (this.breakpoint === \"mobile\" && toggleId.startsWith(\"pfe-navigation__secondary-link--\")) {\n      return [this._mobileToggle, this._currentMobileDropdown];\n    }\n    return false;\n  }\n\n  /**\n   * Manages all dropdowns and ensures only one is open at a time\n   * @param {string} toggleId Id to use in open-toggle param\n   * @param {string} toState Optional, use to set the end state as 'open' or 'close', instead of toggling the current state\n   * @return {boolean} True if the final state is open, false if closed\n   */\n  _changeNavigationState(toggleId, toState) {\n    // Preventing issues in IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.disconnect();\n    }\n    const isOpen = this.isOpen(toggleId);\n    // Set toState param to go to opposite of current state if toState isn't set\n    if (typeof toState === \"undefined\") {\n      toState = isOpen ? \"close\" : \"open\";\n    }\n    const dropdownId = this._getDropdownId(toggleId);\n    const currentlyOpenToggleId = this.openToggle;\n    const toggleElementToToggle = this.getToggleElement(toggleId);\n\n    /**\n     * Local utility function to open a dropdown (shouldn't be used outside of parent function)\n     * @param {object} toggleElement Toggle Button DOM Element\n     * @param {object} dropdownWrapper Dropdown wrapper DOM element\n     */\n    const _openDropdown = (toggleElement, dropdownWrapper) => {\n      const toggleIdToOpen = toggleElement.id;\n\n      this._addOpenDropdownAttributes(toggleElement, dropdownWrapper);\n\n      this.openToggle = toggleIdToOpen;\n\n      this.emitEvent(PfeNavigation.events.expandedItem, {\n        detail: {\n          toggle: toggleElement,\n          pane: dropdownWrapper,\n          parent: this,\n        },\n      });\n\n      this.emitEvent(PfeNavigation.events.pfeNavigationItemOpen, {\n        detail: {\n          toggle: toggleElement,\n          pane: dropdownWrapper,\n          parent: this,\n        },\n      });\n\n      // Show overlay\n      this._overlay.hidden = false;\n    };\n\n    /**\n     * Local utility function to close a dropdown (shouldn't be used outside of parent function)\n     * @param {object} toggleElement Toggle Button DOM Element\n     * @param {object} dropdownWrapper Dropdown wrapper DOM element\n     * @param {boolean} backOut If we're in a subdropdown, should we keep the parent one open, false will close all dropdowns\n     */\n    const _closeDropdown = (toggleElement, dropdownWrapper, backOut = true) => {\n      const toggleIdToClose = toggleElement.id;\n\n      let invisibleDelay = 0;\n      // Dropdowns with a parent dropdown animate open and need a delay\n      if (this._getParentToggleAndDropdown(toggleIdToClose)) {\n        invisibleDelay = 300;\n      }\n\n      this._addCloseDropdownAttributes(toggleElement, dropdownWrapper, invisibleDelay);\n\n      // If we're backing out close child dropdown, but not parent\n      let closed = false;\n      const parentToggleAndDropdown = this._getParentToggleAndDropdown(toggleIdToClose);\n      if (backOut) {\n        if (parentToggleAndDropdown) {\n          _openDropdown(parentToggleAndDropdown[0], parentToggleAndDropdown[1]);\n          closed = true;\n        }\n      } else {\n        this._addCloseDropdownAttributes(parentToggleAndDropdown[0], parentToggleAndDropdown[1]);\n      }\n\n      // If we weren't able to back out, close everything by removing the open-toggle attribute\n      if (!closed) {\n        this.removeAttribute(\"open-toggle\");\n        this._overlay.hidden = true;\n      }\n\n      this.emitEvent(PfeNavigation.events.collapsedItem, {\n        detail: {\n          toggle: toggleElement,\n          pane: dropdownWrapper,\n          parent: this,\n        },\n      });\n\n      this.emitEvent(PfeNavigation.events.pfeNavigationItemClose, {\n        detail: {\n          toggle: toggleElement,\n          pane: dropdownWrapper,\n          parent: this,\n        },\n      });\n    };\n\n    // Shut any open dropdowns before we open any other\n    if (currentlyOpenToggleId) {\n      const parentToggleAndDropdown = this._getParentToggleAndDropdown(toggleId);\n      const currentlyOpenParentToggleAndDropdown = this._getParentToggleAndDropdown(currentlyOpenToggleId);\n      // Don't close a parent dropdown if we're opening the child\n      if (!parentToggleAndDropdown || parentToggleAndDropdown[0].id !== currentlyOpenToggleId) {\n        const openToggle = this.getToggleElement(currentlyOpenToggleId);\n        const openDropdownId = this._getDropdownId(currentlyOpenToggleId);\n        const keepParentOpen =\n          currentlyOpenParentToggleAndDropdown &&\n          parentToggleAndDropdown &&\n          currentlyOpenParentToggleAndDropdown[0].id === parentToggleAndDropdown[0].id;\n        _closeDropdown(openToggle, this.getDropdownElement(openDropdownId), keepParentOpen);\n      }\n    }\n\n    if (toState !== \"close\" && toState !== \"open\") {\n      this.error(`toState param was set to ${toState}, can only be 'close' or 'open'`);\n    }\n\n    // Update the element we came to update\n    if (toState === \"close\") {\n      _closeDropdown(toggleElementToToggle, this.getDropdownElement(dropdownId));\n    } else if (toState === \"open\") {\n      _openDropdown(toggleElementToToggle, this.getDropdownElement(dropdownId));\n    }\n\n    // Clone state attribute inside of Shadow DOM to avoid compound :host() selectors\n    this._shadowDomOuterWrapper.setAttribute(\"open-toggle\", this.openToggle);\n\n    // Reconnecting mutationObserver for IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.observe(this, lightDomObserverConfig);\n    }\n\n    return toState === \"open\";\n  } // end _changeNavigationState\n\n  /**\n   * Close expanded elements if the focus leaves the nav\n   */\n  _focusOutOfNav(event) {\n    if (this.isOpen()) {\n      if (event.relatedTarget && !event.relatedTarget.closest(\"pfe-navigation\")) {\n        const openToggleId = this.openToggle;\n        this._changeNavigationState(openToggleId, \"close\");\n      }\n    }\n  }\n\n  /**\n   * Add a class to component wrapper if we have a search slot\n   */\n  _processSearchSlotChange() {\n    if (this.hasSlot(\"search\")) {\n      this.classList.add(\"pfe-navigation--has-search\");\n      this._searchToggle.hidden = false;\n    } else {\n      this.classList.remove(\"pfe-navigation--has-search\");\n      this._searchToggle.hidden = true;\n    }\n  }\n\n  /**\n   * Creates HTML for icon in a secondary link\n   * @param {string} icon Name of icon from pfe-icon\n   * @return {object} DOM Object for pfe-icon\n   */\n  _createPfeIcon(icon) {\n    const iconElement = document.createElement(\"pfe-icon\");\n    iconElement.setAttribute(\"icon\", icon);\n    iconElement.setAttribute(\"size\", \"sm\");\n    iconElement.setAttribute(\"aria-hidden\", \"true\");\n    return iconElement;\n  }\n\n  /**\n   * Update alert count on a custom dropdown\n   * @param {object} pfeNavigationDropdown DOM Object for the dropdown we need to update\n   */\n  _updateAlerts(pfeNavigationDropdown) {\n    // No alerts for IE11\n    if (_isCrustyBrowser()) {\n      return;\n    }\n    const toggle = pfeNavigationDropdown.parentElement.parentElement.querySelector(\".pfe-navigation__secondary-link\");\n    let alertsContainer = toggle.querySelector(\".secondary-link__alert-count\");\n    if (pfeNavigationDropdown.alerts) {\n      if (!alertsContainer) {\n        alertsContainer = document.createElement(\"div\");\n        alertsContainer.classList.add(\"secondary-link__alert-count\");\n        alertsContainer.innerText = pfeNavigationDropdown.alerts;\n        toggle.querySelector(\".secondary-link__icon-wrapper\").appendChild(alertsContainer);\n      } else {\n        alertsContainer.innerText = pfeNavigationDropdown.alerts;\n      }\n    } else if (alertsContainer) {\n      alertsContainer.innerText = \"\";\n    }\n  }\n\n  /**\n   * Translate strings based on passed in object\n   */\n  _translateStrings() {\n    if (this._navTranslations) {\n      //translate mobile menu button\n      //will not update if mobile-menu-text attr is used\n      if (!this.mobileButtonTranslation) {\n        this._mobileButton.textContent = this._navTranslations[this._lang].menu;\n      }\n\n      //translate search string if used\n      //will not update if search-button-text is used\n      if (this._searchToggle && !this.searchButtonTranslation) {\n        this._searchButtonText.textContent = this._navTranslations[this._lang].search;\n      }\n    }\n  }\n\n  /**\n   * Translate mobile menu button string\n   */\n  _updateMobileMenuText() {\n    this._mobileButton.textContent = this.mobileButtonTranslation;\n  }\n\n  /**\n   * Translate search button string\n   */\n  _updateSearchButtonText() {\n    this._searchButtonText.textContent = this.searchButtonTranslation;\n  }\n\n  /**\n   * Translate login string\n   */\n  // _updateLoginText() {\n  //   this.shadowRoot.querySelector(\"#pfe-navigation__log-in-link\").textContent = this.loginTranslation;\n  // }\n\n  /**\n   * Create a custom dropdown toggle\n   * @param {Element} pfeNavigationDropdown DOM object for a pfe-navigation-dropdown tag in the secondary-links slot\n   * @param {String} buttonText The text for the button\n   * @param {String} icon The name of the icon for pfe-icon\n   * @returns {Element} Button with necessary HTML\n   */\n  _createCustomDropdownToggle(pfeNavigationDropdown, buttonText, icon) {\n    const toggleMachineName = pfeNavigationDropdown.dataset.idSuffix\n      ? pfeNavigationDropdown.dataset.idSuffix\n      : this._createMachineName(buttonText);\n    const toggle = document.createElement(\"button\");\n    const iconWrapper = document.createElement(\"div\");\n\n    // Set the id suffix in case it's needed later\n    if (!pfeNavigationDropdown.dataset.idSuffix) {\n      pfeNavigationDropdown.dataset.idSuffix = toggleMachineName;\n    }\n\n    toggle.innerText = buttonText;\n    toggle.classList.add(\"pfe-navigation__secondary-link\");\n\n    iconWrapper.classList.add(\"secondary-link__icon-wrapper\");\n    iconWrapper.prepend(this._createPfeIcon(icon));\n    toggle.prepend(iconWrapper);\n\n    return toggle;\n  }\n\n  /**\n   * Process secondary dropdown, a toggle button, behaviors, and necessary attributes\n   * @param {array|NodeList} pfeNavigationDropdowns List of DOM object for a pfe-navigation-dropdown tag in the secondary-links slot\n   */\n  _processCustomDropdowns(pfeNavigationDropdowns) {\n    // Preventing issues in IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.disconnect();\n    }\n    for (let index = 0; index < pfeNavigationDropdowns.length; index++) {\n      const pfeNavigationDropdown = pfeNavigationDropdowns[index];\n      /**\n       * Validate the custom dropdowns\n       */\n      if (\n        pfeNavigationDropdown.parentElement.getAttribute(\"slot\") === \"secondary-links\" &&\n        !pfeNavigationDropdown.classList.contains(\"pfe-navigation__dropdown\")\n      ) {\n        const toggleAndDropdownWrapper = pfeNavigationDropdown.parentElement;\n        let buttonText = \"\";\n        // Check for provided toggle element\n        let toggle = toggleAndDropdownWrapper.querySelector(\".pfe-navigation__secondary-link\");\n        const attributeValues = {};\n        let toggleMachineName = pfeNavigationDropdown.dataset.idSuffix;\n\n        // Validate the toggle if we have one\n        if (toggle) {\n          if (!toggle.querySelector(\"pfe-icon\")) {\n            this.error(\"A pfe-navigation-dropdown in the secondary-links slot is missing an icon\");\n            break;\n          }\n\n          if (!toggleMachineName) {\n            toggleMachineName = this._createMachineName(toggle.innerText);\n          }\n        }\n        // Validate we have the necessary properties to create the toggle\n        else {\n          const requiredAttributes = [\"name\", \"icon\"];\n          for (let index = 0; index < requiredAttributes.length; index++) {\n            const attribute = requiredAttributes[index];\n            if (!pfeNavigationDropdown.getAttribute(attribute)) {\n              this.error(\n                `A pfe-navigation-dropdown in the secondary-links slot doesn't seem to have a toggle and is missing the attribute ${attribute}, which is required to make a toggle`\n              );\n              break;\n            } else {\n              attributeValues[attribute] = pfeNavigationDropdown.getAttribute(attribute);\n            }\n          }\n\n          if (!toggleMachineName && attributeValues[\"name\"]) {\n            toggleMachineName = this._createMachineName(attributeValues[\"name\"]);\n          }\n        }\n\n        /**\n         * Process the custom dropdown markup\n         */\n        const dropdownWrapper = document.createElement(\"div\");\n        const dropdownId = `pfe-navigation__custom-dropdown--${toggleMachineName}`;\n\n        // Set the id suffix in case it's needed later\n        if (!pfeNavigationDropdown.dataset.idSuffix) {\n          pfeNavigationDropdown.dataset.idSuffix = toggleMachineName;\n        }\n\n        // Create a toggle if there isn't one\n        let createdNewToggle = false;\n        if (!toggle) {\n          if (attributeValues[\"name\"]) {\n            toggle = this._createCustomDropdownToggle(\n              pfeNavigationDropdown,\n              attributeValues[\"name\"],\n              attributeValues[\"icon\"]\n            );\n            createdNewToggle = true;\n          } else {\n            this.error(\n              \"Could not find or create a toggle. Please add a button.pfe-navigation__secondary-link or add the attributes name & icon to pfe-navigation dropdown\"\n            );\n            break;\n          }\n        }\n\n        toggle.id = `pfe-navigation__secondary-link--${toggleMachineName}`;\n        toggle.addEventListener(\"click\", this._dropdownItemToggle);\n\n        // Add Dropdown attributes\n        dropdownWrapper.setAttribute(\"id\", dropdownId);\n        dropdownWrapper.classList.add(\"pfe-navigation__dropdown-wrapper\");\n        dropdownWrapper.appendChild(pfeNavigationDropdown);\n        pfeNavigationDropdown.classList.add(\"pfe-navigation__dropdown\");\n\n        switch (pfeNavigationDropdown.getAttribute(\"dropdown-width\")) {\n          case \"single\":\n            dropdownWrapper.classList.add(\"pfe-navigation__custom-dropdown--single-column\");\n            toggleAndDropdownWrapper.classList.add(\"pfe-navigation__custom-dropdown__wrapper--single-column\");\n            break;\n\n          case \"full\":\n          default:\n            dropdownWrapper.classList.add(\"pfe-navigation__custom-dropdown--full\");\n            toggleAndDropdownWrapper.classList.add(\"pfe-navigation__custom-dropdown__wrapper--full\");\n            break;\n        }\n\n        if (pfeNavigationDropdown.classList.contains(\"pfe-navigation__dropdown--default-styles\")) {\n          dropdownWrapper.classList.add(\"pfe-navigation__dropdown-wrapper--default-styles\");\n        }\n\n        // For some reason setting this earlier causes the value to be null in the DOM\n        toggle.setAttribute(\"aria-controls\", dropdownId);\n\n        // Adding closed dropdown attributes\n        this._addCloseDropdownAttributes(toggle, dropdownWrapper);\n\n        // Add everything to the DOM that needs to be added\n        if (createdNewToggle) {\n          toggleAndDropdownWrapper.prepend(toggle);\n        }\n        toggleAndDropdownWrapper.classList.add(\"pfe-navigation__custom-dropdown__wrapper\");\n        toggleAndDropdownWrapper.appendChild(dropdownWrapper);\n\n        // Deal with alerts on dropdown\n        this._updateAlerts(pfeNavigationDropdown);\n\n        // No alerts for IE11\n        if (!window.ShadyCSS || window.ShadyCSS.nativeShadow) {\n          // Set up observer to catch any updates to the alerts attribute\n          const observerCallback = (mutationList) => {\n            // Call updateAlerts for update targets (should only be 1 per update)\n            for (let index = 0; index < mutationList.length; index++) {\n              this._updateAlerts(mutationList[index].target);\n            }\n          };\n\n          this._customDropdownAlertsObservers[toggle.id] = new MutationObserver(observerCallback);\n          this._customDropdownAlertsObservers[toggle.id].observe(pfeNavigationDropdown, {\n            attributeFilter: [\"alerts\", \"pfe-alerts\"],\n          });\n        }\n\n        // Process Site Switcher Dropdown\n        if (toggleAndDropdownWrapper.classList.contains(\"pfe-navigation__site-switcher\")) {\n          this._siteSwitcherToggle = toggle;\n          const siteSwitcherBackButtonWrapper = document.createElement(\"div\");\n          const siteSwitcherBackButton = document.createElement(\"button\");\n\n          toggleAndDropdownWrapper.setAttribute(\"mobile-slider\", \"\");\n\n          siteSwitcherBackButtonWrapper.classList.add(\"pfe-navigation__site-switcher__back-wrapper\");\n\n          siteSwitcherBackButton.classList.add(\"pfe-navigation__site-switcher__back-button\");\n          // @todo Translate via attribute\n          siteSwitcherBackButton.setAttribute(\"aria-label\", `Close ${attributeValues[\"name\"]} and return to menu`);\n          siteSwitcherBackButton.innerText = \"Back to menu\";\n\n          siteSwitcherBackButton.addEventListener(\"click\", this._siteSwitcherBackClickHandler);\n\n          this._siteSwitcherBackButton = siteSwitcherBackButton;\n          siteSwitcherBackButtonWrapper.appendChild(siteSwitcherBackButton);\n          pfeNavigationDropdown.prepend(siteSwitcherBackButtonWrapper);\n        }\n      }\n      // @todo Process custom dropdowns for menus, need to figure out how that'll work\n      // else {\n      // }\n    }\n\n    // Reconnecting mutationObserver for IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.observe(this, lightDomObserverConfig);\n    }\n  }\n\n  /**\n   * Event handler to capture interactions that occur in the shadow DOM\n   * @param {object} event\n   */\n  _shadowDomInteraction(event) {\n    if (!window.ShadyCSS || window.ShadyCSS.nativeShadow) {\n      this.emitEvent(PfeNavigation.events.shadowDomInteraction, {\n        detail: {\n          target: event.target,\n          parent: this,\n        },\n      });\n    }\n  }\n\n  /**\n   * Handle initialization or changes in light DOM\n   * Clone them into the shadowRoot\n   * @param {array} mutationList Provided by mutation observer\n   */\n  _processLightDom(mutationList) {\n    // If we're mutating because an attribute on the web component starting with pfe- changed, don't reprocess dom\n    let cancelLightDomProcessing = true;\n    let componentClassesChange = false;\n    let recalculateMenuBreakpoints = false;\n    const ignoredTags = [\"PFE-NAVIGATION\", \"PFE-ICON\", \"PFE-NAVIGATION-DROPDOWN\", \"PFE-CTA\"];\n    const ie11IgnoredClasses = [\"pfe-navigation__dropdown-wrapper\", \"pfe-navigation__dropdown\", \"pfe-cta\"];\n\n    // On initialization\n    if (!mutationList) {\n      cancelLightDomProcessing = false;\n\n      // Process Custom Dropdowns in secondary links area\n      // @note Running into issue where custom button text returns \"\" without the timeout\n      window.setTimeout(() => {\n        const pfeNavigationDropdowns = this.querySelectorAll(\"pfe-navigation-dropdown\");\n        this._processCustomDropdowns(pfeNavigationDropdowns);\n      }, 0);\n    }\n    // On Mutation we get a mutationList, check to see if there are important changes to react to\n    // If not hop out of this function early\n    else {\n      for (let index = 0; index < mutationList.length; index++) {\n        const mutationItem = mutationList[index];\n        const oneXSlotsNotIn2x = [\"skip\", \"logo\", \"trigger\", \"tray\"];\n\n        // Ignore common mutations that we don't care about\n        let ignoreThisMutation = false;\n\n        if (mutationItem.type === \"childList\") {\n          // @note Prevent preprocess thrashing in IE11 from pfe-cta\n          if (_isCrustyBrowser()) {\n            for (let j = 0; j < ie11IgnoredClasses.length; j++) {\n              const className = ie11IgnoredClasses[j];\n              if (mutationItem.target.classList.contains(className)) {\n                ignoreThisMutation = true;\n              }\n            }\n          }\n\n          if (!ignoreThisMutation) {\n            const customDropdownsToProcess = [];\n            for (let index = 0; index < mutationItem.addedNodes.length; index++) {\n              const addedNode = mutationItem.addedNodes[index];\n              if (\n                addedNode.nodeType === 1 &&\n                addedNode.hasAttribute(\"slot\") &&\n                addedNode.parentElement.tagName === \"PFE-NAVIGATION\"\n              ) {\n                switch (addedNode.getAttribute(\"slot\")) {\n                  case \"secondary-links\":\n                    const customDropdown = addedNode.querySelector(\"pfe-navigation-dropdown\");\n                    if (customDropdown) {\n                      customDropdownsToProcess.push(customDropdown);\n                    }\n                    break;\n                }\n              }\n\n              // Recalculate both breakpoints\n              this._menuBounds.mainMenuRight = null;\n              this._menuBounds.secondaryLinksLeft = null;\n              recalculateMenuBreakpoints = true;\n            }\n            // @todo Handle removed nodes\n            // for (let index = 0; index < mutationItem.removedNodes.length; index++) {\n            //   const removedNode = mutationItem.removedNodes[index];\n            // }\n            if (customDropdownsToProcess.length) {\n              this._processCustomDropdowns(customDropdownsToProcess);\n            }\n          }\n          // for (let index = 0; index < mutationItem.removedNodes.length; index++) {\n          //   const removedNode = mutationItem.removedNodes[index];\n          // }\n        }\n\n        // Capture any changes to pfe-navigation copy those classes shadow DOM wrapper\n        // This is to help with styling, due to the limitations of :host()\n        if (\n          !ignoreThisMutation &&\n          mutationItem.target.tagName === \"PFE-NAVIGATION\" &&\n          mutationItem.type === \"attributes\" &&\n          mutationItem.attributeName === \"class\"\n        ) {\n          componentClassesChange = true;\n        }\n\n        if (!ignoreThisMutation && !mutationItem.target && mutationItem.type === \"attributes\") {\n          // Updates to PFE elements should be ignored\n          if (mutationItem.target.tagName.startsWith(\"PFE\")) {\n            if (\n              mutationItem.attributeName === \"pfelement\" ||\n              mutationItem.attributeName === \"class\" ||\n              mutationItem.attributeName === \"type\"\n            ) {\n              ignoreThisMutation = true;\n            }\n          }\n        }\n\n        if (!ignoreThisMutation) {\n          if (\n            mutationItem.target.tagName === \"PFE-NAVIGATION-ACCOUNT\" ||\n            mutationItem.target.tagName === \"RH-ACCOUNT-DROPDOWN\"\n          ) {\n            this._processAccountDropdownChange(mutationItem);\n          } else if (mutationItem.type === \"characterData\") {\n            // Process text changes\n            cancelLightDomProcessing = false;\n          }\n          // Slotted tags shouldn't cause lightDomProcessing\n          // Unless it's a slot from 1.x that we're not using anymore\n          else if (\n            !mutationItem.target.hasAttribute(\"slot\") ||\n            oneXSlotsNotIn2x.includes(mutationItem.target.getAttribute(\"slot\"))\n          ) {\n            // Elements with slotted parents should also be ignored\n            const slottedParent = mutationItem.target.closest(\"[slot]\");\n            if (!slottedParent || oneXSlotsNotIn2x.includes(slottedParent.getAttribute(\"slot\"))) {\n              // Make sure it's not an ignored tag\n              if (!ignoredTags.includes(mutationItem.target.tagName)) {\n                if (mutationItem.attributeName) {\n                  // We need to update attribute changes\n                  cancelLightDomProcessing = false;\n                }\n                if (mutationItem.type === \"childList\") {\n                  // We need to update on tree changes\n                  cancelLightDomProcessing = false;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    // Preventing issues in IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.disconnect();\n    }\n\n    // Handle class updates to the parent component\n    // Copying them to shadow DOM to avoid compound :host() selectors\n    if (componentClassesChange) {\n      this._shadowDomOuterWrapper.setAttribute(\"class\", `pfe-navigation__wrapper ${this.getAttribute(\"class\")}`);\n    }\n\n    if (cancelLightDomProcessing) {\n      // Reconnecting mutationObserver for IE11 & Edge\n      if (_isCrustyBrowser()) {\n        this._observer.observe(this, lightDomObserverConfig);\n      }\n\n      this.log(\"Cancelled light DOM processing\", mutationList);\n\n      return;\n    }\n\n    // Begins the wholesale replacement of most of the shadowDOM -------------------------------\n    this.log(\"_processLightDom: replacing shadow DOM\", mutationList);\n    // New nav element we'll populate and replace the old one with later\n    const newShadowMenuWrapper = document.createElement(\"nav\");\n\n    ///\n    // @note v1.x markup:\n    // Address skip links, put them at the beginning of the document\n    ///\n    const htmlBody = document.querySelector(\"body\");\n    const skipLinks = this.querySelectorAll('[slot=\"skip\"]');\n    if (skipLinks.length) {\n      // Wrapper used to make sure we don't duplicate skip links\n      const skipLinksWrapper = document.createElement(\"div\");\n      skipLinksWrapper.id = \"pfe-navigation__1x-skip-links\";\n      for (let index = 0; index < skipLinks.length; index++) {\n        skipLinks[index].removeAttribute(\"slot\");\n\n        // Add visually-hidden to the link tags so we can show them when focused on with CSS\n        if (skipLinks[index].tagName === \"A\") {\n          skipLinks[index].classList.add(\"visually-hidden\", \"skip-link\");\n        } else {\n          const theRealSkipLinks = skipLinks[index].querySelectorAll(\"a\");\n          for (let j = 0; j < theRealSkipLinks.length; j++) {\n            theRealSkipLinks[j].classList.add(\"visually-hidden\", \"skip-link\");\n          }\n        }\n        skipLinksWrapper.appendChild(skipLinks[index]);\n      }\n\n      // If we already have an oldSkipLinks, replace it\n      const oldSkipLinksWrapper = document.getElementById(\"pfe-navigation__1x-skip-links\");\n      if (oldSkipLinksWrapper) {\n        oldSkipLinksWrapper.parentElement.replaceChild(skipLinksWrapper, oldSkipLinksWrapper);\n      } else {\n        // Put skip links as the first thing after the body tag\n        htmlBody.prepend(skipLinksWrapper);\n      }\n    }\n\n    ///\n    // Add the logo to the correct part of the shadowDom\n    ///\n    let lightLogo = this.querySelector(\"#pfe-navigation__logo-wrapper\");\n    if (lightLogo) {\n      const newShadowLogoWrapper = lightLogo.cloneNode(true);\n      if (this._logoWrapper) {\n        this._shadowDomOuterWrapper.replaceChild(newShadowLogoWrapper, this._logoWrapper);\n      } else {\n        this._shadowDomOuterWrapper.prepend(newShadowLogoWrapper);\n      }\n      // Re-set pointer since old element doesn't exist\n      this._logoWrapper = newShadowLogoWrapper;\n    }\n    // @note v1.x markup:\n    // Address logo\n    else {\n      const logoLink = this.querySelector('[slot=\"logo\"]');\n      if (logoLink) {\n        const logoLinkCopy = logoLink.cloneNode(true);\n        const logoLinkWrapper = document.createElement(\"div\");\n        logoLinkWrapper.classList.add(\"pfe-navigation__logo-wrapper\");\n        logoLinkWrapper.setAttribute(\"id\", \"pfe-navigation__logo-wrapper\");\n\n        logoLinkCopy.removeAttribute(\"slot\");\n        logoLinkCopy.classList.add(\"pfe-navigation__logo-link\");\n        logoLinkWrapper.prepend(logoLinkCopy);\n\n        // Add it to the shadow DOM\n        if (this._logoWrapper) {\n          this._logoWrapper.parentElement.replaceChild(logoLinkWrapper, this._logoWrapper);\n        } else {\n          this._shadowDomOuterWrapper.prepend(logoLinkWrapper);\n        }\n        // Re-set pointer since old element doesn't exist\n        this._logoWrapper = logoLinkWrapper;\n      } else {\n        this.log(\"Cannot find a logo in the component tag.\");\n      }\n    }\n\n    ///\n    // Add the menu to the correct part of the shadowDom\n    ///\n    let lightMenu = this.querySelector(\"#pfe-navigation__menu\");\n    let hasOneXMenuMarkup = false;\n    const pfeNavigationMain = this.querySelector(\"pfe-navigation-main\");\n    if (pfeNavigationMain || this.querySelector(\"pfe-navigation-item\")) {\n      hasOneXMenuMarkup = true;\n    }\n\n    // @note v1.x markup:\n    // Add selectors needed for the menu to behave well in 2.x\n    if (!lightMenu) {\n      if (pfeNavigationMain) {\n        lightMenu = this.querySelector(\"pfe-navigation-main > ul\");\n        if (lightMenu && lightMenu.id !== \"pfe-navigation__menu\") {\n          lightMenu.id = \"pfe-navigation__menu\";\n          lightMenu.classList.add(\"pfe-navigation__menu\");\n\n          // Add necessary classes to li\n          for (let index = 0; index < lightMenu.children.length; index++) {\n            lightMenu.children[index].classList.add(\"pfe-navigation__menu-item\");\n          }\n        }\n\n        // Add necessary classes to top level links\n        const oneXTopLevelLinks = lightMenu.querySelectorAll('[slot=\"trigger\"] a');\n        for (let index = 0; index < oneXTopLevelLinks.length; index++) {\n          oneXTopLevelLinks[index].classList.add(\"pfe-navigation__menu-link\");\n        }\n      }\n    }\n\n    ///\n    // @note v1.x markup:\n    // Address secondary links by transforming markup and adding it\n    ///\n    const customDropdownsToProcess = [];\n    // Storing transformed markup in a document fragment to minimize DOM writes\n    const transformedSecondaryLinks = document.createDocumentFragment();\n    if (hasOneXMenuMarkup) {\n      for (let index = 0; index < this.children.length; index++) {\n        const pfeNavigationChild = this.children[index];\n        if (pfeNavigationChild.tagName === \"PFE-NAVIGATION-ITEM\") {\n          // Trigger is optional\n          const trigger = pfeNavigationChild.querySelector('[slot=\"trigger\"]');\n          // Trigger link is also optional\n          const triggerLink = trigger ? trigger.querySelector(\"a\") : null;\n          // Tray is optional\n          const tray = pfeNavigationChild.querySelector('[slot=\"tray\"]');\n\n          // These have to be set depending on the markup\n          let shadowTrigger = null;\n          let toggleName = null;\n          if (triggerLink) {\n            shadowTrigger = triggerLink.cloneNode(true);\n            toggleName = triggerLink.innerText;\n          } else if (trigger) {\n            toggleName = trigger.innerText;\n            shadowTrigger = trigger.cloneNode(true);\n            shadowTrigger.removeAttribute(\"slot\");\n          } else {\n            const unslottedChildLink = pfeNavigationChild.querySelector(\"a\");\n            if (unslottedChildLink) {\n              toggleName = unslottedChildLink.innerText;\n              shadowTrigger = unslottedChildLink;\n            }\n            // If we can't find any of that markup we can't transform the markup\n            else {\n              this.error(\n                \"Attempted to transform 1.x secondary link and couldn't find what we needed.\",\n                pfeNavigationChild\n              );\n              break;\n            }\n          }\n\n          // Div Wrapper for secondary links\n          const divWrapper = document.createElement(\"div\");\n          divWrapper.setAttribute(\"slot\", \"secondary-links\");\n          // If there's a tray, it's a dropdown, setup a pfe-navigation-dropdown\n          if (tray) {\n            // If it's a dropdown, wrap it in pfe-navigation-dropdown\n            const dropdown = document.createElement(\"pfe-navigation-dropdown\");\n            dropdown.dataset.idSuffix = this._createMachineName(toggleName);\n            const toggle = this._createCustomDropdownToggle(\n              dropdown,\n              toggleName,\n              pfeNavigationChild.getAttribute(\"pfe-icon\")\n            );\n\n            // Copy over any data attributes to the toggle\n            if (triggerLink) {\n              const datasetKeys = Object.keys(triggerLink.dataset);\n              for (let j = 0; j < datasetKeys.length; j++) {\n                const dataKey = datasetKeys[j];\n                toggle.dataset[dataKey] = triggerLink.dataset[dataKey];\n              }\n            }\n\n            dropdown.dropdownWidth = \"full\";\n            dropdown.classList.add(\"pfe-navigation__dropdown--default-styles\", \"pfe-navigation__dropdown--1-x\");\n            dropdown.appendChild(pfeNavigationChild);\n\n            divWrapper.appendChild(toggle);\n            divWrapper.appendChild(dropdown);\n            transformedSecondaryLinks.appendChild(divWrapper);\n            customDropdownsToProcess.push(dropdown);\n          }\n          // Otherwise this is just a link with an icon\n          else {\n            shadowTrigger.classList.add(\"pfe-navigation__secondary-link\");\n            shadowTrigger.innerHTML = toggleName;\n            shadowTrigger.prepend(this._createPfeIcon(pfeNavigationChild.icon));\n            divWrapper.appendChild(shadowTrigger);\n            transformedSecondaryLinks.appendChild(divWrapper);\n          }\n        }\n      }\n    }\n\n    // Write our transformed 1.x markup to the DOM\n    this.appendChild(transformedSecondaryLinks);\n\n    // Process any custom dropdowns\n    if (customDropdownsToProcess.length) {\n      this._processCustomDropdowns(customDropdownsToProcess);\n    }\n\n    // Ensure we're still disconnected after _processCustomDropdowns\n    // Preventing issues in IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.disconnect();\n    }\n\n    ///\n    // Process Main Menu\n    ///\n    if (lightMenu) {\n      //--------------------------------------------------\n      // Begin best time to manipulate DOM in nav\n      // Modify elements when they're in the shadow vars before they get appended to the shadow DOM\n      //--------------------------------------------------\n\n      // Add attributres we need on the shadow DOM menu wrapper\n      newShadowMenuWrapper.setAttribute(\"id\", \"pfe-navigation__menu-wrapper\");\n      newShadowMenuWrapper.classList.add(\"pfe-navigation__menu-wrapper\");\n\n      // Copy light DOM menu into new wrapper, to be put in shadow DOM after manipulations\n      newShadowMenuWrapper.appendChild(lightMenu.cloneNode(true));\n\n      // @note v1.x markup:\n      // Address menu items by adding class hooks we need to import into shadowDom\n      // and classes we need to maintain appropriate styles\n      if (hasOneXMenuMarkup) {\n        // Remove pfe-navigation-item tag, but keep the important children elements\n        const pfeNavigationItems = newShadowMenuWrapper.querySelectorAll(\"pfe-navigation-item\");\n        for (let index = 0; index < pfeNavigationItems.length; index++) {\n          const pfeNavigationItem = pfeNavigationItems[index];\n\n          const menuListItem = pfeNavigationItem.closest(\"li\");\n          menuListItem.classList.add(\"pfe-navigation__menu-item\");\n          // Address menu toggle\n          let menuItemLink = pfeNavigationItem.querySelector('[slot=\"trigger\"] a');\n          if (!menuItemLink && pfeNavigationItem.children[0].tagName === \"A\") {\n            menuItemLink = pfeNavigationItem.children[0];\n          }\n          if (menuItemLink) {\n            menuItemLink.classList.add(\"pfe-navigation__menu-link\");\n            menuListItem.prepend(menuItemLink);\n          } else {\n            this.error(\"Wasn't able to process toggle\", pfeNavigationItem);\n          }\n\n          // Address menu dropdown\n          let menuItemDropdown =\n            pfeNavigationItem.querySelector(\".pfe-navigation-grid\") ||\n            pfeNavigationItem.querySelector(\".pfe-navigation__dropdown\") ||\n            pfeNavigationItem.querySelector(\"[slot='tray']\");\n          if (menuItemDropdown) {\n            menuItemDropdown.classList.add(\"pfe-navigation__dropdown\");\n            const pfeNavigationItemFooter = pfeNavigationItem.querySelector(\".pfe-navigation--footer\");\n            if (pfeNavigationItemFooter) {\n              pfeNavigationItemFooter.classList.add(\"pfe-navigation__footer\");\n              menuItemDropdown.appendChild(pfeNavigationItemFooter);\n            }\n            menuListItem.appendChild(menuItemDropdown);\n          } else {\n            this.error(\"Wasn't able to process dropdown\", pfeNavigationItem);\n          }\n\n          // Remove the rest\n          menuListItem.removeChild(pfeNavigationItem);\n        }\n      }\n\n      // Add menu dropdown toggle behavior\n      const dropdowns = newShadowMenuWrapper.querySelectorAll(\".pfe-navigation__dropdown\");\n      for (let index = 0; index < dropdowns.length; index++) {\n        const dropdown = dropdowns[index];\n        let dropdownLink = dropdown.parentElement.querySelector(\".pfe-navigation__menu-link\");\n\n        // Convert dropdown links into buttons\n        const dropdownButton = document.createElement(\"button\");\n\n        // Move over or add important attributes and content\n        dropdownButton.setAttribute(\"class\", dropdownLink.getAttribute(\"class\"));\n        dropdownButton.classList.add(\"pfe-navigation__menu-link--has-dropdown\");\n\n        dropdownButton.innerHTML = dropdownLink.innerHTML;\n        // Keep data attributes from link with the button\n        const dropdownLinkAttributes = dropdownLink.getAttributeNames();\n        for (let index = 0; index < dropdownLinkAttributes.length; index++) {\n          const currentAttribute = dropdownLinkAttributes[index];\n          if (currentAttribute.startsWith(\"data-\")) {\n            dropdownButton.setAttribute(currentAttribute, dropdownLink.getAttribute(currentAttribute));\n          }\n        }\n        dropdownButton.dataset.machineName = this._createMachineName(dropdownLink.text);\n\n        // Add dropdown behavior\n        dropdownButton.addEventListener(\"click\", this._dropdownItemToggle);\n        dropdownLink.parentElement.replaceChild(dropdownButton, dropdownLink);\n\n        // Set Id's for the button and dropdown and add their ID's to the parent li for easy access\n        const dropdownButtonId = `main-menu__button--${dropdownButton.dataset.machineName}`;\n        const dropdownId = `main-menu__dropdown--${dropdownButton.dataset.machineName}`;\n        dropdownButton.setAttribute(\"id\", dropdownButtonId);\n\n        // Create wrapper for dropdown and give it appropriate classes and attributes\n        const dropdownWrapper = document.createElement(\"div\");\n\n        dropdownWrapper.classList.add(\"pfe-navigation__dropdown-wrapper\");\n        if (dropdown.classList.contains(\"pfe-navigation__dropdown--single-column\")) {\n          dropdownWrapper.classList.add(\"pfe-navigation__dropdown-wrapper--single-column\");\n        }\n        dropdownWrapper.setAttribute(\"id\", dropdownId);\n\n        dropdownWrapper.appendChild(dropdown);\n        dropdownButton.parentElement.appendChild(dropdownWrapper);\n        dropdownButton.parentElement.dataset.dropdownId = dropdownId;\n        dropdownButton.setAttribute(\"aria-controls\", dropdownId);\n\n        // Add custom event for interactive elements in shadowDom so anayltics can capture them acccurately\n        // We'll omit elements that have custom events already to avoid double reporting\n        dropdownWrapper.addEventListener(\"click\", this._shadowDomInteraction);\n\n        // Set everything to closed by default\n        this._addCloseDropdownAttributes(dropdownButton, dropdownWrapper);\n      }\n    }\n    //--------------------------------------------------\n    // End best time to manipulate DOM in nav\n    //--------------------------------------------------\n\n    // Replace the menu in the shadow DOM\n    this._shadowMenuWrapper.parentElement.replaceChild(newShadowMenuWrapper, this._shadowMenuWrapper);\n    this._shadowMenuWrapper = newShadowMenuWrapper;\n\n    // Recalculate main menu breakpoint\n    this._menuBounds.mainMenuRight = null;\n    recalculateMenuBreakpoints = true;\n\n    // Re-set pointers to commonly used elements that just got paved over\n    this._menuDropdownXs = this.shadowRoot.getElementById(\"mobile__dropdown\");\n    this._menuDropdownMd = this.shadowRoot.getElementById(\"pfe-navigation__menu-wrapper\");\n    if (!this._menuDropdownMd) {\n      this.classList.add(\"pfe-navigation--no-main-menu\");\n    }\n\n    // Add menu burger behavior\n    this._mobileToggle.addEventListener(\"click\", this._toggleMobileMenu);\n\n    // Add search toggle behavior\n    this._searchToggle.addEventListener(\"click\", this._toggleSearch);\n\n    // General keyboard listener attached to the entire component\n    document.addEventListener(\"keydown\", this._generalKeyboardListener);\n\n    // Set initial on page load aria settings on all original buttons and their dropdowns\n    if (this._currentMobileDropdown) {\n      this._addCloseDropdownAttributes(this._mobileToggle, this._currentMobileDropdown);\n    }\n\n    // Add close attributes to built in dropdowns\n    this._addCloseDropdownAttributes(this._searchToggle, this._searchSpotMd);\n    this._addCloseDropdownAttributes(null, this._accountDropdownWrapper);\n\n    // Reconnecting mutationObserver for IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.observe(this, lightDomObserverConfig);\n    }\n\n    // Putting of heavy DOM calculations\n    if (recalculateMenuBreakpoints) {\n      window.setTimeout(() => {\n        this._calculateMenuBreakpoints();\n        this._calculateBreakpointAttribute();\n        this._setCurrentMobileDropdown();\n        // If we have a mobile dropdown make sure it has dropdown attributes\n        if (this._currentMobileDropdown) {\n          this._addCloseDropdownAttributes(this._mobileToggle, this._currentMobileDropdown);\n        }\n        this._moveSearchSlot();\n      }, 0);\n    }\n\n    if (this.isOpen()) {\n      this._changeNavigationState(this.openToggle, \"open\");\n    }\n\n    // Some cleanup and state management for after render\n    const postProcessLightDom = () => {\n      // Preventing issues in IE11 & Edge\n      if (_isCrustyBrowser()) {\n        this._observer.disconnect();\n      }\n\n      if (this.isMobileMenuButtonVisible() && !this.isOpen(\"mobile__button\")) {\n        this._addCloseDropdownAttributes(this._mobileToggle, this._currentMobileDropdown);\n      }\n\n      // Mobile slider elements have a tab trap that will need to be updated if content has been updated\n      const mobileSliderElements = this.querySelectorAll(\"[mobile-slider]\");\n      for (let index = 0; index < mobileSliderElements.length; index++) {\n        const currentMobileSliderElement = mobileSliderElements[index];\n        this._getLastFocusableItemInMobileSlider(currentMobileSliderElement);\n        const toggle = currentMobileSliderElement.querySelector(\".pfe-navigation__secondary-link\");\n        const dropdown = currentMobileSliderElement.querySelector(\".pfe-navigation__dropdown\");\n\n        // Add mutation observer if we don't have one already\n        if (toggle && toggle.id && dropdown && !this._mobileSliderMutationObservers[toggle.id]) {\n          this._mobileSliderMutationObservers[toggle.id] = new MutationObserver(() =>\n            this._getLastFocusableItemInMobileSlider(currentMobileSliderElement)\n          );\n          this._mobileSliderMutationObservers[toggle.id].observe(dropdown, { subtree: true, childList: true });\n        }\n      }\n\n      // Reconnecting mutationObserver for IE11 & Edge\n      if (_isCrustyBrowser()) {\n        this._observer.observe(this, lightDomObserverConfig);\n      }\n    };\n\n    window.setTimeout(postProcessLightDom, 0);\n  } // end _processLightDom()\n\n  /**\n   * Behavior for main menu breakpoint\n   * @param {object} event Event from MediaQueryList\n   */\n  _collapseMainMenu(event) {\n    if (event.matches) {\n      this.classList.add(\"pfe-navigation--collapse-main-menu\");\n    } else {\n      this.classList.remove(\"pfe-navigation--collapse-main-menu\");\n    }\n  }\n\n  /**\n   * Behavior for secondary links breakpoint\n   * @param {object} event Event from MediaQueryList\n   */\n  _collapseSecondaryLinks(event) {\n    if (event.matches) {\n      this.classList.add(\"pfe-navigation--collapse-secondary-links\");\n    } else {\n      this.classList.remove(\"pfe-navigation--collapse-secondary-links\");\n    }\n  }\n\n  /**\n   * Calculate the points where the main menu and secondary links should be collapsed and adds them\n   * To recalculate a breakpoint set this.menuBreakpoint[name] to null and run this function.\n   */\n  _calculateMenuBreakpoints() {\n    if (_isCrustyBrowser()) {\n      return;\n    }\n\n    // Only recreate media queries if something changed\n    let recreateMediaQueries = false;\n    // How much white space to add to some of these calculations\n    // @todo future - 20 should probably be based on a CSS value or DOM measurement\n    const someExtraWhiteSpace = 20;\n\n    // Calculate space needed for logo\n    if (this._menuBounds.logoRight === null) {\n      if (this._logoWrapper) {\n        const logoBoundingRect = this._logoWrapper.getBoundingClientRect();\n        // Getting the right boundary, which will include menu padding and the image's width\n        const logoRight = Math.ceil(logoBoundingRect.right);\n        // Compare new value with old value to see if there was any change\n        if (logoRight && logoRight !== this._menuBounds.logoRight) {\n          this._menuBounds.logoRight = logoRight;\n          recreateMediaQueries = true;\n        }\n      }\n    }\n\n    // Calculate space needed for logo and main menu\n    if (!this._menuBounds.mainMenuRight && !this.isMobileMenuButtonVisible()) {\n      const navigation = this.shadowRoot.getElementById(\"pfe-navigation__menu\");\n      if (navigation) {\n        const navigationBoundingRect = navigation.getBoundingClientRect();\n\n        // Gets the length from the left edge of the screen to the right side of the navigation\n        const mainMenuRight = Math.ceil(navigationBoundingRect.right);\n        // Compare new value with old value to see if there was any change\n        if (mainMenuRight && mainMenuRight !== this._menuBounds.mainMenuRight) {\n          this._menuBounds.mainMenuRight = mainMenuRight;\n          recreateMediaQueries = true;\n        }\n      }\n    }\n\n    // Calculate space needed for right padding and secondary links\n    if (!this._menuBounds.secondaryLinksLeft && !this.isSecondaryLinksSectionCollapsed()) {\n      let leftMostSecondaryLink = null;\n      let secondaryLinksLeft = null;\n      let leftMostSecondaryLinkBoundingRect = null;\n\n      if (this.hasSlot(\"search\")) {\n        leftMostSecondaryLink = this._searchToggle;\n      } else if (this.hasSlot(\"secondary-links\")) {\n        leftMostSecondaryLink = this.getSlot(\"secondary-links\")[0];\n      } else if (this._accountToggle) {\n        leftMostSecondaryLink = this._accountToggle;\n      } else if (this._accountLogInLink) {\n        leftMostSecondaryLink = this._accountLogInLink;\n      } else {\n        // We don't have a left most secondary link, use padding on the nav\n        secondaryLinksLeft = parseInt(window.getComputedStyle(this._shadowDomOuterWrapper, false).paddingRight);\n      }\n      if (leftMostSecondaryLink) {\n        leftMostSecondaryLinkBoundingRect = leftMostSecondaryLink.getBoundingClientRect();\n\n        // Gets the length from the right edge of the screen to the left side of the left most secondary link\n        secondaryLinksLeft = window.innerWidth - Math.ceil(leftMostSecondaryLinkBoundingRect.left);\n      }\n      // Compare new value with old value to see if there was any change\n      if (\n        leftMostSecondaryLinkBoundingRect &&\n        secondaryLinksLeft &&\n        secondaryLinksLeft !== this._menuBounds.secondaryLinksLeft\n      ) {\n        this._menuBounds.secondaryLinksLeft = window.innerWidth - Math.ceil(leftMostSecondaryLinkBoundingRect.left);\n        recreateMediaQueries = true;\n      }\n    }\n\n    // Only true if a length has changed\n    if (recreateMediaQueries) {\n      if (this._menuBounds.secondaryLinksLeft) {\n        if (this._menuBounds.mainMenuRight) {\n          this._menuBreakpoints.mainMenu = this._menuBounds.mainMenuRight + this._menuBounds.secondaryLinksLeft;\n        } else if (this._menuBounds.logoRight) {\n          this._menuBreakpoints.mainMenu =\n            this._menuBounds.logoRight + this._menuBounds.secondaryLinksLeft + someExtraWhiteSpace;\n        }\n\n        // Remove old listener\n        if (this._menuBreakpointQueries.mainMenu) {\n          this._removeMediaQueryListener(this._menuBreakpointQueries.mainMenu, this._collapseMainMenu);\n        }\n        // Create new one\n        this._menuBreakpointQueries.mainMenu = window.matchMedia(`(max-width: ${this._menuBreakpoints.mainMenu}px)`);\n        this._addMediaQueryListener(this._menuBreakpointQueries.mainMenu, this._collapseMainMenu);\n      }\n\n      if (this._menuBounds.logoRight && this._menuBounds.secondaryLinksLeft) {\n        this._menuBreakpoints.secondaryLinks =\n          this._menuBounds.logoRight +\n          this._menuBounds.secondaryLinksLeft +\n          this._mobileToggle.offsetWidth +\n          someExtraWhiteSpace;\n\n        // Remove old listener\n        if (this._menuBreakpointQueries.secondaryLinks) {\n          this._removeMediaQueryListener(this._menuBreakpointQueries.secondaryLinks, this._collapseSecondaryLinks);\n        }\n        // Create new listener\n        this._menuBreakpointQueries.secondaryLinks = window.matchMedia(\n          `(max-width: ${this._menuBreakpoints.secondaryLinks}px)`\n        );\n        this._addMediaQueryListener(this._menuBreakpointQueries.secondaryLinks, this._collapseSecondaryLinks);\n      }\n\n      this.log(\"Menu Bounds updated, updating mediaQueries\", {\n        // Flattening object so what it was at the time of logging doesn't get updated\n        menuBounds: `logoRight: ${this._menuBounds.logoRight}, mainMenuRight: ${this._menuBounds.mainMenuRight}, secondaryLinksLeft: ${this._menuBounds.secondaryLinksLeft}`,\n        menuBreakpoints: `secondaryLinks: ${this._menuBreakpoints.secondaryLinks}, mainMenu: ${this._menuBreakpoints.mainMenu}`,\n      });\n    }\n  }\n\n  /**\n   * Depending on breakpoint we need to move the search slot to one of two places to make a logical tab order\n   */\n  _moveSearchSlot() {\n    // Preventing issues in IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.disconnect();\n    }\n\n    if (this.isSecondaryLinksSectionCollapsed()) {\n      this._removeDropdownAttributes(null, this._searchSpotMd);\n      if (this._searchSlot.parentElement !== this._searchSpotXs) {\n        this._searchSpotXs.appendChild(this._searchSlot);\n      }\n    } else {\n      if (this._searchSlot.parentElement !== this._searchSpotMd) {\n        this._searchSpotMd.appendChild(this._searchSlot);\n      }\n      if (this.isOpen(\"secondary-links__button--search\")) {\n        this._addOpenDropdownAttributes(null, this._searchSpotMd);\n      } else {\n        this._addCloseDropdownAttributes(null, this._searchSpotMd);\n      }\n    }\n\n    // Reconnecting mutationObserver for IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.observe(this, lightDomObserverConfig);\n    }\n  }\n\n  /**\n   * Adjustments to behaviors and DOM that need to be made after a resize event\n   */\n  _postResizeAdjustments() {\n    if (this._menuBreakpoints.mainMenu === null || this._menuBreakpoints.secondaryLinks === null) {\n      this._calculateMenuBreakpoints();\n    }\n\n    // Track current navigation state\n    const openToggle = this.openToggle ? this.getToggleElement(this.openToggle) : null;\n    const openDropdownId = this.openToggle ? this._getDropdownId(this.openToggle) : null;\n    const openDropdown = openDropdownId ? this.getDropdownElement(openDropdownId) : null;\n\n    // Track previous state and new state\n    const oldMobileDropdown = this._currentMobileDropdown;\n\n    this._setCurrentMobileDropdown();\n    const breakpointWas = this.breakpoint;\n    const breakpointIs = this._calculateBreakpointAttribute();\n\n    // Things that need to be checked if b\n    if (breakpointIs !== breakpointWas) {\n      // Make sure search slot is in the right spot, based on breakpoint\n      this._moveSearchSlot();\n\n      ///\n      // Manage mobile toggle & dropdown state\n      ///\n      if (breakpointIs === \"desktop\") {\n        // At desktop the mobile dropdown is just a wrapper\n        this._removeDropdownAttributes(this._mobileToggle, this._currentMobileDropdown);\n\n        // Mobile button doesn't exist on desktop, so we need to clear the state if that's the only thing that's open\n        if (openToggle === \"mobile__button\") {\n          this.removeAttribute(\"open-toggle\");\n        }\n      } else {\n        // Make sure old dropdown doesn't have dropdown aria and state attributes\n        if (this._currentMobileDropdown !== oldMobileDropdown && oldMobileDropdown !== null) {\n          this._removeDropdownAttributes(null, oldMobileDropdown);\n        }\n\n        // Make sure the current mobile dropdown has the correct attributes\n        if (this.isOpen(\"mobile__button\")) {\n          this._addOpenDropdownAttributes(this._mobileToggle, this._currentMobileDropdown);\n        } else {\n          this._addCloseDropdownAttributes(this._mobileToggle, this._currentMobileDropdown);\n        }\n      }\n\n      ///\n      // Manage overlay state\n      ///\n      if (this.isOpen() && (breakpointIs === \"desktop\" || breakpointIs === \"tablet\")) {\n        this._overlay.hidden = false;\n      } else {\n        this._overlay.hidden = true;\n      }\n\n      if (breakpointIs === \"mobile\") {\n        if (openToggle) {\n          const mobileSlideParent = openToggle.closest(\"[mobile-slider]\");\n          if (mobileSlideParent) {\n            this.mobileSlide = true;\n          }\n        }\n      }\n    }\n\n    ///\n    // Manage Dropdown Heights\n    ///\n    if (openToggle && openDropdown) {\n      // Main menu needs a height set at mobile/tablet\n      if (openToggle.id.startsWith(\"main-menu__button--\")) {\n        if (breakpointIs !== \"desktop\") {\n          this._setDropdownHeight(openDropdown);\n        } else {\n          openDropdown.style.removeProperty(\"height\");\n        }\n      }\n      // Secondary menu dropdowns get set at mobile only\n      else if (openToggle.id.startsWith(\"pfe-navigation__secondary-link--\")) {\n        if (this.breakpoint === \"mobile\") {\n          this._setDropdownHeight(openDropdown);\n        } else {\n          openDropdown.style.removeProperty(\"height\");\n        }\n      }\n    }\n\n    ///\n    // ! Begin lines need to be at the end of this function\n    ///\n    // Remove class that hides nav while it's resizing\n    this.classList.remove(\"pfe-navigation--is-resizing\");\n\n    // Set layout state vars for next resize\n    this._wasMobileMenuButtonVisible = this.isMobileMenuButtonVisible();\n    this._wasSecondaryLinksSectionCollapsed = this.isSecondaryLinksSectionCollapsed();\n\n    this.breakpoint = breakpointIs;\n    ///\n    // ! End lines that need to be at the end of this function\n    ///\n  } // end _postResizeAdjustments()\n\n  /**\n   * Event listeners for toggles\n   */\n  _toggleMobileMenu() {\n    if (!this.isOpen(\"mobile__button\")) {\n      this._changeNavigationState(\"mobile__button\", \"open\");\n      // Show main menu when mobile All Red Hat menu is closed\n      this._showMobileMainMenu();\n    } else {\n      this._changeNavigationState(\"mobile__button\", \"close\");\n      // @todo: (KS) decide if I need this (i do not think so rn)\n      // Hide main menu when mobile All Red Hat menu is open\n      // this._hideMobileMainMenu();\n    }\n  }\n\n  _toggleSearch() {\n    this._changeNavigationState(\"secondary-links__button--search\");\n    // Move focus to search field when Desktop search button is activated\n    this._searchFieldFocusHandler();\n  }\n\n  _dropdownItemToggle(event) {\n    event.preventDefault();\n    const dropdownItem = event.target;\n    const toggleId = dropdownItem.id;\n    this._changeNavigationState(toggleId);\n  }\n\n  /**\n   * Default Keydown Keyboard event handler\n   * @param {object} event\n   */\n  _generalKeyboardListener(event) {\n    const key = event.key;\n    // If Escape wasn't pressed, or the nav is closed, SMOKE BOMB\n    if (key !== \"Escape\" || !this.isOpen()) {\n      return;\n    }\n\n    // event.which is deprecated\n    // see @resource: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/which\n    event.preventDefault();\n    event.stopPropagation();\n\n    const currentlyOpenToggleId = this.openToggle;\n    const openToggle = this.getDropdownElement(currentlyOpenToggleId);\n    const currentBreakpoint = this.breakpoint;\n\n    switch (currentBreakpoint) {\n      case \"mobile\":\n        // close mobile menu\n        this._changeNavigationState(\"mobile__button\", \"close\");\n        // Set the focus back onto the mobile menu trigger toggle only when escape is pressed\n        this._mobileToggle.focus();\n        break;\n\n      case \"tablet\":\n        // if it's a child of main menu (e.g. currentlyOpenToggleId.startsWith(\"main-menu\") -- accordion dropdown) close mobile__button\n        // Else close currentlyOpenToggleId -- desktop menu\n        if (currentlyOpenToggleId.startsWith(\"main-menu\")) {\n          this._changeNavigationState(\"mobile__button\", \"close\");\n          // Set the focus back onto the mobile menu trigger toggle only when escape is pressed\n          this._mobileToggle.focus();\n        } else {\n          this._changeNavigationState(currentlyOpenToggleId, \"close\");\n          // Set the focus back onto the trigger toggle only when escape is pressed\n          openToggle.focus();\n        }\n        break;\n\n      case \"desktop\":\n        this._changeNavigationState(currentlyOpenToggleId, \"close\");\n        // Set the focus back onto the trigger toggle only when escape is pressed\n        openToggle.focus();\n        break;\n    }\n  }\n\n  /**\n   * Back to Menu Event Handler\n   * close All Red Hat Menu and go back to Main Mobile Menu and set focus back to All Red Hat Toggle\n   * Show main menu\n   */\n  _siteSwitcherBackClickHandler() {\n    this._changeNavigationState(\"mobile__button\", \"open\");\n    // Show main menu when All Red Hat menu is closed\n    this._showMobileMainMenu();\n    if (this._siteSwitcherToggle) {\n      this._siteSwitcherToggle.focus();\n    }\n  }\n\n  /**\n   * Overlay Event Handler\n   * close menu when overlay is clicked\n   */\n  _overlayClickHandler() {\n    if (this.openToggle) {\n      this._changeNavigationState(this.openToggle, \"close\");\n    }\n    // @todo Check a11y expectations\n    switch (this.breakpoint) {\n      case \"mobile\":\n        this._changeNavigationState(\"mobile__button\", \"close\");\n        break;\n      case \"tablet\":\n        // if it's a child of main menu (e.g. openToggleId.startsWith(\"main-menu\") -- accordion dropdown) close mobile__button\n        // Else close openToggleId -- desktop menu\n        if (this.openToggle && this.openToggle.startsWith(\"main-menu\")) {\n          this._changeNavigationState(\"mobile__button\", \"close\");\n        }\n        break;\n    }\n  }\n\n  /**\n   * Sticky Handler\n   * turn nav into sticky nav\n   */\n  _stickyHandler() {\n    const stuckClass = \"pfe-navigation--stuck\";\n    if (window.pageYOffset >= this._top) {\n      if (!this.classList.contains(stuckClass)) this.classList.add(stuckClass);\n    } else {\n      if (this.classList.contains(stuckClass)) this.classList.remove(stuckClass);\n    }\n  }\n\n  /**\n   * Hide main menu from screen readers and keyboard when mobile All Red Hat menu is open\n   */\n  _hideMobileMainMenu() {\n    // Search\n    this._searchSpotXs.setAttribute(\"hidden\", \"\");\n\n    // Main menu\n    if (this._menuDropdownMd) {\n      this._menuDropdownMd.setAttribute(\"hidden\", \"\");\n    }\n  }\n\n  /**\n   * Show main menu to screen readers and keyboard users when Back to main menu button is pressed\n   */\n  _showMobileMainMenu() {\n    // Search\n    this._searchSpotXs.removeAttribute(\"hidden\");\n\n    // Main menu\n    if (this._menuDropdownMd) {\n      this._menuDropdownMd.removeAttribute(\"hidden\");\n    }\n  }\n\n  /**\n   * Set focus to search field when search button is pressed on Desktop\n   * if search input exists set to the light dom search input field (either type=text or type=search) so focus is in the correct place for screen readers and keyboards\n   */\n  _searchFieldFocusHandler() {\n    const searchBox = this.querySelector(\"[slot='search']  input[type='text'], [slot='search']  input[type='search']\");\n\n    if (searchBox) {\n      searchBox.focus();\n    }\n  }\n\n  /**\n   * Utility function to create log in link\n   * @param {string} logInUrl URL for login\n   * @return {object} DOM Object for link\n   */\n  _createLogInLink(logInUrl) {\n    if (this._accountLogInLink === null) {\n      const logInLink = document.createElement(\"a\");\n      logInLink.setAttribute(\"href\", logInUrl);\n      logInLink.innerText = `${\n        this._lang !== \"en\" && this._navTranslations ? this._navTranslations[this._lang].login : \"Log in\"\n      }`;\n      logInLink.classList.add(\"pfe-navigation__log-in-link\");\n      logInLink.prepend(this._createPfeIcon(\"web-icon-user\"));\n      logInLink.dataset.analyticsLevel = 1;\n      logInLink.dataset.analyticsText = \"Log In\";\n      logInLink.dataset.analyticsCategory = \"Log In\";\n      logInLink.id = \"pfe-navigation__log-in-link\";\n      this._accountLogInLink = logInLink;\n      return logInLink;\n    }\n  }\n\n  /**\n   * Creates Avatar Markup\n   * @param {string} name User's Name\n   * @param {string} src Optional, Path to avatar image\n   */\n  _createPfeAvatar(name, src) {\n    const pfeAvatar = document.createElement(`pfe-avatar`);\n    pfeAvatar.setAttribute(\"name\", name);\n    pfeAvatar.setAttribute(\"shape\", \"circle\");\n\n    if (typeof src === \"string\") {\n      pfeAvatar.setAttribute(\"src\", src);\n    }\n\n    return pfeAvatar;\n  }\n\n  /**\n   * Create Account menu button\n   * @param {string} fullName Full name of the user\n   * @param {string} avatarSrc URL for an avatar image\n   * @return {object} Reference to toggle\n   */\n  _createAccountToggle(fullName, avatarSrc) {\n    if (this._accountToggle === null) {\n      const accountToggle = document.createElement(\"button\");\n      accountToggle.classList.add(\"pfe-navigation__account-toggle\");\n      accountToggle.id = \"pfe-navigation__account-toggle\";\n      // @todo probably needs more a11y thought\n      // @todo translate\n      accountToggle.setAttribute(\"aria-label\", \"Open user menu\");\n\n      accountToggle.dataset.analyticsLevel = 1;\n      accountToggle.dataset.analyticsText = \"Account\";\n      accountToggle.dataset.analyticsCategory = \"Account\";\n\n      const pfeAvatar = this._createPfeAvatar(fullName, avatarSrc);\n      accountToggle.appendChild(pfeAvatar);\n      this._accountToggle = accountToggle;\n\n      return accountToggle;\n    }\n  }\n\n  _accountToggleClick() {\n    this._changeNavigationState(this._accountToggle.id);\n  }\n\n  /**\n   * Handle DOM updates on the account dropdown\n   * @param {object} mutationItem Part of a mutationObserver event object for the change\n   */\n  _processAccountDropdownChange(mutationItem) {\n    // If the account component doesn't exist yet we can't do anything\n    if (!this._accountComponent) {\n      // If we don't have accountComponent set yet and we can confirm this is it, set the var.\n      if (\n        mutationItem.target.getAttribute(\"slot\") === \"account\" &&\n        mutationItem.target.parentElement.tagName === \"PFE-NAVIGATION\"\n      ) {\n        this._accountComponent = mutationItem.target;\n      }\n      // If we can't find the accountComponent and it isn't set, we can't do anything else.\n      else {\n        return;\n      }\n    }\n    if (this._accountLogInLink === null) {\n      // Create login link\n      const logInLink = this._accountComponent.getAttribute(\"login-link\");\n      if (logInLink) {\n        this._accountOuterWrapper.prepend(this._createLogInLink(logInLink));\n      }\n    } else if (mutationItem.type === \"attributes\" && mutationItem.attributeName === \"login-link\") {\n      // Deal with login link changes\n      this.shadowRoot\n        .getElementById(\"pfe-navigation__log-in-link\")\n        .setAttribute(\"href\", this._accountComponent.getAttribute(\"login-link\"));\n    }\n\n    if (this._accountToggle === null) {\n      // Create account toggle\n      const fullName = this._accountComponent.getAttribute(\"full-name\");\n      if (fullName) {\n        this._accountOuterWrapper.prepend(\n          this._createAccountToggle(fullName, this._accountComponent.getAttribute(\"avatar-url\"))\n        );\n        this._accountOuterWrapper.classList.add(\"pfe-navigation__account-wrapper--logged-in\");\n        this._accountToggle.setAttribute(\"aria-controls\", this._accountDropdownWrapper.id);\n        this._addCloseDropdownAttributes(this._accountToggle, this._accountDropdownWrapper);\n\n        this._accountToggle.addEventListener(\"click\", this._accountToggleClick);\n\n        // Recalculate secondary links breakpoint\n        this._menuBreakpoints.secondaryLinks = null;\n      }\n    } else {\n      // Deal with account toggle changes\n      if (mutationItem.type === \"attributes\") {\n        if (mutationItem.attributeName === \"avatar-url\") {\n          this._accountToggle\n            .querySelector(\"pfe-avatar\")\n            .setAttribute(\"src\", this._accountComponent.getAttribute(\"avatar-url\"));\n        }\n        if (mutationItem.attributeName === \"full-name\") {\n          this._accountToggle\n            .querySelector(\"pfe-avatar\")\n            .setAttribute(\"full-name\", this._accountComponent.getAttribute(\"full-name\"));\n        }\n      }\n    }\n\n    // Unset the secondaryLinks bound because it will update with an account toggle\n    // Then recalculate the JS breakpoints\n    this._menuBounds.secondaryLinksLeft = null;\n    window.setTimeout(this._calculateMenuBreakpoints, 0);\n  }\n\n  /**\n   * Handle the slot change event\n   */\n  _processAccountSlotChange() {\n    const slottedElements = this.getSlot(\"account\");\n    if (slottedElements) {\n      this._accountOuterWrapper.hidden = false;\n      if (this._accountComponent === null) {\n        for (let index = 0; index < slottedElements.length; index++) {\n          if (\n            slottedElements[index].tagName === \"PFE-NAVIGATION-ACCOUNT\" ||\n            slottedElements[index].tagName === \"RH-ACCOUNT-DROPDOWN\"\n          ) {\n            this._accountComponent = slottedElements[index];\n            this._processAccountDropdownChange();\n          }\n        }\n      }\n    } else {\n      this._accountOuterWrapper.hidden = true;\n    }\n  }\n\n  /**\n   * Gets the last focusable element in a mobile-slider so we can trap focus\n   * @param {object} mobileSwipeParent DOM Element that is slotted and has the mobile-slider attribute\n   * @return {object} DOM Reference to last focusable element\n   */\n  _getLastFocusableItemInMobileSlider(mobileSwipeParent) {\n    const dropdown = mobileSwipeParent.querySelector(\".pfe-navigation__dropdown\");\n    let focusableChildren = null;\n    if (dropdown) {\n      focusableChildren = dropdown.querySelectorAll(this._focusableElements);\n    }\n    if (focusableChildren.length) {\n      const toggle = mobileSwipeParent.querySelector(\".pfe-navigation__secondary-link\");\n      const firstFocusableElement = focusableChildren[0];\n      const lastFocusableElement = focusableChildren[focusableChildren.length - 1];\n\n      // Initialize arrays for first and last elements and events if they don't exist\n      if (!this._mobileSliderFocusTrapElements[toggle.id]) {\n        this._mobileSliderFocusTrapElements[toggle.id] = [];\n      }\n      if (!this._mobileSliderFocusTrapEvents[toggle.id]) {\n        this._mobileSliderFocusTrapEvents[toggle.id] = [];\n      }\n\n      // If there was any change in the first or last element, redo everything\n      if (\n        !this._mobileSliderFocusTrapElements[toggle.id] ||\n        this._mobileSliderFocusTrapElements[toggle.id][\"last\"] !== lastFocusableElement ||\n        !this._mobileSliderFocusTrapElements[toggle.id] ||\n        this._mobileSliderFocusTrapElements[toggle.id][\"first\"] !== firstFocusableElement\n      ) {\n        // Preventing issues in IE11 & Edge\n        if (_isCrustyBrowser() && this._mobileSliderMutationObservers[toggle.id]) {\n          this._mobileSliderMutationObservers[toggle.id].disconnect();\n        }\n\n        // Cleanup any previous last focusable elements\n        const previousLastFocusableElement = this._mobileSliderFocusTrapElements[toggle.id]\n          ? this._mobileSliderFocusTrapElements[toggle.id][\"last\"]\n          : null;\n        if (previousLastFocusableElement) {\n          previousLastFocusableElement.removeEventListener(\n            \"keydown\",\n            this._mobileSliderFocusTrapEvents[toggle.id][\"last\"]\n          );\n        }\n\n        // Setup new last focusable element\n        this._mobileSliderFocusTrapElements[toggle.id][\"last\"] = lastFocusableElement;\n        this._mobileSliderFocusTrapEvents[toggle.id][\"last\"] = (event) => {\n          if (event.key === \"Tab\") {\n            if (this.breakpoint === \"mobile\") {\n              if (!event.shiftKey) {\n                event.preventDefault();\n                firstFocusableElement.focus();\n              }\n            }\n          }\n        };\n        lastFocusableElement.addEventListener(\"keydown\", this._mobileSliderFocusTrapEvents[toggle.id][\"last\"]);\n\n        // Handle first focusable element\n        // Cleanup any previous first focusable elements\n        const previousFirstFocusableElement = this._mobileSliderFocusTrapElements[toggle.id]\n          ? this._mobileSliderFocusTrapElements[toggle.id][\"first\"]\n          : null;\n        if (previousFirstFocusableElement) {\n          previousFirstFocusableElement.removeEventListener(\n            \"keydown\",\n            this._mobileSliderFocusTrapEvents[toggle.id][\"first\"]\n          );\n        }\n\n        // Setup new first focusable element\n        this._mobileSliderFocusTrapElements[toggle.id][\"first\"] = firstFocusableElement;\n        this._mobileSliderFocusTrapEvents[toggle.id][\"first\"] = (event) => {\n          if (event.key === \"Tab\") {\n            if (this.breakpoint === \"mobile\") {\n              if (event.shiftKey) {\n                event.preventDefault();\n                lastFocusableElement.focus();\n              }\n            }\n          }\n        };\n        firstFocusableElement.addEventListener(\"keydown\", this._mobileSliderFocusTrapEvents[toggle.id][\"first\"]);\n\n        // Reconnecting mutationObserver for IE11 & Edge\n        if (_isCrustyBrowser() && this._mobileSliderMutationObservers[toggle.id]) {\n          this._mobileSliderMutationObservers[toggle.id].observe(dropdown, { subtree: true, childList: true });\n        }\n      }\n    } else {\n      this.log(\"Couldn't find any focusable children in a mobile-slide element\", mobileSwipeParent);\n    }\n  }\n}\n\nPFElement.create(PfeNavigation);\n\nclass PfeNavigationDropdown extends PFElement {\n\n  // Injected at build-time\n  static get version() {\n    return \"1.0.59\";\n  }\n\n  // Injected at build-time\n  get html() {\n    return `\n<style>:host{display:block}:host([hidden]){display:none} /*# sourceMappingURL=pfe-navigation-dropdown.min.css.map */</style>\n<div id=\"dropdown-container\">\n  <slot></slot>\n</div>`;\n  }\n\n  // @TODO: Deprecating in 1.0 release\n  // Injected at build-time\n  static get schemaProperties() {\n    return {\"icon\":{\"title\":\"Icon\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true},\"name\":{\"title\":\"Name\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true},\"alerts\":{\"title\":\"Alerts\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true},\"state\":{\"title\":\"State\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true},\"height\":{\"title\":\"Height\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true}};\n  }\n\n  // Injected at build-time\n  static get slots() {\n    return {\"default\":{\"title\":\"Default slot\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"raw\"}]}}};\n  }\n\n  static get tag() {\n    return \"pfe-navigation-dropdown\";\n  }\n\n  get schemaUrl() {\n    return \"pfe-navigation-dropdown.json\";\n  }\n\n  get templateUrl() {\n    return \"pfe-navigation-dropdown.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-navigation-dropdown.scss\";\n  }\n\n  static get events() {\n    return {};\n  }\n\n  static get properties() {\n    return {\n      name: {\n        title: \"Button text/Dropdown name\",\n        type: String,\n      },\n      icon: {\n        title: \"What icon to use, must be available in pfe-icon\",\n        type: String,\n      },\n      dropdownWidth: {\n        type: String,\n        title: \"Width of the dropdown, 'single' or 'full' for single column, or full screen width\",\n        default: \"full\",\n        values: [\"single\", \"full\"],\n      },\n      alerts: {\n        type: String,\n        title: \"Adds bubble next to icon with the value of the attribute\",\n      },\n    };\n  }\n\n  static get slots() {\n    return {};\n  }\n\n  // Declare the type of this component\n  static get PfeType() {\n    return PFElement.PfeTypes.Container;\n  }\n\n  constructor() {\n    super(PfeNavigationDropdown, { type: PfeNavigationDropdown.PfeType });\n\n    // Make sure 'this' is set to the component in our methods\n    this._processDom = this._processDom.bind(this);\n\n    // Setting up vars\n    this.processDomObserverConfig = {\n      subtree: true,\n      childList: true,\n    };\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // Process DOM on connect\n    this._processDom();\n    // Observe in case there are updates\n    this._processDomMutationObserver = new MutationObserver(this._processDom);\n    this._processDomMutationObserver.observe(this, this.processDomObserverConfig);\n  }\n\n  /*\n   * @note v1.x markup:\n   * 1.x secondary links with special slots should appear in dropdown\n   * Have to run this in a mutation observer in case we're in an Angular context\n   * @see https://medium.com/patternfly-elements/more-resilientweb-components-in-angular-or-anywhere-else-with-mutationobserver-72a91cd7cf22\n   */\n  _processDom() {\n    // Preventing issues in IE11 & Edge\n    if (_isCrustyBrowser() && this._processDomMutationObserver) {\n      this._processDomMutationObserver.disconnect();\n    }\n\n    // Iterate over children and create new slots based on old nav slots\n    for (let index = 0; index < this.children.length; index++) {\n      const child = this.children[index];\n      const childSlot = child.getAttribute(\"slot\");\n\n      if (childSlot && !this.shadowRoot.querySelector(`[slot=\"${childSlot}\"]`)) {\n        const newSlot = document.createElement(\"slot\");\n        newSlot.setAttribute(\"name\", childSlot);\n        this.shadowRoot.getElementById(\"dropdown-container\").appendChild(newSlot);\n      }\n\n      // Hide the trigger, since we don't use it in this version of nav\n      const trigger = this.querySelector('[slot=\"trigger\"]');\n      if (trigger) {\n        trigger.hidden = true;\n      }\n\n      // Unhide tray which is generally the default\n      const tray = this.querySelector('[slot=\"tray\"]');\n      if (tray) {\n        tray.hidden = false;\n      }\n\n      // Reconnecting mutationObserver for IE11 & Edge\n      if (_isCrustyBrowser() && this._processDomMutationObserver) {\n        this._processDomMutationObserver.observe(this, lightDomObserverConfig);\n      }\n    }\n  }\n}\n\nPFElement.create(PfeNavigationDropdown);\n\nexport default PfeNavigation;\n"],"names":["debounce","func","delay","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","_isCrustyBrowser","window","ShadyCSS","nativeShadow","lightDomObserverConfig","characterData","attributes","subtree","childList","PfeNavigation","_data","data","expandedItem","tag","collapsedItem","shadowDomInteraction","pfeNavigationItemOpen","pfeNavigationItemClose","PFElement","PfeTypes","Combo","_lang","title","attr","type","String","default","observer","mobileButtonTranslation","searchButtonTranslation","breakpoint","openToggle","mobileSlide","Boolean","role","sticky","pfeSticky","alias","PfeType","_shadowDomOuterWrapper","shadowRoot","getElementById","_logoWrapper","_shadowMenuWrapper","_mobileToggle","_mobileToggleText","_mobileButton","querySelector","_menuDropdownXs","_menuDropdownMd","_secondaryLinksWrapper","_searchToggle","_searchToggleText","_searchSlot","_searchSpotXs","_searchSpotMd","_customLinksSlot","_mobileNavSearchSlot","_overlay","_shadowNavWrapper","_accountOuterWrapper","_accountSlot","_accountDropdownWrapper","_searchButtonText","_siteSwitcherToggle","_siteSwitcherBackButton","_accountComponent","_accountToggle","_accountLogInLink","_currentMobileDropdown","_focusableElements","_menuBreakpoints","secondaryLinks","mainMenu","_menuBounds","logoRight","mainMenuRight","secondaryLinksLeft","_customDropdownAlertsObservers","_mobileSliderMutationObservers","_mobileSliderFocusTrapEvents","_mobileSliderFocusTrapElements","_debouncedPreResizeAdjustments","_debouncedPostResizeAdjustments","_menuBreakpointQueries","_prefersReducedMotion","windowInnerWidth","mainMenuButtonVisible","secondaryLinksSectionCollapsed","functionsToBind","index","length","functionName","bind","error","addEventListener","_processSearchSlotChange","_processAccountSlotChange","_observer","MutationObserver","_processLightDom","_overlayClickHandler","_isDevelopment","_debugLog","classList","add","observe","preResizeAdjustments","_resizeDebounce","_postResizeAdjustments","passive","_calculateBreakpointAttribute","_top","getBoundingClientRect","top","_stickyHandler","requestAnimationFrame","prefersReducedMotionQuery","matchMedia","matches","hasAttribute","closestHeader","closest","log","_focusOutOfNav","disconnect","removeEventListener","_toggleMobileMenu","_toggleSearch","document","_generalKeyboardListener","_siteSwitcherBackClickHandler","mobileSliderObserverKeys","Object","keys","customDropdownAlertsObserversKeys","currentId","mobileSliderFocusTrapKeys","menuBreakpointQueriesKeys","menuBreakpointQueryKey","_removeMediaQueryListener","_collapseMainMenu","_collapseSecondaryLinks","_accountToggleClick","dropdownButtons","querySelectorAll","dropdownButton","_dropdownItemToggle","mediaQueryObject","eventHandler","toggleId","startsWith","dropdownId","openToggleId","isSecondaryLinksSectionCollapsed","toggleElement","dropdownWrapper","id","removeAttribute","parentElement","remove","style","removeProperty","dropdownHeight","children","offsetHeight","setProperty","dropdownWrapperId","isMobileSlider","isMainMenuToggle","isCustomLink","getAttribute","setAttribute","setHeight","_setDropdownHeight","invisibleDelay","text","replace","trim","forceRecalculation","innerWidth","secondaryLinksWrapperFlexDirection","getComputedStyle","flexDirection","isMobileMenuButtonVisible","mobileToggleDisplay","display","currentBreakpoint","dataset","getToggleElement","toState","isOpen","_getDropdownId","currentlyOpenToggleId","toggleElementToToggle","_openDropdown","toggleIdToOpen","_addOpenDropdownAttributes","emitEvent","events","detail","toggle","pane","parent","hidden","_closeDropdown","backOut","toggleIdToClose","_getParentToggleAndDropdown","_addCloseDropdownAttributes","closed","parentToggleAndDropdown","currentlyOpenParentToggleAndDropdown","openDropdownId","keepParentOpen","getDropdownElement","event","relatedTarget","_changeNavigationState","hasSlot","icon","iconElement","createElement","pfeNavigationDropdown","alertsContainer","alerts","innerText","appendChild","_navTranslations","textContent","menu","search","buttonText","toggleMachineName","idSuffix","_createMachineName","iconWrapper","prepend","_createPfeIcon","pfeNavigationDropdowns","contains","toggleAndDropdownWrapper","attributeValues","requiredAttributes","attribute","createdNewToggle","_createCustomDropdownToggle","_updateAlerts","observerCallback","mutationList","target","attributeFilter","siteSwitcherBackButtonWrapper","siteSwitcherBackButton","cancelLightDomProcessing","componentClassesChange","recalculateMenuBreakpoints","ignoredTags","ie11IgnoredClasses","_processCustomDropdowns","mutationItem","oneXSlotsNotIn2x","ignoreThisMutation","j","className","customDropdownsToProcess","addedNodes","addedNode","nodeType","tagName","customDropdown","push","attributeName","_processAccountDropdownChange","includes","slottedParent","newShadowMenuWrapper","htmlBody","skipLinks","skipLinksWrapper","theRealSkipLinks","oldSkipLinksWrapper","replaceChild","lightLogo","newShadowLogoWrapper","cloneNode","logoLink","logoLinkCopy","logoLinkWrapper","lightMenu","hasOneXMenuMarkup","pfeNavigationMain","oneXTopLevelLinks","transformedSecondaryLinks","createDocumentFragment","pfeNavigationChild","trigger","triggerLink","tray","shadowTrigger","toggleName","unslottedChildLink","divWrapper","dropdown","datasetKeys","dataKey","dropdownWidth","innerHTML","pfeNavigationItems","pfeNavigationItem","menuListItem","menuItemLink","menuItemDropdown","pfeNavigationItemFooter","removeChild","dropdowns","dropdownLink","dropdownLinkAttributes","getAttributeNames","currentAttribute","machineName","dropdownButtonId","_shadowDomInteraction","_calculateMenuBreakpoints","_setCurrentMobileDropdown","_moveSearchSlot","postProcessLightDom","mobileSliderElements","currentMobileSliderElement","_getLastFocusableItemInMobileSlider","recreateMediaQueries","someExtraWhiteSpace","logoBoundingRect","Math","ceil","right","navigation","navigationBoundingRect","leftMostSecondaryLink","leftMostSecondaryLinkBoundingRect","getSlot","parseInt","paddingRight","left","_addMediaQueryListener","offsetWidth","menuBounds","menuBreakpoints","_removeDropdownAttributes","openDropdown","oldMobileDropdown","breakpointWas","breakpointIs","mobileSlideParent","_wasMobileMenuButtonVisible","_wasSecondaryLinksSectionCollapsed","_showMobileMainMenu","_searchFieldFocusHandler","preventDefault","dropdownItem","key","stopPropagation","focus","stuckClass","pageYOffset","searchBox","logInUrl","logInLink","login","analyticsLevel","analyticsText","analyticsCategory","name","src","pfeAvatar","fullName","avatarSrc","accountToggle","_createPfeAvatar","_createLogInLink","_createAccountToggle","slottedElements","mobileSwipeParent","focusableChildren","firstFocusableElement","lastFocusableElement","previousLastFocusableElement","shiftKey","previousFirstFocusableElement","create","PfeNavigationDropdown","values","Container","_processDom","processDomObserverConfig","_processDomMutationObserver","child","childSlot","newSlot"],"mappings":"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"}