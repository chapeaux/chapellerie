!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("../../pfelement/dist/pfelement.umd.min")):"function"==typeof define&&define.amd?define(["../../pfelement/dist/pfelement.umd.min"],e):(t=t||self).PfePrimaryDetail=e(t.PFElement)}(this,function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,e,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,e);if(void 0!==a){if("value"in a)return a.value;a=a.get;return void 0!==a?a.call(i):void 0}if(null!==(t=Object.getPrototypeOf(t)))return r(t,e,i)}var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)})(n,t),i(n,[{key:"html",get:function(){return'\n<style>*{-webkit-box-sizing:border-box;box-sizing:border-box}:host{display:block;border:1px solid #d2d2d2;border:var(--pfe-primary-details--Border,var(--pfe-theme--ui--border-width--sm,1px) var(--pfe-theme--ui--border-style,solid) var(--pfe-theme--color--ui--border--lighter,#d2d2d2));overflow:hidden}:host([hidden]){display:none}#wrapper{display:-ms-grid;display:grid;-ms-grid-columns:1fr 2fr;grid-template-columns:1fr 2fr;-ms-grid-columns:var(--pfe-primary-details--GridTemplateColumns,1fr 2fr);grid-template-columns:var(--pfe-primary-details--GridTemplateColumns,1fr 2fr);-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;overflow:hidden;-webkit-transition:-webkit-transform .25s ease-in-out;transition:-webkit-transform .25s ease-in-out;transition:transform .25s ease-in-out;transition:transform .25s ease-in-out,-webkit-transform .25s ease-in-out;will-change:transform;-webkit-backface-visibility:visible;backface-visibility:visible}@media (prefers-reduced-motion){#wrapper{-webkit-transition:none;transition:none;will-change:auto}}:host([breakpoint=compact]) #wrapper{display:-ms-grid;display:grid;-ms-grid-columns:50% 0 50%;grid-template-columns:50% 50%;gap:0;width:200%}:host([breakpoint=compact]) #wrapper.active{-webkit-transform:translateX(-50%);transform:translateX(-50%)}:host([breakpoint=compact]) #details-nav,:host([breakpoint=compact]) #details-nav__footer{-ms-grid-row-align:stretch;align-self:stretch;-ms-grid-column-align:stretch;justify-self:stretch;-ms-grid-row:1;grid-row:1;-ms-grid-column:1;grid-column:1}:host([breakpoint=compact]) #details-nav__footer{-ms-grid-row:2;grid-row:2}#details-nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0 2px;padding:9px 0;border-right:1px solid #d2d2d2;border-right:var(--pfe-primary-details--Border,var(--pfe-theme--ui--border-width--sm,1px) var(--pfe-theme--ui--border-style,solid) var(--pfe-theme--color--ui--border--lighter,#d2d2d2))}:host([breakpoint=compact]) #details-nav{border:0}:host([breakpoint=compact]) #details-nav__footer{-ms-grid-row:2;grid-row:2}::slotted([slot=details-nav]){position:relative;display:block!important;-webkit-appearance:none!important;-moz-appearance:none!important;appearance:none!important;background:0 0!important;border:0!important;margin:0!important;padding:.5em 1.5em .5em .75em!important;font:inherit;line-height:1.5;text-align:left!important;color:#151515!important;color:var(--pfe-primary-details__nav--Color,var(--pfe-theme--color--text,#151515))!important;cursor:pointer!important}::slotted([slot=details-nav]):before{content:\'\';position:absolute;top:50%;right:0;margin-right:16px;display:block;width:.75em;height:.75em;-webkit-box-shadow:inset -.1875em -.1875em 0 .0625em #000;box-shadow:inset -.1875em -.1875em 0 .0625em #000;-webkit-transform:translate(-50%,-50%) scale(.6) rotate(314deg);transform:translate(-50%,-50%) scale(.6) rotate(314deg)}:host([breakpoint=desktop]) ::slotted([slot=details-nav]):before{content:none}::slotted([aria-expanded=true]),::slotted([aria-selected=true]){color:#06c!important;color:var(--pfe-primary-details__nav--Color--active,var(--pfe-theme--color--link,#06c))!important;background:#f0f0f0!important;background:var(--pfe-primary-details__nav--Background--active,#f0f0f0)!important}#details-wrapper{padding:.5em 1.5em;background:#fff;background:var(--pfe-primary-details__details--Background,var(--pfe-theme--color--surface--lightest,#fff))}:host([breakpoint=compact]) #details-wrapper{-ms-grid-row:1;-ms-grid-row-span:2;grid-row:1/span 2;-ms-grid-column:2;grid-column:2;padding-top:0}:host([consistent-height]) #details-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}@supports (display:grid){:host([consistent-height]) #details-wrapper{display:-ms-grid;display:grid;-ms-grid-rows:1fr;-ms-grid-columns:1fr;grid-template:1fr/1fr;justify-items:start;-webkit-box-align:start;-webkit-align-items:start;-ms-flex-align:start;align-items:start}}:host([consistent-height][breakpoint=compact]) #details-wrapper:before{content:\'\';display:block;-ms-grid-row:1;grid-row:1;-ms-grid-column:1;grid-column:1;-ms-grid-row-align:end;align-self:end;border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-primary-details--Border,var(--pfe-theme--ui--border-width--sm,1px) var(--pfe-theme--ui--border-style,solid) var(--pfe-theme--color--ui--border--lighter,#d2d2d2));width:calc(100% + 3em);margin-left:-1.5em}#details-wrapper__header{display:none;-ms-grid-row:1;-ms-grid-row-span:1;grid-row:1/span 1;-ms-grid-column:1;-ms-grid-column-span:1;grid-column:1/span 1;-ms-grid-row-align:start;align-self:start;-ms-grid-column-align:stretch;justify-self:stretch}:host([breakpoint=compact]) #details-wrapper__header{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}#details-wrapper__back{display:none;position:relative;-webkit-align-self:stretch;-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch;border:0;margin:2px 0 0;background:0 0;font-size:inherit;font-family:inherit;font-weight:700;cursor:pointer;text-align:left}#details-wrapper__back:focus{outline:1px dashed #000!important;outline-width:2px!important}:host([breakpoint=compact]) #details-wrapper__back{display:block;visibility:hidden}:host([breakpoint=compact]) .active #details-wrapper__back{visibility:visible;width:100%;padding-left:16px}#details-wrapper__back:before{content:\'\';position:absolute;top:50%;left:.5em;display:block;width:.75em;height:.75em;-webkit-box-shadow:inset -.1875em -.1875em 0 .0625em #000;box-shadow:inset -.1875em -.1875em 0 .0625em #000;-webkit-transform:translate(-50%,-50%) scale(.6) rotate(135deg);transform:translate(-50%,-50%) scale(.6) rotate(135deg)}#details-wrapper__heading{margin:0;padding:0;font-size:inherit;line-height:1.5;padding:.5em 0}:host([consistent-height]) ::slotted([slot=details]){display:block!important;-ms-grid-row:1!important;-ms-grid-row-span:1!important;grid-row:1/span 1!important;-ms-grid-column:1!important;-ms-grid-column-span:1!important;grid-column:1/span 1!important}:host([consistent-height][breakpoint=compact]) ::slotted([slot=details]){-ms-grid-row:2!important;-ms-grid-row-span:1!important;grid-row:2/span 1!important}::slotted([hidden]){visibility:hidden!important;position:absolute!important}:host([consistent-height]) ::slotted([hidden]){position:static!important}::slotted([slot=details-nav--footer]){border-right:1px solid #d2d2d2!important;border-right:var(--pfe-primary-details--Border,var(--pfe-theme--ui--border-width--sm,1px) var(--pfe-theme--ui--border-style,solid) var(--pfe-theme--color--ui--border--lighter,#d2d2d2))!important}::slotted(.is-focused:focus),::slotted(.is-focused:hover){outline:1px dashed #000!important;outline-width:2px!important} /*# sourceMappingURL=pfe-primary-detail.min.css.map */</style>\n<div id="wrapper" data-pristine>\n  <div id="details-nav">\n    <slot name="details-nav--header"></slot>\n    <slot name="details-nav"></slot>\n  </div>\n  <div id="details-wrapper">\n    <div id="details-wrapper__header">\n      <button id="details-wrapper__back"><div id="details-wrapper__heading"></div></button>\n    </div>\n    <slot name="details"></slot>\n  </div>\n  <div id="details-nav__footer">\n    <slot name="details-nav--footer"></slot>\n  </div>\n</div>'}},{key:"templateUrl",get:function(){return"pfe-primary-detail.html"}},{key:"styleUrl",get:function(){return"pfe-primary-detail.scss"}}],[{key:"version",get:function(){return"1.12.3"}},{key:"tag",get:function(){return"pfe-primary-detail"}},{key:"meta",get:function(){return{title:"Primary detail",description:"Reworks title/description content into a vertical-tabs like interface."}}},{key:"events",get:function(){return{hiddenTab:this.tag+":hidden-tab",shownTab:this.tag+":shown-tab"}}},{key:"PfeType",get:function(){return t.PfeTypes.Container}},{key:"properties",get:function(){return{orientation:{title:"Orientation",type:String,attr:"aria-orientation",default:"vertical"},role:{type:String,default:"tablist"},breakpointWidth:{type:Number,default:800},active:{type:String},breakpoint:{type:String,values:["compact","desktop"]}}}},{key:"slots",get:function(){return{detailsNavHeader:{title:"Details Nav Header",type:"array",namedSlot:!0},detailsNav:{title:"Details Nav",type:"array",namedSlot:!0},detailsNavFooter:{title:"Details Nav Footer",type:"array",namedSlot:!0},details:{title:"Details",type:"array",namedSlot:!0}}}}]),i(n,[{key:"connectedCallback",value:function(){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"connectedCallback",this).call(this),this.hasLightDOM()&&this._processLightDom();var t=this.hasAttribute("automated-testing")?0:100;this._debouncedSetBreakpoint=function(a,r,t){var s,o=2<arguments.length&&void 0!==t&&t;return function(){var t=this,e=arguments,i=o&&!s;clearTimeout(s),s=setTimeout(function(){s=null,o||a.apply(t,e)},r),i&&a.apply(t,e)}}(this._setBreakpoint,t),window.addEventListener("resize",this._debouncedSetBreakpoint),this._childObserver.observe(this,{childList:!0}),this._attributesObserver.observe(this,{attributes:!0,attributeFilter:["active"]}),this._detailsBackButton.addEventListener("click",this.closeAll),this.addEventListener("keydown",this._keyboardControls)}},{key:"disconnectedCallback",value:function(){if(this._childObserver.disconnect(),this._attributesObserver.disconnect(),window.removeEventListener("resize",this._debouncedSetBreakpoint),this._slots.detailsNav)for(var t=0;t<this._slots.detailsNav.length;t++)this._slots.detailsNav[t].removeEventListener("click",this._handleHideShow);this.removeEventListener("keydown",this._keyboardControls)}},{key:"_manageWrapperAttributes",value:function(){this.hasAttribute("active")?this._wrapper.classList.add("active"):this._wrapper.classList.remove("active")}},{key:"_initDetailsNav",value:function(t,e){var i,a,r="BUTTON"!==t.tagName,s=null;r?(i=t.attributes,(s=document.createElement("button")).innerHTML=t.innerHTML,s.setAttribute("role","tab"),a=["style","role"],[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(i)).forEach(function(t){a.includes(t.name)||s.setAttribute(t.name,t.value)}),s.dataset.wasTag=t.tagName,t.id||s.setAttribute("id","pfe-detail-toggle-"+Math.random().toString(36).substr(2,9))):s=t,t.id||t.setAttribute("id","pfe-detail-toggle-"+Math.random().toString(36).substr(2,9)),s.addEventListener("click",this._handleHideShow),s.dataset.index=e,this._slots.detailsNav[e]=s,r&&t.parentElement.replaceChild(s,t)}},{key:"_initDetail",value:function(t,e){t.dataset.index=e,t.hasAttribute("id")||t.setAttribute("id","pfe-detail-"+Math.random().toString(36).substr(2,9)),t.setAttribute("role","tabpanel"),t.setAttribute("tabindex","-1");var i=this._slots.detailsNav[e].getAttribute("id");!t.hasAttribute("aria-labelledby")&&i&&t.setAttribute("aria-labelledby",i),!this._slots.detailsNav[e].hasAttribute("aria-controls")&&t.id&&this._slots.detailsNav[e].setAttribute("aria-controls",t.id),t.dataset.processed=!0}},{key:"_setBreakpoint",value:function(){if(this._windowInnerWidth!==window.innerWidth){var t,e=this.breakpoint,i=this.offsetWidth<this.breakpointWidth?"compact":"desktop";if(this.breakpoint=i,!this._wrapper.hasAttribute("data-pristine")||"compact"!=i||(t=!!this.active&&document.getElementById(this.active))&&(this._addCloseAttributes(t),this.removeAttribute("active")),e!==i)for(var a=0;a<this._slots.detailsNav.length;a++){var r=this._slots.detailsNav[a];r.id===this.active?this._addActiveAttributes(r):this._addCloseAttributes(r)}"desktop"!==e&&"desktop"==i?(this.active||this._handleHideShow({target:this._slots.detailsNav[0]}),this._setDetailsNavVisibility(!0)):"compact"!==e&&"compact"==i&&this.active&&this._setDetailsNavVisibility(!1),this._windowInnerWidth=window.innerWidth}}},{key:"_setDetailsNavVisibility",value:function(t){for(var e=["detailsNav","detailsNavHeader","detailsNavFooter"],i=0;i<e.length;i++)for(var a=e[i],r=0;r<this._slots[a].length;r++)this._slots[a][r].hidden=!t}},{key:"_processLightDom",value:function(){var t,i,a=this;this._slots={detailsNav:this.getSlot("details-nav"),details:this.getSlot("details"),detailsNavHeader:this.getSlot("details-nav--header"),detailsNavFooter:this.getSlot("details-nav--footer")},this._slots.detailsNav.length===this._slots.details.length?(t=this.active,i=null,t&&(i=document.getElementById(t).getAttribute("aria-controls")),this._slots.detailsNav.forEach(function(t,e){a._initDetailsNav(t,e)}),this._slots.details.forEach(function(t,e){a._initDetail(t,e),t.id!==i&&a._addCloseAttributes(a._slots.detailsNav[e],t)}),this._setBreakpoint(),this.active||"desktop"!==this.breakpoint||this._handleHideShow({target:this._slots.detailsNav[0]})):this.error("The number of item headings does not match the number of item details. Found "+this._slots.detailsNav.length+" item headings & "+this._slots.details.length+" item details.")}},{key:"_addActiveAttributes",value:function(t,e){(e=e||document.getElementById(t.getAttribute("aria-controls"))).hidden=!1,e.removeAttribute("aria-hidden"),e.removeAttribute("tabindex"),"desktop"===this.breakpoint?(t.setAttribute("aria-selected","true"),t.removeAttribute("aria-expanded")):(t.setAttribute("aria-expanded","true"),t.removeAttribute("aria-selected"))}},{key:"_addCloseAttributes",value:function(t,e){(e=e||document.getElementById(t.getAttribute("aria-controls"))).hidden=!0,e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true"),"desktop"===this.breakpoint?(t.setAttribute("aria-selected","false"),t.removeAttribute("aria-expanded")):(t.setAttribute("aria-expanded","false"),t.removeAttribute("aria-selected"))}},{key:"_updateBackButtonState",value:function(){"compact"===this.breakpoint&&(this.active?this._detailsBackButton.setAttribute("aria-expanded","true"):this._detailsBackButton.setAttribute("aria-expanded","false"))}},{key:"_handleHideShow",value:function(t){var e,i,a,r=t.target;"object"===(void 0===t?"undefined":s(t))&&t instanceof Event&&this._wrapper.removeAttribute("data-pristine"),void 0!==r&&("true"===r.getAttribute("aria-selected")&&r.id===this.active||(e=this._slots.details[parseInt(r.dataset.index)],i=!!this.active&&document.getElementById(this.active),a=document.getElementById(this.active),this.active=r.id,t=null,(t=r.dataset.wasTag&&"H"===r.dataset.wasTag.substr(0,1)?document.createElement(r.dataset.wasTag):document.createElement("strong")).innerText=r.innerText,t.id=this._detailsWrapperHeading.id,this._detailsWrapperHeading.parentElement.replaceChild(t,this._detailsWrapperHeading),this._detailsWrapperHeading=t,this._detailsBackButton.setAttribute("aria-controls",e.id),a&&(t=this._slots.details[parseInt(a.dataset.index)],this._addCloseAttributes(a,t),this.emitEvent(n.events.hiddenTab,{detail:{tab:a,details:t}})),this._addActiveAttributes(r,e),"compact"===this.getAttribute("breakpoint")&&(this.active?(this._setDetailsNavVisibility(!1),this._detailsBackButton.focus()):(this._setDetailsNavVisibility(!0),i&&i.focus())),this.emitEvent(n.events.shownTab,{detail:{tab:r,details:e}}),this._updateBackButtonState()))}},{key:"closeAll",value:function(){var t,e;this._setDetailsNavVisibility(!0),this.active&&(t=document.getElementById(this.active),e=document.getElementById(t.getAttribute("aria-controls")),this._addCloseAttributes(t,e),this.emitEvent(n.events.hiddenTab,{detail:{tab:t,details:e}}),t.focus(),this.removeAttribute("active"))}},{key:"_isToggle",value:function(t){return"details-nav"===t.getAttribute("slot")}},{key:"_isPanel",value:function(t){return"details"===t.getAttribute("slot")}},{key:"_getFocusedPanel",value:function(){var t=this._slots.detailsNav,e=t.findIndex(function(t){return t===document.activeElement});return t[e%t.length].nextElementSibling}},{key:"_getPrevToggle",value:function(){var t=this._slots.detailsNav,e=t.findIndex(function(t){return t===document.activeElement})-1;return t[(e+t.length)%t.length]}},{key:"_getFocusedToggle",value:function(){return document.getElementById(this.active)}},{key:"_getNextToggle",value:function(){var t=this._slots.detailsNav,e=t.findIndex(function(t){return t===document.activeElement})+1;return t[e%t.length]}},{key:"_keyboardControls",value:function(t){var e=t.target,i=void 0;switch(t.key){case"Escape":"compact"===this.getAttribute("breakpoint")&&this.closeAll();break;case"ArrowUp":case"Up":case"ArrowLeft":case"Left":if(!this._isToggle(e))return;t.preventDefault(),i=this._getPrevToggle();break;case"ArrowDown":case"Down":case"ArrowRight":case"Right":if(!this._isToggle(e))return;t.preventDefault(),i=this._getNextToggle();break;case"Home":if(!this._isToggle(e))return;t.preventDefault(),i=this._slots.detailsNav[0];break;case"End":if(!this._isToggle(e))return;t.preventDefault(),i=this._slots.detailsNav[this._slots.detailsNav.length-1];break;default:return}i&&i.focus()}}]),i=n;function n(){e(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,{type:n.PfeType}));return t._handleHideShow=t._handleHideShow.bind(t),t._initDetailsNav=t._initDetailsNav.bind(t),t._initDetail=t._initDetail.bind(t),t.closeAll=t.closeAll.bind(t),t._processLightDom=t._processLightDom.bind(t),t._keyboardControls=t._keyboardControls.bind(t),t._setBreakpoint=t._setBreakpoint.bind(t),t._setDetailsNavVisibility=t._setDetailsNavVisibility.bind(t),t._updateBackButtonState=t._updateBackButtonState.bind(t),t._manageWrapperAttributes=t._manageWrapperAttributes.bind(t),t._slots={detailsNav:null,details:null,detailsNavHeader:null,detailsNavFooter:null},t._childObserver=new MutationObserver(t._processLightDom),t._attributesObserver=new MutationObserver(t._manageWrapperAttributes),t._wrapper=t.shadowRoot.getElementById("wrapper"),t._detailsNav=t.shadowRoot.getElementById("details-nav"),t._detailsWrapper=t.shadowRoot.getElementById("details-wrapper"),t._detailsWrapperHeader=t.shadowRoot.getElementById("details-wrapper__header"),t._detailsWrapperHeading=t.shadowRoot.getElementById("details-wrapper__heading"),t._detailsBackButton=t.shadowRoot.getElementById("details-wrapper__back"),t._debouncedSetBreakpoint=null,t._windowInnerWidth,t._focusableElements='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',t}return t.create(i),i});
//# sourceMappingURL=pfe-primary-detail.umd.min.js.map
