{"version":3,"file":"pfe-jump-links.umd.js","sources":["../_temp/polyfills--pfe-jump-links-nav.js","../_temp/pfe-jump-links-nav.js","../_temp/pfe-jump-links-panel.js","../_temp/pfe-jump-links.umd.js"],"sourcesContent":["// @POLYFILL  Array.prototype.findIndex\n// https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\nif (!Array.prototype.findIndex) {\n  Object.defineProperty(Array.prototype, \"findIndex\", {\n    value: function (predicate) {\n      // 1. Let O be ? ToObject(this value).\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n\n      var o = Object(this);\n\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\n      var len = o.length >>> 0;\n\n      // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n      if (typeof predicate !== \"function\") {\n        throw new TypeError(\"predicate must be a function\");\n      }\n\n      // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n      var thisArg = arguments[1];\n\n      // 5. Let k be 0.\n      var k = 0;\n\n      // 6. Repeat, while k < len\n      while (k < len) {\n        // a. Let Pk be ! ToString(k).\n        // b. Let kValue be ? Get(O, Pk).\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n        // d. If testResult is true, return k.\n        var kValue = o[k];\n        if (predicate.call(thisArg, kValue, k, o)) {\n          return k;\n        }\n        // e. Increase k by 1.\n        k++;\n      }\n\n      // 7. Return -1.\n      return -1;\n    },\n  });\n}\n\n// @POLYFILL  Element.closest\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function (s) {\n    var el = this;\n    do {\n      if (el.matches(s)) return el;\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n    return null;\n  };\n}\n","/*!\n * PatternFly Elements: PfeJumpLinks 1.12.3\n * @license\n * Copyright 2021 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\n// Import polyfills: findIndex, closest\nimport \"./polyfills--pfe-jump-links-nav.js\";\n\nimport PFElement from \"../../pfelement/dist/pfelement.js\";\n\n// Used for rendering\nimport PfeAccordion from \"../../pfe-accordion/dist/pfe-accordion.js\";\n\n// @TODO This needs a click handler for if the accordion is stuck to the top\n// and the user clicks outside the accordion element (should close accordion).\nclass PfeJumpLinksNav extends PFElement {\n\n  // Injected at build-time\n  static get version() {\n    return \"1.12.3\";\n  }\n\n  // Injected at build-time\n  get html() {\n    return `\n<style>slot[name=heading][sr-only]{position:absolute;overflow:hidden;clip:rect(0,0,0,0);height:1px;width:1px;margin:-1px;padding:0;border:0}:host{-webkit-box-sizing:border-box;box-sizing:border-box;font-family:\"Red Hat Text\",RedHatText,Overpass,Overpass,Arial,sans-serif;font-family:var(--pfe-theme--font-family, \"Red Hat Text\", \"RedHatText\", \"Overpass\", Overpass, Arial, sans-serif);font-weight:400;font-weight:var(--pfe-theme--font-weight--normal,400);display:block;position:-webkit-sticky;position:sticky;z-index:80;z-index:var(--pfe-theme--zindex--jumplinks,80);top:0;padding:0}@media (min-width:992px){:host([horizontal][color=darkest]){background-color:#151515;background-color:var(--pfe-theme--color--surface--darkest,#151515);--context:var(--pfe-theme--color--surface--darkest--context, dark);--pfe-broadcasted--text:var(--pfe-theme--color--text--on-dark, #fff);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted--on-dark, #d2d2d2);--pfe-broadcasted--link:var(--pfe-theme--color--link--on-dark, #73bcf7);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover--on-dark, #bee1f4);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus--on-dark, #bee1f4);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited--on-dark, #bee1f4);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration--on-dark, none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover--on-dark, underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus--on-dark, underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited--on-dark, none)}}@media (min-width:992px){:host([horizontal][color=darker]){background-color:#3c3f42;background-color:var(--pfe-theme--color--surface--darker,#3c3f42);--context:var(--pfe-theme--color--surface--darker--context, dark);--pfe-broadcasted--text:var(--pfe-theme--color--text--on-dark, #fff);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted--on-dark, #d2d2d2);--pfe-broadcasted--link:var(--pfe-theme--color--link--on-dark, #73bcf7);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover--on-dark, #bee1f4);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus--on-dark, #bee1f4);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited--on-dark, #bee1f4);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration--on-dark, none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover--on-dark, underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus--on-dark, underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited--on-dark, none)}}@media (min-width:992px){:host([horizontal][color=lightest]){background-color:#fff;background-color:var(--pfe-theme--color--surface--lightest,#fff);--context:var(--pfe-theme--color--surface--lightest--context, light);--pfe-broadcasted--text:var(--pfe-theme--color--text, #151515);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted, #6a6e73);--pfe-broadcasted--link:var(--pfe-theme--color--link, #06c);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover, #004080);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus, #004080);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited, #6753ac);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration, none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover, underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus, underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited, none)}}@media (min-width:992px){:host([horizontal][color=lighter]){background-color:#f0f0f0;background-color:var(--pfe-theme--color--surface--lighter,#f0f0f0);--context:var(--pfe-theme--color--surface--lighter--context, light);--pfe-broadcasted--text:var(--pfe-theme--color--text, #151515);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted, #6a6e73);--pfe-broadcasted--link:var(--pfe-theme--color--link, #06c);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover, #004080);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus, #004080);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited, #6753ac);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration, none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover, underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus, underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited, none)}}:host([stuck][horizontal]){-webkit-box-shadow:0 .0625rem .125rem 0 rgba(3,3,3,.12),0 0 .125rem 0 rgba(3,3,3,.06) 0 .0625rem .125rem 0 rgba(3,3,3,.2);box-shadow:0 .0625rem .125rem 0 rgba(3,3,3,.12),0 0 .125rem 0 rgba(3,3,3,.06) 0 .0625rem .125rem 0 rgba(3,3,3,.2);-webkit-box-shadow:var(--pfe-theme--box-shadow--sm,0 .0625rem .125rem 0 rgba(3,3,3,.12),0 0 .125rem 0 rgba(3,3,3,.06)0 .0625rem .125rem 0 rgba(3,3,3,.2));box-shadow:var(--pfe-theme--box-shadow--sm,0 .0625rem .125rem 0 rgba(3,3,3,.12),0 0 .125rem 0 rgba(3,3,3,.06)0 .0625rem .125rem 0 rgba(3,3,3,.2))}.pfe-jump-links-nav__heading{margin-top:0;margin-bottom:.5rem;margin-bottom:var(--pfe-theme--content-spacer--body--sm,.5rem)}.pfe-jump-links-nav__heading h3,::slotted([slot=heading]){color:#3c3f42;color:var(--pfe-broadcasted--text,#3c3f42);margin:0;font-size:.875rem;font-size:var(--pfe-jump-links__heading--FontSize,var(--pf-global--FontSize--sm,.875rem));font-weight:400;font-weight:var(--pfe-theme--font-weight--normal,400);text-transform:uppercase;text-transform:var(--pfe-jump-links__heading--TextTransform,uppercase)}slot[name=logo]{display:none}slot[name=cta]{display:none}nav{visibility:visible;margin:0;list-style:none;padding:0}pfe-accordion-panel nav{width:100%}@media (min-width:992px){:host([horizontal][no-header]) nav{padding-top:1px;padding-bottom:0}}#container{padding:32px 0}pfe-accordion-panel #container{padding:24px 0}ul{padding:0;margin:0;border-left:1px solid #d2d2d2;border-left:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-disabled,#d2d2d2)}li{display:block;position:relative;margin-left:calc(1px * -1);margin-left:calc(var(--pfe-theme--surface--border-width,1px) * -1)}.sub-nav li{margin-left:0}li[expand] ul{height:auto;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}li[expand] .sub-nav{display:table;height:auto}li::before{position:absolute;content:\"\";top:0;left:0;background-color:transparent;width:calc(4px - 0px);width:calc(var(--pfe-theme--surface--border-width--heavy,4px) - 0px);height:calc(100% - 0px);background-color:transparent}li :hover::before,li:not([expand]) li:hover::before{background-color:#d2d2d2;background-color:var(--pfe-theme--color--ui-disabled,#d2d2d2)}li[active]::before,li[expand]::before{background-color:#06c;background-color:var(--pfe-jump-links--accent,var(--pfe-jump-links--BorderColor,var(--pfe-theme--color--ui-accent,#06c)));z-index:2}a{position:relative;color:#6a6e73;color:var(--pfe-theme--color--ui-disabled--text,#6a6e73);font-size:1rem;font-size:var(--pfe-jump-links--FontSize,var(--pf-global--FontSize--md,1rem));text-decoration:none;line-height:1.5;line-height:var(--pfe-theme--line-height,1.5);padding:calc(calc(1.5rem / 6) * 2) calc(calc(1.5rem / 3) * 2);padding:calc(var(--pfe-jump-links__link--vertical-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 6)) * 2) calc(var(--pfe-jump-links__link--horizontal-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 3)) * 2)}a,a:focus+ul>li>a,li:hover a,li[expand] a{display:table}li>a:hover,li[active]>a{color:#3c3f42;color:var(--pfe-broadcasted--text,#3c3f42)}:host([on=dark]) a{color:#d2d2d2;color:var(--pfe-theme--color--text--muted--on-dark,#d2d2d2)}:host([on=saturated]) a{color:#d2d2d2;color:var(--pfe-theme--color--text--muted--on-saturated,#d2d2d2)}.has-sub-section a{padding-bottom:calc(1.5rem / 6);padding-bottom:var(--pfe-jump-links__link--vertical-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 6))}.sub-section a{margin-left:calc(1rem * .75);margin-left:calc(var(--pfe-theme--container-spacer,1rem) * .75);font-size:calc(1rem * .85);font-size:calc(var(--pfe-jump-links--FontSize,var(--pf-global--FontSize--md,1rem)) * .85);padding:calc(1.5rem / 6) calc(calc(1.5rem / 3) * 2);padding:var(--pfe-jump-links__link--vertical-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 6)) calc(var(--pfe-jump-links__link--horizontal-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 3)) * 2)}@media (min-width:992px){.sub-section a{display:none}}.sub-section a:last-child{padding-bottom:calc(1.5rem / 3);padding-bottom:var(--pfe-jump-links__link--horizontal-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 3))}a:focus:focus-visible{outline:0;position:relative}a:focus:focus-visible::after{position:absolute;content:\"\";top:0;left:0;width:calc(100% + 3px);width:calc(100% + var(--pfe-theme--ui--border-width--active,3px));height:calc(100% + 3px);height:calc(100% + var(--pfe-theme--ui--border-width--active,3px));border-radius:2px;border-radius:var(--pfe-theme--ui--border-radius,2px);border:2px solid transparent;border:var(--pfe-theme--ui--border-width--md,2px) var(--pfe-theme--ui--border-style,solid) transparent}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){a:focus:focus-visible::after{height:100%}}a:focus:focus-visible:focus::after{border-color:#06c;border-color:var(--pfe-theme--color--link,#06c)}a:focus:focus-visible:focus:not(:focus-visible)::after{border:unset}ul ul{margin:0;padding:0;overflow-y:hidden;-webkit-transition:-webkit-box-flex 1s linear,-webkit-flex 1s linear;transition:-webkit-box-flex 1s linear,-webkit-flex 1s linear;transition:flex 1s linear;transition:flex 1s linear,-webkit-box-flex 1s linear,-webkit-flex 1s linear,-ms-flex 1s linear}ul ul,ul ul li{border-left:none!important}pfe-accordion{border:1px solid #d2d2d2;border:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-disabled,#d2d2d2);--context:light;--pfe-accordion--BackgroundColor:var(--pfe-theme--color--surface--lightest, #fff)}:host([color=darkest]) pfe-accordion{--context:dark;--pfe-accordion--BackgroundColor:var(--pfe-theme--color--surface--darkest, #151515);--pfe-theme--color--ui-accent--on-dark:transparent}pfe-accordion,pfe-accordion-panel.animating,pfe-accordion-panel[expanded]{--pfe-accordion--accent:transparent;--pfe-accordion--BorderColor:transparent;--pfe-accordion--accent:transparent;--pfe-accordion--BorderTopWidth:0;--pfe-accordion--BorderBottomWidth:0;--pfe-accordion--panel-container--Padding:0 0 0 calc(var(--pfe-accordion__base--Padding,var(--pfe-theme--container-spacer,1rem)) * 1.5)}@media screen and (min-width:992px){:host([horizontal]){width:100%;background-color:#fff;background-color:var(--pfe-jump-links--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));--context:var(--pfe-jump-links--context, var(--pfe-theme--color--surface--lightest--context, light));z-index:calc(80 + 1);z-index:calc(var(--pfe-theme--zindex--jumplinks,80) + 1);border:none;padding:0}:host([horizontal]) .pfe-jump-links-nav__heading{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-align-self:center;-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;display:block;margin:0;padding-bottom:1rem;padding-bottom:var(--pfe-theme--container-padding,1rem);border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--surface--border,#d2d2d2)}:host([horizontal]) .pfe-jump-links-nav__heading h3,:host([horizontal]) ::slotted([slot=heading]){text-align:center;text-align:var(--pfe-jump-links__heading--TextAlign,center)}:host([horizontal]) ::slotted([slot=logo]){position:absolute;max-height:calc(1rem * 3.5);max-height:calc(var(--pfe-theme--container-spacer,1rem) * 3.5);max-width:calc(1rem * 14);max-width:calc(var(--pfe-theme--container-spacer,1rem) * 14);top:1rem;top:var(--pfe-theme--container-spacer,1rem);left:calc(1rem * 4);left:calc(var(--pfe-theme--container-spacer,1rem) * 4)}:host([horizontal]) ::slotted([slot=cta]){position:absolute;top:calc(1rem * 1);top:calc(var(--pfe-theme--container-spacer,1rem) * 1);right:calc(1rem * 4);right:calc(var(--pfe-theme--container-spacer,1rem) * 4)}}@media screen and (min-width:992px){:host([horizontal]) nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;padding-top:32px;padding-bottom:8px;max-width:calc(992px - (var(--pfe-jump-links--Padding--horizontal) * 4));max-width:var(--pfe-jump-links--Width,calc(992px - (var(--pfe-jump-links--Padding--horizontal) * 4)))}}@media screen and (min-width:1200px){:host([horizontal]) nav{max-width:calc(1200px - (var(--pfe-jump-links--Padding--horizontal) * 4));max-width:var(--pfe-jump-links--Width,calc(1200px - (var(--pfe-jump-links--Padding--horizontal) * 4)))}}@media screen and (min-width:992px){:host([horizontal]) #container{padding:0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;justify-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}:host([horizontal]) ul{border:none;text-align:center;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0;width:auto;margin:0 auto}:host([horizontal]) li{margin-left:0;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-top:calc(1px * -1);margin-top:calc(var(--pfe-theme--surface--border-width,1px) * -1)}:host([horizontal]) li::before{height:4px;height:var(--pfe-theme--surface--border-width--heavy,4px);width:100%}:host([horizontal]) a{padding:16px;text-decoration:none;font-size:16px;color:var(--pfe-broadcasted--text--muted,)}:host([horizontal]) a:hover,:host([horizontal]) a[active]{color:#3c3f42;color:var(--pfe-broadcasted--text,#3c3f42)}}:host([hidden]){display:none!important} /*# sourceMappingURL=pfe-jump-links-nav.min.css.map */</style>\n${this.isMobile ? `\n<pfe-accordion>\n  <pfe-accordion-header>\n    <slot class=\"pfe-jump-links-nav__heading\" name=\"heading\">\n      <h3>${this.srText || \"Jump to section\"}</h3>\n    </slot>\n  </pfe-accordion-header>\n  <pfe-accordion-panel>\n` : \"\"}\n\n<nav>\n  ${!this.isMobile ? `<slot class=\"pfe-jump-links-nav__heading\" name=\"heading\"${this.noHeader ? \" sr-only\" : \"\"}>\n    <h3>${this.srText || \"Jump to section\"}</h3>\n  </slot>` : \"\"}\n  ${this.horizontal ? `<slot class=\"pfe-jump-links-nav__logo\" name=\"logo\"></slot>` : \"\"}\n  <div id=\"container\"></div>\n  ${this.horizontal ? `<slot class=\"pfe-jump-links-nav__cta\" name=\"cta\"></slot>` : \"\"}\n</nav>\n\n${this.isMobile ? `\n  </pfe-accordion-panel>\n</pfe-accordion>\n` : \"\"}`;\n  }\n\n  static get tag() {\n    return \"pfe-jump-links-nav\";\n  }\n\n  get templateUrl() {\n    return \"pfe-jump-links-nav.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-jump-links-nav.scss\";\n  }\n\n  static get PfeType() {\n    return PFElement.PfeTypes.Content;\n  }\n\n  /**\n   * List of all events in the component\n   */\n  static get events() {\n    return {\n      activeNavItem: `pfe-jump-links-panel:active-navItem`,\n      change: `pfe-jump-links-panel:change`,\n      stuck: `pfe-jump-links-nav:stuck`,\n      resize: `resize`,\n      scroll: `scroll`,\n      keyup: `keyup`,\n    };\n  }\n\n  /**\n   * Alias events to allow easier console logging\n   */\n  get events() {\n    return PfeJumpLinksNav.events;\n  }\n\n  /**\n   * Observe the children, subtree, and character changes to allow\n   * custom-built navigation to migrate to shadow DOM if updated\n   * @returns {Object} Mutation observer settings\n   */\n  static get observer() {\n    return {\n      childList: true,\n      subtree: true,\n      characterData: true,\n    };\n  }\n\n  static get properties() {\n    return {\n      autobuild: {\n        title: \"Autobuild\",\n        type: Boolean,\n      },\n      horizontal: {\n        title: \"Horizontal\",\n        type: Boolean,\n        default: false,\n      },\n      // @TODO: Document this more\n      srText: {\n        title: \"Screen reader text\",\n        type: String,\n        default: \"Jump to section\",\n      },\n      // Supports only lightest and darkest background colors\n      color: {\n        title: \"Color\",\n        type: String,\n        default: \"lightest\",\n        values: [\"lightest\", \"darkest\"],\n      },\n      // @TODO Need to incorporate support for breakpoint customizations i.e., offset=\"@500px: 200, @800px: 150\"\n      offset: {\n        title: \"Offset\",\n        type: Number,\n      },\n      // Breakpoint at which the nav switches to an accordion\n      mobileBreakpoint: {\n        title: \"Mobile breakpoint (max-width)\",\n        type: String,\n      },\n      accordionCollapseTiming: {\n        title: \"Number of ms to wait before collapsing the accordion on click\",\n        type: Number,\n        default: 750,\n      },\n      // Reflects if the nav is stuck in place\n      // @TODO note this in the documentation as a readonly property\n      stuck: {\n        title: \"Stickiness state\",\n        type: Boolean,\n        attr: \"stuck\",\n        observer: \"_stickyHandler\",\n      },\n      noHeader: {\n        title: \"Opt-out of the header region\",\n        type: Boolean,\n      },\n      // @TODO: Deprecated in 2.0\n      oldAutobuild: {\n        alias: \"autobuild\",\n        attr: \"pfe-c-autobuild\",\n      },\n      // @TODO: Deprecated in 2.0\n      oldHorizontal: {\n        alias: \"horizontal\",\n        attr: \"pfe-c-horizontal\",\n      },\n      // @TODO: Deprecated in 2.0\n      oldColor: {\n        alias: \"color\",\n        attr: \"pfe-color\",\n      },\n    };\n  }\n\n  /**\n   * @requires {this.mobileBreakpoint || PFElement.breakpoint}\n   * @returns {Boolean} true if this is at or below the mobile breakpoint\n   */\n  get isMobile() {\n    if (this.mobileBreakpoint) return window.matchMedia(`(max-width: ${this.mobileBreakpoint})`).matches;\n\n    // Default to the PFElement breakpoints\n    const data = PFElement.breakpoint.lg.match(/([0-9]+)([a-z]*)/);\n    if (data.length < 1) return \"991px\";\n\n    // Subtract one because PFElement breakpoints uses mobile-first numbering\n    return window.matchMedia(`(max-width: ${parseInt(data[1], 10) - 1}${data[2]})`).matches;\n  }\n\n  /**\n   * @returns {NodeItem} Slot assigned to heading or pfe-jump-links-nav--heading\n   * @TODO deprecating pfe-jump-links-nav--heading slot in 2.0\n   */\n  get header() {\n    return this.getSlot([\"heading\", \"pfe-jump-links-nav--heading\"])[0];\n  }\n\n  /**\n   * @returns {NodeItem} Slot assigned to cta or pfe-jump-links-nav--cta\n   * @TODO deprecating pfe-jump-links-nav--cta slot in 2.0\n   */\n  get cta() {\n    return this.getSlot([\"link\", \"pfe-jump-links-nav--link\"])[0];\n  }\n\n  /**\n   * @returns {NodeItem} Slot assigned to logo or pfe-jump-links-nav--logo\n   * @TODO deprecating pfe-jump-links-nav--logo slot in 2.0\n   */\n  get logo() {\n    return this.getSlot([\"logo\", \"pfe-jump-links-nav--logo\"])[0];\n  }\n\n  /**\n   * @returns {NodeItem} Container element from the shadow DOM for the nav list\n   */\n  get container() {\n    return this.shadowRoot.querySelector(\"#container\");\n  }\n\n  /**\n   * This setter lets you pass in a custom panel NodeItem to the navigation\n   * @param {NodeItem} Pointer to the panel content\n   */\n  set panel(NodeItem) {\n    if (NodeItem) {\n      this._panel = NodeItem;\n\n      // Attach a scrolltarget attribute if one does not yet exist\n      if (!this._panel.hasAttribute(\"scrolltarget\")) {\n        this._panel.setAttribute(\"scrolltarget\", this.id);\n      }\n\n      // Emit an event to indicate a change in the panel\n      this.emitEvent(PfeJumpLinksNav.events.change);\n    }\n  }\n\n  /**\n   * This getter returns the panel for the navigation item; if a custom pointer was set\n   * it will return that, otherwise, it tries to find the panel\n   * @returns {NodeItem} Pointer to the panel content\n   */\n  get panel() {\n    // If a custom panel is already set, use that\n    if (this._panel) return this._panel;\n\n    // Use the ID from the navigation to target the panel elements\n    // Automatically if there's only one set of tags on the page\n    if (this.id) {\n      // Check for a scrolltarget element pointing to that ID\n      // Note: include fallback for scrolltarget in case pfe-jump-links-panel has not upgraded yet?\n      const target = document.querySelector(`[scrolltarget=\"${this.id}\"],[pfe-c-scrolltarget=\"${this.id}\"]`);\n      if (target) return target;\n    }\n\n    // Get all instances of the panel components registered with the DOM\n    let panels = [];\n    Promise.all([customElements.whenDefined(\"pfe-jump-links-panel\")]).then(() => {\n      panels = customElements.get(\"pfe-jump-links-panel\").instances || [];\n\n      // Look for a panel with this scrolltarget (can capture the attribute better after component upgrades)\n      const panelWithId = panels.filter((panel) => panel.getAttribute(\"scrolltarget\") === this.id);\n      if (panelWithId.length === 1) return panelWithId[0];\n\n      // If only one panel is found, let's assume that goes to this nav\n      if (panels.length === 1) {\n        // Capture a random ID to connect this to the panel\n        this.id = this.randomId;\n        panels[0].setAttribute(\"scrolltarget\", this.id);\n\n        return panels[0];\n      }\n\n      // Throw a few warning messages suggesting how to connect the nav and panels\n      if (panels.length > 1) {\n        this.warn(\n          `Cannot locate which panel is connected to this navigation element.${\n            this.id ? ` Please add scrolltarget=\"${this.id}\" to the appropriate panel.` : \"\"\n          }`\n        );\n      } else {\n        this.warn(\n          `Cannot locate any panels on this page. Please see documentation for connecting the navigation and panel.`\n        );\n      }\n    });\n\n    return;\n  }\n\n  /**\n   * API hook for setting up custom sections without a panel\n   */\n  set sections(NodeList) {\n    this._sections = NodeList;\n\n    // Emit an event to indicate a change in the sections\n    this.emitEvent(PfeJumpLinksNav.events.change);\n  }\n\n  /**\n   * Capture the sections from inside the \"panel\"; default to this._sections first\n   * then fallback to grepping the sections from the panel\n   * @returns {NodeList} All sections inside the panel\n   */\n  get sections() {\n    // If a custom set of sections is already defined, use that\n    if (this._sections) return this._sections;\n\n    let panel = this.panel;\n\n    // If we can't find a panel element and this is using autobuild, return b/c we can't determine the sections automatically\n    if (!panel && this.autobuild) return;\n\n    // If this is not autobuilt, use the IDs from the light DOM\n    if (!this.autobuild) {\n      let links = [...this.querySelectorAll(\"ul > li > a[href]\")];\n      // Parse the links for the anchor tag and create a selector from it\n      const ids = links.map((link) => `[id=\"${link.href.split(\"#\").pop()}\"]`);\n      // Capture these from the panel or if nothing is returned, check the document\n      return panel.querySelectorAll(ids.join(\",\")) || document.querySelectorAll(ids.join(\",\"));\n    }\n\n    // NOTE: since the panel element is not necessarily pfe-jump-links-panel\n    // it _could_ contain a shadowRoot with the sections defined in it\n    return (\n      panel.querySelectorAll(`.pfe-jump-links-panel__section`) ||\n      panel.shadowRoot.querySelectorAll(`.pfe-jump-links-panel__section`) ||\n      panel.querySelectorAll(`[id]`)\n    );\n  }\n\n  get links() {\n    return [...this.container.querySelectorAll(\"a\")];\n  }\n\n  get items() {\n    return [...this.shadowRoot.querySelectorAll(`.${this.tag}__item`)];\n  }\n\n  // @TODO It seems like the offset is 0 when non-horizontal jumps links are mobile\n  get offsetValue() {\n    // If the offset attribute has been set, use that (no calculations)\n    if (this.offset) return this.offset;\n\n    // If the offset CSS variable has been set, use that (no calculations)\n    // @TODO: deprecate --pfe-jump-links-panel--offset in 2.0 release\n    // Note: deprecated @1.0 --jump-links-nav--nudge\n    let offsetVariable = this.cssVariable(\"pfe-jump-links--offset\") || this.cssVariable(\"pfe-jump-links-panel--offset\");\n\n    if (offsetVariable) {\n      offsetVariable = this._castPropertyValue(\n        {\n          type: Number,\n        },\n        parseInt(offsetVariable, 10)\n      );\n      if (offsetVariable && offsetVariable >= 0) return offsetVariable;\n    }\n\n    //--\n    // If the offsets are not provided, calculate the height of what is currently sticky\n    let height = 0;\n\n    // Get the primary navigation height\n    let navHeightVariable = this.cssVariable(`pfe-navigation--Height--actual`);\n    if (navHeightVariable) {\n      navHeightVariable = this._castPropertyValue(\n        {\n          type: Number,\n        },\n        parseInt(navHeightVariable, 10)\n      );\n      if (navHeightVariable && navHeightVariable > 0) height = navHeightVariable;\n    }\n\n    // If this is mobile or horizontal & current stuck, return with the nav-height only\n    if (this.stuck && (this.isMobile || this.horizontal)) return height;\n\n    // If this is not a horizontal jump link, check if any other horizontal jump links exist\n    let stickyJumpLinks = this.cssVariable(\"pfe-jump-links--Height--actual\");\n    if (stickyJumpLinks) {\n      stickyJumpLinks = this._castPropertyValue(\n        {\n          type: Number,\n        },\n        parseInt(stickyJumpLinks, 10)\n      );\n      if (stickyJumpLinks && stickyJumpLinks > 0) height = height + stickyJumpLinks;\n    }\n\n    // No offset if this is a horizontal element, should sit beneath the pfe-navigation (if it exists)\n    return height;\n  }\n\n  constructor() {\n    super(PfeJumpLinksNav, {\n      type: PfeJumpLinksNav.PfeType,\n    });\n\n    this.currentActive;\n    this.isBuilding = false;\n    this.isVisible = false;\n\n    // This flag indicates if the rebuild should update the light DOM\n    this.update = false;\n    this._panel, this._sections;\n    this._clicked = false;\n\n    this.build = this.build.bind(this);\n    this.rebuild = this.rebuild.bind(this);\n    this.active = this.active.bind(this);\n    this.inactive = this.inactive.bind(this);\n    this.clearActive = this.clearActive.bind(this);\n    this.getActive = this.getActive.bind(this);\n    this.closeAccordion = this.closeAccordion.bind(this);\n    this.scrollToSection = this.scrollToSection.bind(this);\n    this.updateItem = this.updateItem.bind(this);\n    this.updateLightDOM = this.updateLightDOM.bind(this);\n\n    this._buildWrapper = this._buildWrapper.bind(this);\n    this._buildItem = this._buildItem.bind(this);\n    this._isValidLightDom = this._isValidLightDom.bind(this);\n    this._reportHeight = this._reportHeight.bind(this);\n    this._updateOffset = this._updateOffset.bind(this);\n    this._checkVisible = this._checkVisible.bind(this);\n\n    this._stickyHandler = this._stickyHandler.bind(this);\n    this._clickHandler = this._clickHandler.bind(this);\n    this._scrollHandler = this._scrollHandler.bind(this);\n    this._resizeHandler = this._resizeHandler.bind(this);\n    this._mutationHandler = this._mutationHandler.bind(this);\n    this._panelChangedHandler = this._panelChangedHandler.bind(this);\n    // this._keyboardHandler = this._keyboardHandler.bind(this);\n\n    this._observer = new MutationObserver(this._mutationHandler);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    // Do not try to render navigation in IE11\n    if (this.isIE11) {\n      this.setAttribute(\"hidden\", \"\");\n      return;\n    }\n\n    // Attaches necessary listeners; does not include the mutation observer\n    // because that is attached after processing the component\n    this._attachListeners(PfeJumpLinksNav.events);\n\n    // Check that the light DOM is there and accurate\n    if (!this.autobuild && this._isValidLightDom()) {\n      this.updateLightDOM();\n    } else if (this.autobuild) {\n      // Try to build the navigation based on the panel\n      this.build();\n    }\n\n    // Capture the updated UL tag\n    const menu = this.querySelector(\"ul, ol\");\n    // If the menu is found, process and move to the shadow DOM\n    if (!menu) {\n      // Throw a warning if the menu could not be built\n      this.warn(`Navigation could not be built.`);\n    } else {\n      // Move the menu into the shadow DOM\n      this._toShadowDOM(menu);\n      // Update the offset if necessary\n      this._updateOffset();\n\n      // Check if this navigation element is visible\n      const visible = this._checkVisible();\n      const idx = this.getActive();\n\n      // Activate initial active item\n      if (visible && idx >= 0) this.active(idx);\n      else if (visible) this.active(0);\n      // @TODO: would be good to set the last item as active if the visible nav is below this one\n    }\n\n    // Trigger the mutation observer\n    this._observer.observe(this, PfeJumpLinksNav.observer);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this._dettachListeners(PfeJumpLinksNav.events);\n  }\n\n  /**\n   * Builds the navigation based on the provided data or the defined sections\n   * @param {NodeList} [sections=this.sections] List of the sections the navigation should link to\n   */\n  build(sections = this.sections) {\n    // Can't build the navigation dynamically without sections defined\n    if (!sections) return;\n\n    // Convert NodeList to array\n    sections = [...sections];\n\n    this.isBuilding = true;\n\n    // Validations complete, start the build\n    let child;\n    let wrapper = this._buildWrapper();\n    let currentWrapper = wrapper;\n    let previousWrapper = currentWrapper;\n\n    // Build markup for the navigation\n    for (let i = 0; i < sections.length; i++) {\n      const sectionHeading = sections[i];\n      let is_subsection = sectionHeading.classList.contains(\"sub-section\");\n      let has_subsection = sectionHeading.classList.contains(\"has-sub-section\");\n\n      // Get ID for the navigation\n      let id = sectionHeading.id;\n      if (!id) {\n        let spacer = sectionHeading.previousElementSibling;\n        if (spacer && spacer.classList.contains(\"pfe-jump-links__section--spacer\") && spacer.id) {\n          id = spacer.id;\n        } else {\n          sectionHeading.id = this.randomId.replace(\"pfe-\", \"pfe-jump-links--\");\n          id = sectionHeading.id;\n        }\n      }\n\n      // Build the li tag; the child item\n      child = this._buildItem(\n        {\n          target: id,\n          content: sectionHeading.getAttribute(\"nav-label\") || sectionHeading.textContent,\n          subsection: has_subsection,\n        },\n        is_subsection\n      );\n\n      // Add the item to the list\n      currentWrapper.appendChild(child);\n\n      if (has_subsection) {\n        previousWrapper = currentWrapper;\n        currentWrapper = this._buildWrapper(\"sub-nav\");\n        child.appendChild(currentWrapper);\n      }\n\n      // If the next item exists and is a sub-section, reset the ul build to the previous one\n      if (sections[i + 1] && !sections[i + 1].classList.contains(\"sub-section\")) {\n        currentWrapper = previousWrapper || wrapper;\n      }\n    }\n\n    this.isBuilding = false;\n\n    // Return the mark-up\n    this.innerHTML = \"\";\n    this.appendChild(wrapper);\n  }\n\n  /**\n   * Close the mobile accordion\n   * @requires {Boolean} [this.isMobile] Indicates whether the navigation is in a mobile state\n   * @requires {Boolean} [this.accordionCollapseTiming=750]\n   */\n  closeAccordion() {\n    if (!this.isMobile) return;\n\n    const accordion = this.shadowRoot.querySelector(\"pfe-accordion\");\n    // After a short wait, close the accordion\n    setTimeout(() => {\n      Promise.all([customElements.whenDefined(\"pfe-accordion\")]).then(() => {\n        accordion.collapseAll();\n      });\n    }, this.accordionCollapseTiming);\n  }\n\n  /**\n   * Rebuild the navigation if the sections or panels are updated\n   */\n  rebuild() {\n    // If the build is happening, wait until it is complete\n    if (this.isBuilding) {\n      setTimeout(this.rebuild, 10);\n    } else {\n      // Re-render the template if necessary\n      // If this is a mobile state and it does use an accordion, or vise-versa\n      if (\n        (this.isMobile && !this.shadowRoot.querySelector(\"pfe-accordion\")) ||\n        (!this.isMobile && this.shadowRoot.querySelector(\"pfe-accordion\"))\n      ) {\n        this.render();\n      }\n\n      let menu;\n\n      if (this.autobuild && this.update) {\n        menu = this.build();\n      } else {\n        menu = this.querySelector(\"ul\");\n      }\n\n      // Move the menu into the shadow DOM\n      if (menu && this.container.innerHTML !== menu.outerHTML.toString()) {\n        this.container.innerHTML = menu.outerHTML.toString();\n      }\n\n      this._updateOffset();\n\n      // Activate initial active item\n      this.active(this.getActive());\n\n      // Attach the event listeners\n      this.items.forEach((item) => {\n        item.querySelector(\"a\").addEventListener(\"click\", this._clickHandler);\n      });\n    }\n\n    this.update = false;\n  }\n\n  /**\n   * @param {} item Accepts an index or the link element itself\n   */\n  active(item) {\n    let idx;\n    let items = this.items;\n\n    if (typeof item === \"number\") idx = item;\n    else idx = items.findIndex((el) => el === item);\n\n    // If idx is less than 0, it could not be found\n    if (idx < 0 || idx >= items.length || !items[idx]) return;\n\n    // If found, clear current active items\n    this.clearActive();\n    this.currentActive = idx;\n\n    const li = items[idx].closest(\"li\");\n    const parentli = li.closest(\"ul\").closest(\"li\");\n    const is_subsection = li.classList.contains(\"sub-section\");\n    const has_subsection = li.classList.contains(\"has-sub-section\");\n\n    // Set the item's active attribute\n    li.setAttribute(\"active\", \"\");\n\n    if (has_subsection) li.setAttribute(\"expand\", \"\");\n    else if (is_subsection) parentli.setAttribute(\"expand\", \"\");\n\n    // Emit event for tracking\n    this.emitEvent(PfeJumpLinksNav.events.activeNavItem, {\n      detail: {\n        activeNavItem: idx,\n      },\n    });\n  }\n\n  getActive() {\n    // If there are no sections, we can't process\n    // @TODO: should this processing even be happening?\n    if (!this.sections) return;\n\n    // Make an array from the node list\n    const sections = [...this.sections];\n\n    // Capture the offset to prevent recalculation below\n    const offset = this.offsetValue;\n\n    // Get all the sections that match this point in the scroll\n    const matches = sections.filter((section, idx) => {\n      const viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n\n      // @TODO: The next logic only works for scrolling down; need to reverse for scrolling up\n      const next = sections[idx + 1];\n      const nextTop = next ? next.getBoundingClientRect().top : 0;\n      const sectionTop = section.getBoundingClientRect().top;\n\n      // If the top of this section is greater than/equal to the offset\n      // and if there is a next item, that item is\n      // or the bottom is less than the height of the window\n      return (\n        sectionTop >= 0 &&\n        sectionTop <= viewportHeight &&\n        (!next ||\n          (nextTop >= offset &&\n            // Check whether the previous section is closer than the next section\n            offset - sectionTop < nextTop - offset))\n      );\n    });\n\n    // Don't change anything if no items were found\n    if (!matches || matches.length === 0) return;\n\n    // Identify the first one queried as the current section\n    return sections.indexOf(matches[0]);\n  }\n\n  inactive(item) {\n    let idx;\n    let items = this.items;\n\n    if (typeof item === \"number\") idx = item;\n    else idx = items.findIndex((el) => el === item);\n\n    // If idx is less than 0, it could not be found\n    if (idx < 0 || idx >= items.length || !items[idx]) return;\n\n    const li = items[idx].closest(\"li\");\n    const parentli = li.closest(\"ul\").closest(\"li\");\n    const is_subsection = li.classList.contains(\"sub-section\");\n    const has_subsection = li.classList.contains(\"has-sub-section\");\n\n    li.removeAttribute(\"active\");\n\n    if (has_subsection) li.removeAttribute(\"expand\");\n    else if (is_subsection) parentli.removeAttribute(\"expand\");\n  }\n\n  clearActive() {\n    const items = this.items;\n    items.forEach((item) => this.inactive(item));\n  }\n\n  /**\n   * Attach the listeners\n   * @param {Object} Definition of available events\n   */\n  _attachListeners(events) {\n    // Listen for a change in the panel content if the navigation is autobuilt\n    // need to reflect changes in the navigation markup\n    if (this.autobuild) {\n      document.addEventListener(PfeJumpLinksNav.events.change, this._panelChangedHandler);\n    }\n\n    window.addEventListener(events.resize, this._resizeHandler);\n    window.addEventListener(events.scroll, this._scrollHandler);\n    // window.addEventListener(events.keyup, this._keyboardHandler);\n\n    // If the stickiness changes, update the sticky navigation offset\n    window.addEventListener(events.stuck, this._updateOffset);\n\n    // @TODO respond to URL change? Ensure anchor link alignment accounts for sticky nav(s)\n    // window.addEventListener(\"locationchange\", (evt) => console.log(\"locationchange\", evt));\n    // window.addEventListener(\"hashchange\", (evt) => console.log(\"hashchange\", evt));\n  }\n\n  /**\n   * Remove the listeners\n   * @param {Object} Definition of available events\n   */\n  _dettachListeners(events) {\n    this._observer.disconnect();\n\n    document.removeEventListener(events.change, this._panelChangedHandler);\n\n    window.removeEventListener(events.resize, this._resizeHandler);\n    window.removeEventListener(events.scroll, this._scrollHandler);\n    window.removeEventListener(events.keyup, this._keyboardHandler);\n\n    // If the stickiness changes, update the sticky navigation offset\n    window.removeEventListener(events.stuck, this._updateOffset);\n\n    // @TODO respond to URL change? Ensure anchor link alignment accounts for sticky nav(s)\n    // window.removeEventListener(\"locationchange\", (evt) => console.log(\"locationchange\", evt));\n    // window.removeEventListener(\"hashchange\", (evt) => console.log(\"hashchange\", evt));\n  }\n\n  _buildItem(data, isSubSection = false) {\n    let item = document.createElement(\"li\");\n    item.className = `${this.tag}__item`;\n\n    let link = document.createElement(\"a\");\n    link.className = `${this.tag}__link`;\n    link.href = `#${data.target}`;\n    link.setAttribute(\"data-target\", data.target);\n    link.innerHTML = data.content;\n\n    if (data.subsection) item.classList.add(\"has-sub-section\");\n    if (isSubSection) item.classList.add(\"sub-section\");\n\n    item.appendChild(link);\n    return item;\n  }\n\n  _buildWrapper(className = \"pfe-jump-links-nav\") {\n    let wrapper = document.createElement(\"ul\");\n    wrapper.className = className;\n    return wrapper;\n  }\n\n  _siblingJumpLinks(filterMethod = (item) => item !== this) {\n    return PfeJumpLinksNav.instances.filter(filterMethod);\n  }\n\n  /**\n   * Report the height of the jump links navigation\n   */\n  _reportHeight() {\n    let height = 0;\n\n    // Check all elements to see if any are sticky and in horizontal or mobile state\n    const stuckItems = this._siblingJumpLinks((item) => item.stuck && (item.horizontal || item.isMobile));\n\n    if (stuckItems.length > 0) {\n      // Get the height of the last sticky element in the DOM tree\n      height = stuckItems[stuckItems.length - 1].getBoundingClientRect().height;\n\n      // @TODO Do other items in the stack need to be unstuck?\n      // Unstick the other items by popping off the last item in the array\n      // stuckItems.pop();\n      // Set the rest of the items stuck attribute to false\n      // stuckItems.forEach(item => item.stuck = false);\n    }\n\n    // Check if we need to update the variable:\n    const currentHeight = this.cssVariable(`pfe-jump-links--Height--actual`, null, document.body);\n    if (!currentHeight || parseInt(currentHeight, 10) !== height) {\n      // If there are no other sticky jump links, set the height on the body\n      // Note: we set it on the body to be consistent with pfe-navigation\n      this.cssVariable(`pfe-jump-links--Height--actual`, `${height}px`, document.body);\n    }\n  }\n\n  /**\n   * Validate the provided light DOM and provide helpful console messages\n   * to facilitate debugging\n   */\n  _isValidLightDom() {\n    let valid = true;\n\n    if ((!this.hasLightDOM() || (!this.querySelector(\"ul\") && !this.querySelector(\"ol\"))) && !this.autobuild) {\n      this.warn(\n        `This component requires a list in the light DOM to .\\nAlternatively, add the \\`autobuild\\` attribute to dynamically generate the list from the provided panel.`\n      );\n      valid = false;\n    }\n\n    if (this.logo && !this.horizontal) {\n      this.warn(`The logo slot is NOT supported in vertical jump links.`);\n      // Gentle warning, CSS force-hides this content\n      // valid = false;\n    }\n\n    if (this.cta && !this.horizontal) {\n      this.warn(`The link slot is NOT supported in vertical jump links.`);\n      // Gentle warning, CSS force-hides this content\n      // valid = false;\n    }\n\n    // Gentle warning\n    if (Number.isInteger(Number(this.customVar))) {\n      this.warn(\n        \"Using an integer with a unit is not supported for custom property --pfe-jump-links-panel--offset. The component strips the unit using parseInt(). For example so 1rem would become 1 and behave as if you had entered 1px. Values with a pixel unit will behave correctly.\"\n      );\n    }\n\n    return valid;\n  }\n\n  updateItem(item, nested = false) {\n    item.classList = `${this.tag}__item${nested ? ` sub-section` : ``}`;\n    const link = item.querySelector(\"a\");\n    link.classList = `${this.tag}__link`;\n    const nestedList = item.querySelector(\"ul\");\n    if (nestedList) {\n      item.classList.add(\"has-sub-section\");\n      nestedList.querySelectorAll(\":scope > li\").forEach((item) => this.updateItem(item, true));\n    }\n  }\n\n  updateLightDOM() {\n    const menu = this.querySelector(\"ul\");\n\n    // Update the mark-up in the light DOM if necessary\n    // If the class is not already on the list wrapper\n    menu.classList = this.tag;\n\n    // Ensure valid identifiers on the provided mark-up\n    menu.querySelectorAll(\":scope > li\").forEach((item) => this.updateItem(item));\n  }\n\n  _toShadowDOM(menu) {\n    if (this.container.innerHTML !== menu.outerHTML.toString()) {\n      this.container.innerHTML = menu.outerHTML.toString();\n    }\n\n    // Attach the event listeners\n    this.links.forEach((link) => {\n      link.addEventListener(\"click\", this._clickHandler);\n    });\n  }\n\n  _checkVisible() {\n    this.isVisible =\n      this.getBoundingClientRect().top <= document.documentElement.clientHeight &&\n      this.getBoundingClientRect().right >= 0 &&\n      this.getBoundingClientRect().bottom >= 0 &&\n      this.getBoundingClientRect().left <= document.documentElement.clientWidth;\n\n    return this.isVisible;\n  }\n\n  // This updates the offset value on this component based on the reported offset height on the document\n  _updateOffset() {\n    this._reportHeight();\n\n    // Set the offset on the nav element\n    if (this.horizontal) this.style.top = `${this.offsetValue}px`;\n    else this.style.top = `${this.offsetValue + 20}px`;\n  }\n\n  /**\n   * Click events on the navigation items\n   * Prevents conflicts between scroll state and user choice\n   * @param {ClickEvent} evt\n   */\n  _clickHandler(evt) {\n    const link = evt.target;\n    const li = link.closest(`.${this.tag}__item`);\n\n    // Set this item as active\n    this.active(li);\n\n    // Escaping here if no sections are defined and letting default behavior\n    // handle the scrolling\n    if (!this.sections) return;\n\n    const idx = [...this.sections].findIndex((item) => item.id === link.hash.replace(\"#\", \"\"));\n\n    // Escaping if we can't find this link in our sections\n    if (idx < 0) return;\n\n    // If we have defined sections, use custom scrolling placement\n    evt.preventDefault();\n\n    this._clicked = true;\n\n    // Update the URL but don't impact the back button\n    history.replaceState({}, \"\", link.href);\n\n    this.scrollToSection(idx);\n  }\n\n  /**\n   * This handles scrolling to a section in the panel on click\n   * @param {Number} Index of the section to scroll-to\n   * @TODO On page load, if an anchor exists, fire this event\n   */\n  scrollToSection(idx) {\n    // Get the offset value to scroll-to\n    const section = this.sections[idx];\n    const offset = this.offsetValue;\n\n    // Update stickiness if necessary\n    this.stuck = !!(this.getBoundingClientRect().top === offset);\n\n    // Initialize the target we want to scroll to\n    let scrollTarget = window.pageYOffset + section.getBoundingClientRect().top;\n\n    // If the section uses the spacers, don't include the calculations below\n    if (!section.classList.contains(\"pfe-jump-links__section--spacer\")) {\n      // Top of the section minus the calculated offset via nav\n      scrollTarget = scrollTarget - offset;\n\n      // Account for it's height as well\n      // this.offsetVar does not account for this because this only affects scrolling to sections\n      let height = 0;\n\n      if (this.horizontal) height = this.getBoundingClientRect().height;\n\n      // On mobile, get the accordion-header height rather than the height of the full component\n      // this prevents the height from taking into account the open accordion tray\n      if (this.isMobile) {\n        const accordionHeader = this.shadowRoot.querySelector(\"pfe-accordion-header\");\n        height = accordionHeader.getBoundingClientRect().height - this.getBoundingClientRect().height;\n      }\n\n      if (height > 0) scrollTarget = scrollTarget - height;\n    }\n\n    // If the section has a custom offset attribute defined, use that; default to 20\n    // 20 default is so that the headings aren't smooshed against the sticky navigation\n    let itemOffset = 20;\n    if (section.hasAttribute(\"offset\")) {\n      // Use the property casting from PFElement\n      const sectionOffsetProp = this._castPropertyValue(\n        {\n          type: Number,\n        },\n        parseInt(section.getAttribute(\"offset\"), 10)\n      );\n      if (sectionOffsetProp) itemOffset = sectionOffsetProp;\n    } else if (this.panel && this.panel.offset) {\n      itemOffset = this.panel.offset;\n    }\n\n    // This is the point that we're scrolling to\n    scrollTarget = scrollTarget - itemOffset;\n\n    // Prevent negative position scrolling\n    if (scrollTarget < 0) scrollTarget = 0;\n\n    // Use JS to fire the scroll event\n    // smooth-scroll CSS support is spotty and complicated\n    // especially as relates to offsets; this was a faster\n    // solution for managing state changes\n    window.scroll({\n      top: scrollTarget,\n      behavior: \"smooth\",\n    });\n\n    // Close the accordion\n    this.closeAccordion();\n\n    // Update stickiness if necessary\n    this.stuck = !!(this.getBoundingClientRect().top === offset);\n\n    setTimeout(() => {\n      // Update the focus state\n      section.focus();\n\n      this._clicked = false;\n    }, 1000);\n  }\n\n  /**\n   * Sticky state handler; emits event with change in sticky state\n   * @param {String} oldVal\n   * @param {String} newVal\n   */\n  _stickyHandler(oldVal, newVal) {\n    // If there is no change, do nothing\n    if (oldVal === newVal) return;\n\n    this._reportHeight();\n\n    this.emitEvent(PfeJumpLinksNav.events.stuck, {\n      detail: {\n        stuck: newVal,\n      },\n    });\n  }\n\n  /**\n   * Scrolling event processing; control stickiness and active state\n   */\n  _scrollHandler() {\n    // If this is from a click event, do nothing\n    if (this._clicked) return;\n\n    clearTimeout(this._scrollHandler._tId);\n    this._scrollHandler._tId = setTimeout(() => {\n      // Check the current visibility of this jump links navigation\n      this._checkVisible();\n\n      // If this navigation is not visible, exit processing now\n      if (!this.isVisible) return;\n\n      this.stuck = !!(this.getBoundingClientRect().top === this.offsetValue);\n\n      const currentIdx = this.getActive();\n\n      // If that section isn't already active,\n      // remove active from the other links and make it active\n      if (currentIdx >= 0 && currentIdx !== this.currentActive) {\n        this.currentActive = currentIdx;\n\n        this.active(currentIdx);\n      }\n    }, 10);\n  }\n\n  /**\n   * Rebuild the navigation on resize if the view has changed from mobile->desktop or vise versa\n   */\n  _resizeHandler() {\n    this.rebuild();\n  }\n\n  /**\n   * Run the rebuild when the mutation observer sees change\n   */\n  _mutationHandler() {\n    // Ignore the mutation if using autobuild\n    if (this.autobuild) return;\n\n    this.update = true;\n    this.rebuild();\n  }\n\n  /**\n   * Panel changed event\n   */\n  _panelChangedHandler() {\n    // If this is manually built, we don't need to process the panel change\n    if (!this.autobuild) return;\n\n    this.update = true;\n\n    // Reset the sections object to allow refetching\n    this._sections = null;\n\n    this.rebuild();\n  }\n\n  /**\n   * Keyboard event manager\n   */\n  // @TODO: Add a keyboard handler when focus is set on the parent via keyboard; should expand\n  // _keyboardHandler() {\n  // Handle the focus state to expand parent when child is focused\n  // }\n}\n\nexport default PfeJumpLinksNav;\n","/*!\n * PatternFly Elements: PfeJumpLinks 1.12.3\n * @license\n * Copyright 2021 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../../pfelement/dist/pfelement.js\";\n\nclass PfeJumpLinksPanel extends PFElement {\n\n  // Injected at build-time\n  static get version() {\n    return \"1.12.3\";\n  }\n\n  static get tag() {\n    return \"pfe-jump-links-panel\";\n  }\n\n  /**\n   * No custom styles for the panel or template mark-up; just a slot\n   */\n  get html() {\n    return `<slot></slot>`;\n  }\n\n  static get events() {\n    return {\n      change: `${this.tag}:change`,\n    };\n  }\n\n  static get observer() {\n    return {\n      childList: true,\n      subtree: true,\n      // characterData: true,\n      // attributes: true,\n    };\n  }\n\n  static get PfeType() {\n    return PFElement.PfeTypes.Content;\n  }\n\n  static get properties() {\n    return {\n      offset: {\n        title: \"Offset\",\n        type: Number,\n      },\n      scrolltarget: {\n        title: \"Scroll target\",\n        type: String,\n      },\n      spacers: {\n        title: \"Inject spacers\",\n        type: Boolean,\n        default: false,\n        observer: \"_makeSpacers\",\n      },\n      // @TODO: Deprecated in 1.0\n      oldOffset: {\n        alias: \"offset\",\n        attr: \"pfe-c-offset\",\n      },\n      // @TODO: Deprecated in 1.0\n      oldScrolltarget: {\n        alias: \"scrolltarget\",\n        attr: \"pfe-c-scrolltarget\",\n      },\n    };\n  }\n  /**\n   * @param {NodeList} Returns all elements from the panel's light DOM with the class .pfe-jump-links-panel__section\n   */\n  get sections() {\n    return this.querySelectorAll(`.${this.tag}__section`);\n  }\n\n  constructor() {\n    super(PfeJumpLinksPanel, { type: PfeJumpLinksPanel.PfeType });\n\n    this._init = this._init.bind(this);\n    this._makeSpacers = this._makeSpacers.bind(this);\n    this._isValidMarkup = this._isValidMarkup.bind(this);\n\n    this._observer = new MutationObserver(() => {\n      this._init();\n\n      // Emit an event indicating a change to the panel\n      this.emitEvent(PfeJumpLinksPanel.events.change, {});\n    });\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this._init();\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this._observer.disconnect();\n  }\n\n  _isValidMarkup() {\n    if ([...this.sections].length === 0) {\n      this.warn(\n        `This panel does not contain any headings labeled with the ${this.tag}__section class. Please add that class and an ID to any heading you would like surfaced in the jump links navigation.`\n      );\n    }\n  }\n\n  _makeSpacers() {\n    if (!this.spacers) return;\n    if (!this.sections || [...this.sections].length <= 0) return;\n\n    // Disconnect the mutation observer to update the spacers\n    this._observer.disconnect();\n\n    [...this.sections].forEach((section) => {\n      const parentEl = section.parentNode;\n      let spacer = section.previousElementSibling;\n\n      // If the previous element is not a spacer, create one\n      if (!spacer || !spacer.classList.contains(\"pfe-jump-links__section--spacer\")) {\n        spacer = document.createElement(\"div\");\n        spacer.classList.add(\"pfe-jump-links__section--spacer\");\n        parentEl.insertBefore(spacer, section);\n      }\n\n      // Move the ID from the section to the spacer\n      if (section.id && (!spacer.id || spacer.id !== section.id)) {\n        spacer.id = section.id;\n        section.removeAttribute(\"id\");\n        section.setAttribute(\"data-target\", spacer.id);\n      }\n\n      spacer.style.marginTop = `calc(-1 * (var(--pfe-navigation--Height--actual, 0px) + var(--pfe-jump-links--Height--actual, 0px)))`;\n      spacer.style.height = `calc(var(--pfe-navigation--Height--actual, 0px) + var(--pfe-jump-links--Height--actual, 0px))`;\n    });\n\n    // Set up the mutation observer\n    this._observer.observe(this, PfeJumpLinksPanel.observer);\n  }\n\n  _init() {\n    // Validate and throw warnings about improper markup\n    this._isValidMarkup();\n\n    // Adding spacers to the panel is opt-in\n    // note: this was because determining the scroll-to point\n    // was easier with the scroll animation than working through\n    // cross-browser support for smooth scroll CSS (looking at Safari)\n    this._makeSpacers();\n  }\n}\n\nexport default PfeJumpLinksPanel;\n","/*!\n * PatternFly Elements: PfeJumpLinks 1.12.3\n * @license\n * Copyright 2021 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../../pfelement/dist/pfelement\";\n\nimport PfeJumpLinksNav from \"./pfe-jump-links-nav.js\";\nimport PfeJumpLinksPanel from \"./pfe-jump-links-panel.js\";\n\n// @TODO Migrate pfe-jump-links-nav to pfe-jump-links in 2.0?\n// class PfeJumpLinks extends PfeJumpLinksNav {\n//     static get tag() {\n//       return \"pfe-jump-links\";\n//     }\n// }\n// PFElement.create(PfeJumpLinks);\n\nPFElement.create(PfeJumpLinksNav);\nPFElement.create(PfeJumpLinksPanel);\n\nexport default { PfeJumpLinksNav, PfeJumpLinksPanel };\n"],"names":["Array","prototype","findIndex","Object","defineProperty","value","predicate","TypeError","o","len","length","thisArg","arguments","k","kValue","call","Element","closest","s","el","matches","parentElement","parentNode","nodeType","PfeJumpLinksNav","isMobile","srText","noHeader","horizontal","events","mobileBreakpoint","window","matchMedia","data","PFElement","breakpoint","lg","match","parseInt","getSlot","shadowRoot","querySelector","NodeItem","_panel","hasAttribute","setAttribute","id","emitEvent","change","target","document","panels","Promise","all","customElements","whenDefined","then","get","instances","panelWithId","filter","panel","getAttribute","randomId","warn","NodeList","_sections","autobuild","links","querySelectorAll","ids","map","link","href","split","pop","join","container","tag","offset","offsetVariable","cssVariable","_castPropertyValue","type","Number","height","navHeightVariable","stuck","stickyJumpLinks","PfeTypes","Content","activeNavItem","resize","scroll","keyup","childList","subtree","characterData","title","Boolean","default","String","color","values","accordionCollapseTiming","attr","observer","oldAutobuild","alias","oldHorizontal","oldColor","PfeType","currentActive","isBuilding","isVisible","update","_clicked","build","bind","rebuild","active","inactive","clearActive","getActive","closeAccordion","scrollToSection","updateItem","updateLightDOM","_buildWrapper","_buildItem","_isValidLightDom","_reportHeight","_updateOffset","_checkVisible","_stickyHandler","_clickHandler","_scrollHandler","_resizeHandler","_mutationHandler","_panelChangedHandler","_observer","MutationObserver","isIE11","_attachListeners","menu","_toShadowDOM","visible","idx","observe","_dettachListeners","sections","child","wrapper","currentWrapper","previousWrapper","i","sectionHeading","is_subsection","classList","contains","has_subsection","spacer","previousElementSibling","replace","content","textContent","subsection","appendChild","innerHTML","accordion","setTimeout","collapseAll","render","outerHTML","toString","items","forEach","item","addEventListener","li","parentli","detail","offsetValue","section","viewportHeight","innerHeight","documentElement","clientHeight","next","nextTop","getBoundingClientRect","top","sectionTop","indexOf","removeAttribute","disconnect","removeEventListener","_keyboardHandler","isSubSection","createElement","className","add","filterMethod","stuckItems","_siblingJumpLinks","currentHeight","body","valid","hasLightDOM","logo","cta","isInteger","customVar","nested","nestedList","right","bottom","left","clientWidth","style","evt","hash","preventDefault","history","replaceState","scrollTarget","pageYOffset","accordionHeader","itemOffset","sectionOffsetProp","behavior","focus","oldVal","newVal","clearTimeout","_tId","currentIdx","PfeJumpLinksPanel","scrolltarget","spacers","oldOffset","oldScrolltarget","_init","_makeSpacers","_isValidMarkup","parentEl","insertBefore","marginTop","create"],"mappings":"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"}